function by(e,t){for(var a=0;a<t.length;a++){const n=t[a];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();function rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _y(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(a,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),a}var lf={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=Symbol.for("react.transitional.element"),wy=Symbol.for("react.fragment");function of(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var s in t)s!=="key"&&(a[s]=t[s])}else a=t;return t=a.ref,{$$typeof:xy,type:e,key:n,ref:t!==void 0?t:null,props:a}}ml.Fragment=wy;ml.jsx=of;ml.jsxs=of;lf.exports=ml;var o=lf.exports,uf={exports:{}},X={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=Symbol.for("react.transitional.element"),Sy=Symbol.for("react.portal"),jy=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),Ty=Symbol.for("react.consumer"),Ay=Symbol.for("react.context"),Oy=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),ky=Symbol.for("react.memo"),cf=Symbol.for("react.lazy"),Ry=Symbol.for("react.activity"),Fc=Symbol.iterator;function Dy(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hf=Object.assign,ff={};function Es(e,t,a){this.props=e,this.context=t,this.refs=ff,this.updater=a||df}Es.prototype.isReactComponent={};Es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mf(){}mf.prototype=Es.prototype;function Hu(e,t,a){this.props=e,this.context=t,this.refs=ff,this.updater=a||df}var Gu=Hu.prototype=new mf;Gu.constructor=Hu;hf(Gu,Es.prototype);Gu.isPureReactComponent=!0;var Wc=Array.isArray;function Co(){}var ye={H:null,A:null,T:null,S:null},gf=Object.prototype.hasOwnProperty;function Vu(e,t,a){var n=a.ref;return{$$typeof:Lu,type:e,key:t,ref:n!==void 0?n:null,props:a}}function zy(e,t){return Vu(e.type,t,e.props)}function Qu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lu}function Uy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var ed=/\/+/g;function Ml(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Uy(""+e.key):t.toString(36)}function My(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Co,Co):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Hn(e,t,a,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Lu:case Sy:r=!0;break;case cf:return r=e._init,Hn(r(e._payload),t,a,n,s)}}if(r)return s=s(e),r=n===""?"."+Ml(e,0):n,Wc(s)?(a="",r!=null&&(a=r.replace(ed,"$&/")+"/"),Hn(s,t,a,"",function(c){return c})):s!=null&&(Qu(s)&&(s=zy(s,a+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(ed,"$&/")+"/")+r)),t.push(s)),1;r=0;var l=n===""?".":n+":";if(Wc(e))for(var u=0;u<e.length;u++)n=e[u],i=l+Ml(n,u),r+=Hn(n,t,a,i,s);else if(u=Dy(e),typeof u=="function")for(e=u.call(e),u=0;!(n=e.next()).done;)n=n.value,i=l+Ml(n,u++),r+=Hn(n,t,a,i,s);else if(i==="object"){if(typeof e.then=="function")return Hn(My(e),t,a,n,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Yi(e,t,a){if(e==null)return e;var n=[],s=0;return Hn(e,n,"","",function(i){return t.call(a,i,s++)}),n}function qy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var td=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},By={map:Yi,forEach:function(e,t,a){Yi(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return Yi(e,function(){t++}),t},toArray:function(e){return Yi(e,function(t){return t})||[]},only:function(e){if(!Qu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Activity=Ry;X.Children=By;X.Component=Es;X.Fragment=jy;X.Profiler=Ny;X.PureComponent=Hu;X.StrictMode=Ey;X.Suspense=Cy;X.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;X.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ye.H.useMemoCache(e)}};X.cache=function(e){return function(){return e.apply(null,arguments)}};X.cacheSignal=function(){return null};X.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=hf({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!gf.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var r=Array(i),l=0;l<i;l++)r[l]=arguments[l+2];n.children=r}return Vu(e.type,s,n)};X.createContext=function(e){return e={$$typeof:Ay,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Ty,_context:e},e};X.createElement=function(e,t,a){var n,s={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)gf.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(s[n]=t[n]);var r=arguments.length-2;if(r===1)s.children=a;else if(1<r){for(var l=Array(r),u=0;u<r;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in r=e.defaultProps,r)s[n]===void 0&&(s[n]=r[n]);return Vu(e,i,s)};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Oy,render:e}};X.isValidElement=Qu;X.lazy=function(e){return{$$typeof:cf,_payload:{_status:-1,_result:e},_init:qy}};X.memo=function(e,t){return{$$typeof:ky,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=ye.T,a={};ye.T=a;try{var n=e(),s=ye.S;s!==null&&s(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Co,td)}catch(i){td(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),ye.T=t}};X.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()};X.use=function(e){return ye.H.use(e)};X.useActionState=function(e,t,a){return ye.H.useActionState(e,t,a)};X.useCallback=function(e,t){return ye.H.useCallback(e,t)};X.useContext=function(e){return ye.H.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e,t){return ye.H.useDeferredValue(e,t)};X.useEffect=function(e,t){return ye.H.useEffect(e,t)};X.useEffectEvent=function(e){return ye.H.useEffectEvent(e)};X.useId=function(){return ye.H.useId()};X.useImperativeHandle=function(e,t,a){return ye.H.useImperativeHandle(e,t,a)};X.useInsertionEffect=function(e,t){return ye.H.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return ye.H.useLayoutEffect(e,t)};X.useMemo=function(e,t){return ye.H.useMemo(e,t)};X.useOptimistic=function(e,t){return ye.H.useOptimistic(e,t)};X.useReducer=function(e,t,a){return ye.H.useReducer(e,t,a)};X.useRef=function(e){return ye.H.useRef(e)};X.useState=function(e){return ye.H.useState(e)};X.useSyncExternalStore=function(e,t,a){return ye.H.useSyncExternalStore(e,t,a)};X.useTransition=function(){return ye.H.useTransition()};X.version="19.2.0";uf.exports=X;var C=uf.exports;const yf=rf(C);var pf={exports:{}},gl={},vf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,$){var Q=k.length;k.push($);e:for(;0<Q;){var O=Q-1>>>1,D=k[O];if(0<s(D,$))k[O]=$,k[Q]=D,Q=O;else break e}}function a(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var $=k[0],Q=k.pop();if(Q!==$){k[0]=Q;e:for(var O=0,D=k.length,G=D>>>1;O<G;){var ce=2*(O+1)-1,re=k[ce],ve=ce+1,_e=k[ve];if(0>s(re,Q))ve<D&&0>s(_e,re)?(k[O]=_e,k[ve]=Q,O=ve):(k[O]=re,k[ce]=Q,O=ce);else if(ve<D&&0>s(_e,Q))k[O]=_e,k[ve]=Q,O=ve;else break e}}return $}function s(k,$){var Q=k.sortIndex-$.sortIndex;return Q!==0?Q:k.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var u=[],c=[],h=1,y=null,f=3,m=!1,b=!1,_=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function v(k){for(var $=a(c);$!==null;){if($.callback===null)n(c);else if($.startTime<=k)n(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=a(c)}}function j(k){if(_=!1,v(k),!b)if(a(u)!==null)b=!0,S||(S=!0,Le());else{var $=a(c);$!==null&&nt(j,$.startTime-k)}}var S=!1,E=-1,R=5,U=-1;function V(){return x?!0:!(e.unstable_now()-U<R)}function Oe(){if(x=!1,S){var k=e.unstable_now();U=k;var $=!0;try{e:{b=!1,_&&(_=!1,d(E),E=-1),m=!0;var Q=f;try{t:{for(v(k),y=a(u);y!==null&&!(y.expirationTime>k&&V());){var O=y.callback;if(typeof O=="function"){y.callback=null,f=y.priorityLevel;var D=O(y.expirationTime<=k);if(k=e.unstable_now(),typeof D=="function"){y.callback=D,v(k),$=!0;break t}y===a(u)&&n(u),v(k)}else n(u);y=a(u)}if(y!==null)$=!0;else{var G=a(c);G!==null&&nt(j,G.startTime-k),$=!1}}break e}finally{y=null,f=Q,m=!1}$=void 0}}finally{$?Le():S=!1}}}var Le;if(typeof g=="function")Le=function(){g(Oe)};else if(typeof MessageChannel<"u"){var Sa=new MessageChannel,aa=Sa.port2;Sa.port1.onmessage=Oe,Le=function(){aa.postMessage(null)}}else Le=function(){p(Oe,0)};function nt(k,$){E=p(function(){k(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(k){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var Q=f;f=$;try{return k()}finally{f=Q}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Q=f;f=k;try{return $()}finally{f=Q}},e.unstable_scheduleCallback=function(k,$,Q){var O=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?O+Q:O):Q=O,k){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Q+D,k={id:h++,callback:$,priorityLevel:k,startTime:Q,expirationTime:D,sortIndex:-1},Q>O?(k.sortIndex=Q,t(c,k),a(u)===null&&k===a(c)&&(_?(d(E),E=-1):_=!0,nt(j,Q-O))):(k.sortIndex=D,t(u,k),b||m||(b=!0,S||(S=!0,Le()))),k},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(k){var $=f;return function(){var Q=f;f=$;try{return k.apply(this,arguments)}finally{f=Q}}}})(bf);vf.exports=bf;var $y=vf.exports,_f={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=C;function xf(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Na(){}var tt={d:{f:Na,r:function(){throw Error(xf(522))},D:Na,C:Na,L:Na,m:Na,X:Na,S:Na,M:Na},p:0,findDOMNode:null},Hy=Symbol.for("react.portal");function Gy(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hy,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Ps=Ly.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function yl(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt;at.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(xf(299));return Gy(e,t,null,a)};at.flushSync=function(e){var t=Ps.T,a=tt.p;try{if(Ps.T=null,tt.p=2,e)return e()}finally{Ps.T=t,tt.p=a,tt.d.f()}};at.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,tt.d.C(e,t))};at.prefetchDNS=function(e){typeof e=="string"&&tt.d.D(e)};at.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=yl(a,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?tt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:s,fetchPriority:i}):a==="script"&&tt.d.X(e,{crossOrigin:n,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};at.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=yl(t.as,t.crossOrigin);tt.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&tt.d.M(e)};at.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=yl(a,t.crossOrigin);tt.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};at.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=yl(t.as,t.crossOrigin);tt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else tt.d.m(e)};at.requestFormReset=function(e){tt.d.r(e)};at.unstable_batchedUpdates=function(e,t){return e(t)};at.useFormState=function(e,t,a){return Ps.H.useFormState(e,t,a)};at.useFormStatus=function(){return Ps.H.useHostTransitionStatus()};at.version="19.2.0";function wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wf)}catch(e){console.error(e)}}wf(),_f.exports=at;var Vy=_f.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $e=$y,Sf=C,Qy=Vy;function N(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ri(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Ef(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nf(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ad(e){if(Ri(e)!==e)throw Error(N(188))}function Yy(e){var t=e.alternate;if(!t){if(t=Ri(e),t===null)throw Error(N(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return ad(s),e;if(i===n)return ad(s),t;i=i.sibling}throw Error(N(188))}if(a.return!==n.return)a=s,n=i;else{for(var r=!1,l=s.child;l;){if(l===a){r=!0,a=s,n=i;break}if(l===n){r=!0,n=s,a=i;break}l=l.sibling}if(!r){for(l=i.child;l;){if(l===a){r=!0,a=i,n=s;break}if(l===n){r=!0,n=i,a=s;break}l=l.sibling}if(!r)throw Error(N(189))}}if(a.alternate!==n)throw Error(N(190))}if(a.tag!==3)throw Error(N(188));return a.stateNode.current===a?e:t}function Tf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Tf(e),t!==null)return t;e=e.sibling}return null}var pe=Object.assign,Ky=Symbol.for("react.element"),Ki=Symbol.for("react.transitional.element"),Qs=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),Af=Symbol.for("react.strict_mode"),ko=Symbol.for("react.profiler"),Of=Symbol.for("react.consumer"),da=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),Ro=Symbol.for("react.suspense"),Do=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),zo=Symbol.for("react.activity"),Jy=Symbol.for("react.memo_cache_sentinel"),nd=Symbol.iterator;function qs(e){return e===null||typeof e!="object"?null:(e=nd&&e[nd]||e["@@iterator"],typeof e=="function"?e:null)}var Xy=Symbol.for("react.client.reference");function Uo(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xy?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case ko:return"Profiler";case Af:return"StrictMode";case Ro:return"Suspense";case Do:return"SuspenseList";case zo:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Qs:return"Portal";case da:return e.displayName||"Context";case Of:return(e._context.displayName||"Context")+".Consumer";case Yu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ku:return t=e.displayName||null,t!==null?t:Uo(e.type)||"Memo";case Aa:t=e._payload,e=e._init;try{return Uo(e(t))}catch{}}return null}var Ys=Array.isArray,H=Sf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=Qy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vn={pending:!1,data:null,method:null,action:null},Mo=[],Jn=-1;function ea(e){return{current:e}}function Qe(e){0>Jn||(e.current=Mo[Jn],Mo[Jn]=null,Jn--)}function he(e,t){Jn++,Mo[Jn]=e.current,e.current=t}var Wt=ea(null),fi=ea(null),La=ea(null),Rr=ea(null);function Dr(e,t){switch(he(La,t),he(fi,e),he(Wt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?uh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=uh(t),e=Z0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Qe(Wt),he(Wt,e)}function fs(){Qe(Wt),Qe(fi),Qe(La)}function qo(e){e.memoizedState!==null&&he(Rr,e);var t=Wt.current,a=Z0(t,e.type);t!==a&&(he(fi,e),he(Wt,a))}function zr(e){fi.current===e&&(Qe(Wt),Qe(fi)),Rr.current===e&&(Qe(Rr),ji._currentValue=vn)}var ql,sd;function cn(e){if(ql===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ql=t&&t[1]||"",sd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ql+e+sd}var Bl=!1;function $l(e,t){if(!e||Bl)return"";Bl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(m){var f=m}Reflect.construct(e,[],y)}else{try{y.call()}catch(m){f=m}e.call(y.prototype)}}else{try{throw Error()}catch(m){f=m}(y=e())&&typeof y.catch=="function"&&y.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),r=i[0],l=i[1];if(r&&l){var u=r.split(`
`),c=l.split(`
`);for(s=n=0;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(n===u.length||s===c.length)for(n=u.length-1,s=c.length-1;1<=n&&0<=s&&u[n]!==c[s];)s--;for(;1<=n&&0<=s;n--,s--)if(u[n]!==c[s]){if(n!==1||s!==1)do if(n--,s--,0>s||u[n]!==c[s]){var h=`
`+u[n].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=n&&0<=s);break}}}finally{Bl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?cn(a):""}function Zy(e,t){switch(e.tag){case 26:case 27:case 5:return cn(e.type);case 16:return cn("Lazy");case 13:return e.child!==t&&t!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return $l(e.type,!1);case 11:return $l(e.type.render,!1);case 1:return $l(e.type,!0);case 31:return cn("Activity");default:return""}}function id(e){try{var t="",a=null;do t+=Zy(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Bo=Object.prototype.hasOwnProperty,Ju=$e.unstable_scheduleCallback,Ll=$e.unstable_cancelCallback,Py=$e.unstable_shouldYield,Iy=$e.unstable_requestPaint,_t=$e.unstable_now,Fy=$e.unstable_getCurrentPriorityLevel,Cf=$e.unstable_ImmediatePriority,kf=$e.unstable_UserBlockingPriority,Ur=$e.unstable_NormalPriority,Wy=$e.unstable_LowPriority,Rf=$e.unstable_IdlePriority,ep=$e.log,tp=$e.unstable_setDisableYieldValue,Di=null,xt=null;function Ua(e){if(typeof ep=="function"&&tp(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Di,e)}catch{}}var wt=Math.clz32?Math.clz32:sp,ap=Math.log,np=Math.LN2;function sp(e){return e>>>=0,e===0?32:31-(ap(e)/np|0)|0}var Ji=256,Xi=262144,Zi=4194304;function dn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pl(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~i,n!==0?s=dn(n):(r&=l,r!==0?s=dn(r):a||(a=l&~e,a!==0&&(s=dn(a))))):(l=n&~i,l!==0?s=dn(l):r!==0?s=dn(r):a||(a=n&~e,a!==0&&(s=dn(a)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:s}function zi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ip(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Df(){var e=Zi;return Zi<<=1,!(Zi&62914560)&&(Zi=4194304),e}function Hl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ui(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rp(e,t,a,n,s,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(a=r&~a;0<a;){var h=31-wt(a),y=1<<h;l[h]=0,u[h]=-1;var f=c[h];if(f!==null)for(c[h]=null,h=0;h<f.length;h++){var m=f[h];m!==null&&(m.lane&=-536870913)}a&=~y}n!==0&&zf(e,n,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function zf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-wt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Uf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-wt(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function Mf(e,t){var a=t&-t;return a=a&42?1:Xu(a),a&(e.suspendedLanes|t)?0:a}function Xu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function qf(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:rg(e.type))}function rd(e,t){var a=ne.p;try{return ne.p=e,t()}finally{ne.p=a}}var Wa=Math.random().toString(36).slice(2),Ke="__reactFiber$"+Wa,dt="__reactProps$"+Wa,Ns="__reactContainer$"+Wa,$o="__reactEvents$"+Wa,lp="__reactListeners$"+Wa,op="__reactHandles$"+Wa,ld="__reactResources$"+Wa,Mi="__reactMarker$"+Wa;function Pu(e){delete e[Ke],delete e[dt],delete e[$o],delete e[lp],delete e[op]}function Xn(e){var t=e[Ke];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ns]||a[Ke]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=mh(e);e!==null;){if(a=e[Ke])return a;e=mh(e)}return t}e=a,a=e.parentNode}return null}function Ts(e){if(e=e[Ke]||e[Ns]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ks(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(N(33))}function is(e){var t=e[ld];return t||(t=e[ld]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Mi]=!0}var Bf=new Set,$f={};function An(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for($f[e]=t,e=0;e<t.length;e++)Bf.add(t[e])}var up=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),od={},ud={};function cp(e){return Bo.call(ud,e)?!0:Bo.call(od,e)?!1:up.test(e)?ud[e]=!0:(od[e]=!0,!1)}function yr(e,t,a){if(cp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Pi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function na(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function At(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dp(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lo(e){if(!e._valueTracker){var t=Lf(e)?"checked":"value";e._valueTracker=dp(e,t,""+e[t])}}function Hf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Lf(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hp=/[\n"\\]/g;function kt(e){return e.replace(hp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ho(e,t,a,n,s,i,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+At(t)):e.value!==""+At(t)&&(e.value=""+At(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Go(e,r,At(t)):a!=null?Go(e,r,At(a)):n!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+At(l):e.removeAttribute("name")}function Gf(e,t,a,n,s,i,r,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Lo(e);return}a=a!=null?""+At(a):"",t=t!=null?""+At(t):a,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Lo(e)}function Go(e,t,a){t==="number"&&Mr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function rs(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+At(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vf(e,t,a){if(t!=null&&(t=""+At(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+At(a):""}function Qf(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(N(92));if(Ys(n)){if(1<n.length)throw Error(N(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=At(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Lo(e)}function gs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var fp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||fp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Yf(e,t,a){if(t!=null&&typeof t!="object")throw Error(N(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&cd(e,s,n)}else for(var i in t)t.hasOwnProperty(i)&&cd(e,i,t[i])}function Iu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pr(e){return gp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ha(){}var Vo=null;function Fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zn=null,ls=null;function dd(e){var t=Ts(e);if(t&&(e=t.stateNode)){var a=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ho(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[dt]||null;if(!s)throw Error(N(90));Ho(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Hf(n)}break e;case"textarea":Vf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&rs(e,!!a.multiple,t,!1)}}}var Gl=!1;function Kf(e,t,a){if(Gl)return e(t,a);Gl=!0;try{var n=e(t);return n}finally{if(Gl=!1,(Zn!==null||ls!==null)&&(Ol(),Zn&&(t=Zn,e=ls,ls=Zn=null,dd(t),e)))for(t=0;t<e.length;t++)dd(e[t])}}function mi(e,t){var a=e.stateNode;if(a===null)return null;var n=a[dt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(N(231,t,typeof a));return a}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=!1;if(pa)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Qo=!1}var Ma=null,Wu=null,vr=null;function Jf(){if(vr)return vr;var e,t=Wu,a=t.length,n,s="value"in Ma?Ma.value:Ma.textContent,i=s.length;for(e=0;e<a&&t[e]===s[e];e++);var r=a-e;for(n=1;n<=r&&t[a-n]===s[i-n];n++);return vr=s.slice(e,1<n?1-n:void 0)}function br(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function hd(){return!1}function ht(e){function t(a,n,s,i,r){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(a=e[l],this[l]=a?a(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ii:hd,this.isPropagationStopped=hd,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),t}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=ht(On),qi=pe({},On,{view:0,detail:0}),yp=ht(qi),Vl,Ql,$s,bl=pe({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(Vl=e.screenX-$s.screenX,Ql=e.screenY-$s.screenY):Ql=Vl=0,$s=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:Ql}}),fd=ht(bl),pp=pe({},bl,{dataTransfer:0}),vp=ht(pp),bp=pe({},qi,{relatedTarget:0}),Yl=ht(bp),_p=pe({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),xp=ht(_p),wp=pe({},On,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sp=ht(wp),jp=pe({},On,{data:0}),md=ht(jp),Ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tp[e])?!!t[e]:!1}function ec(){return Ap}var Op=pe({},qi,{key:function(e){if(e.key){var t=Ep[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cp=ht(Op),kp=pe({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=ht(kp),Rp=pe({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),Dp=ht(Rp),zp=pe({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=ht(zp),Mp=pe({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qp=ht(Mp),Bp=pe({},On,{newState:0,oldState:0}),$p=ht(Bp),Lp=[9,13,27,32],tc=pa&&"CompositionEvent"in window,Is=null;pa&&"documentMode"in document&&(Is=document.documentMode);var Hp=pa&&"TextEvent"in window&&!Is,Xf=pa&&(!tc||Is&&8<Is&&11>=Is),yd=" ",pd=!1;function Zf(e,t){switch(e){case"keyup":return Lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pn=!1;function Gp(e,t){switch(e){case"compositionend":return Pf(t);case"keypress":return t.which!==32?null:(pd=!0,yd);case"textInput":return e=t.data,e===yd&&pd?null:e;default:return null}}function Vp(e,t){if(Pn)return e==="compositionend"||!tc&&Zf(e,t)?(e=Jf(),vr=Wu=Ma=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xf&&t.locale!=="ko"?null:t.data;default:return null}}var Qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qp[e.type]:t==="textarea"}function If(e,t,a,n){Zn?ls?ls.push(n):ls=[n]:Zn=n,t=el(t,"onChange"),0<t.length&&(a=new vl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Fs=null,gi=null;function Yp(e){K0(e,0)}function _l(e){var t=Ks(e);if(Hf(t))return e}function bd(e,t){if(e==="change")return t}var Ff=!1;if(pa){var Kl;if(pa){var Jl="oninput"in document;if(!Jl){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Jl=typeof _d.oninput=="function"}Kl=Jl}else Kl=!1;Ff=Kl&&(!document.documentMode||9<document.documentMode)}function xd(){Fs&&(Fs.detachEvent("onpropertychange",Wf),gi=Fs=null)}function Wf(e){if(e.propertyName==="value"&&_l(gi)){var t=[];If(t,gi,e,Fu(e)),Kf(Yp,t)}}function Kp(e,t,a){e==="focusin"?(xd(),Fs=t,gi=a,Fs.attachEvent("onpropertychange",Wf)):e==="focusout"&&xd()}function Jp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(gi)}function Xp(e,t){if(e==="click")return _l(t)}function Zp(e,t){if(e==="input"||e==="change")return _l(t)}function Pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Pp;function yi(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!Bo.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sd(e,t){var a=wd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wd(a)}}function em(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?em(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Mr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Mr(e.document)}return t}function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ip=pa&&"documentMode"in document&&11>=document.documentMode,In=null,Yo=null,Ws=null,Ko=!1;function jd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ko||In==null||In!==Mr(n)||(n=In,"selectionStart"in n&&ac(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ws&&yi(Ws,n)||(Ws=n,n=el(Yo,"onSelect"),0<n.length&&(t=new vl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=In)))}function ln(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Fn={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},Xl={},am={};pa&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Cn(e){if(Xl[e])return Xl[e];if(!Fn[e])return e;var t=Fn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in am)return Xl[e]=t[a];return e}var nm=Cn("animationend"),sm=Cn("animationiteration"),im=Cn("animationstart"),Fp=Cn("transitionrun"),Wp=Cn("transitionstart"),ev=Cn("transitioncancel"),rm=Cn("transitionend"),lm=new Map,Jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jo.push("scrollEnd");function Zt(e,t){lm.set(e,t),An(t,[e])}var qr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tt=[],Wn=0,nc=0;function xl(){for(var e=Wn,t=nc=Wn=0;t<e;){var a=Tt[t];Tt[t++]=null;var n=Tt[t];Tt[t++]=null;var s=Tt[t];Tt[t++]=null;var i=Tt[t];if(Tt[t++]=null,n!==null&&s!==null){var r=n.pending;r===null?s.next=s:(s.next=r.next,r.next=s),n.pending=s}i!==0&&om(a,s,i)}}function wl(e,t,a,n){Tt[Wn++]=e,Tt[Wn++]=t,Tt[Wn++]=a,Tt[Wn++]=n,nc|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function sc(e,t,a,n){return wl(e,t,a,n),Br(e)}function kn(e,t){return wl(e,null,null,t),Br(e)}function om(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-wt(a),e=i.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),i):null}function Br(e){if(50<oi)throw oi=0,mu=null,Error(N(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var es={};function tv(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,a,n){return new tv(e,t,a,n)}function ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ma(e,t){var a=e.alternate;return a===null?(a=yt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function um(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _r(e,t,a,n,s,i){var r=0;if(n=e,typeof e=="function")ic(e)&&(r=1);else if(typeof e=="string")r=rb(e,a,Wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case zo:return e=yt(31,a,t,s),e.elementType=zo,e.lanes=i,e;case Kn:return bn(a.children,s,i,t);case Af:r=8,s|=24;break;case ko:return e=yt(12,a,t,s|2),e.elementType=ko,e.lanes=i,e;case Ro:return e=yt(13,a,t,s),e.elementType=Ro,e.lanes=i,e;case Do:return e=yt(19,a,t,s),e.elementType=Do,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case da:r=10;break e;case Of:r=9;break e;case Yu:r=11;break e;case Ku:r=14;break e;case Aa:r=16,n=null;break e}r=29,a=Error(N(130,e===null?"null":typeof e,"")),n=null}return t=yt(r,a,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function bn(e,t,a,n){return e=yt(7,e,n,t),e.lanes=a,e}function Zl(e,t,a){return e=yt(6,e,null,t),e.lanes=a,e}function cm(e){var t=yt(18,null,null,0);return t.stateNode=e,t}function Pl(e,t,a){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ed=new WeakMap;function Rt(e,t){if(typeof e=="object"&&e!==null){var a=Ed.get(e);return a!==void 0?a:(t={value:e,source:t,stack:id(t)},Ed.set(e,t),t)}return{value:e,source:t,stack:id(t)}}var ts=[],as=0,$r=null,pi=0,Ot=[],Ct=0,Za=null,Pt=1,It="";function ua(e,t){ts[as++]=pi,ts[as++]=$r,$r=e,pi=t}function dm(e,t,a){Ot[Ct++]=Pt,Ot[Ct++]=It,Ot[Ct++]=Za,Za=e;var n=Pt;e=It;var s=32-wt(n)-1;n&=~(1<<s),a+=1;var i=32-wt(t)+s;if(30<i){var r=s-s%5;i=(n&(1<<r)-1).toString(32),n>>=r,s-=r,Pt=1<<32-wt(t)+s|a<<s|n,It=i+e}else Pt=1<<i|a<<s|n,It=e}function rc(e){e.return!==null&&(ua(e,1),dm(e,1,0))}function lc(e){for(;e===$r;)$r=ts[--as],ts[as]=null,pi=ts[--as],ts[as]=null;for(;e===Za;)Za=Ot[--Ct],Ot[Ct]=null,It=Ot[--Ct],Ot[Ct]=null,Pt=Ot[--Ct],Ot[Ct]=null}function hm(e,t){Ot[Ct++]=Pt,Ot[Ct++]=It,Ot[Ct++]=Za,Pt=t.id,It=t.overflow,Za=e}var Je=null,ge=null,ee=!1,Ha=null,Dt=!1,Xo=Error(N(519));function Pa(e){var t=Error(N(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vi(Rt(t,e)),Xo}function Nd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Ke]=e,t[dt]=n,a){case"dialog":I("cancel",t),I("close",t);break;case"iframe":case"object":case"embed":I("load",t);break;case"video":case"audio":for(a=0;a<wi.length;a++)I(wi[a],t);break;case"source":I("error",t);break;case"img":case"image":case"link":I("error",t),I("load",t);break;case"details":I("toggle",t);break;case"input":I("invalid",t),Gf(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":I("invalid",t);break;case"textarea":I("invalid",t),Qf(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||X0(t.textContent,a)?(n.popover!=null&&(I("beforetoggle",t),I("toggle",t)),n.onScroll!=null&&I("scroll",t),n.onScrollEnd!=null&&I("scrollend",t),n.onClick!=null&&(t.onclick=ha),t=!0):t=!1,t||Pa(e,!0)}function Td(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:Je=Je.return}}function zn(e){if(e!==Je)return!1;if(!ee)return Td(e),ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bu(e.type,e.memoizedProps)),a=!a),a&&ge&&Pa(e),Td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));ge=fh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));ge=fh(e)}else t===27?(t=ge,en(e.type)?(e=Su,Su=null,ge=e):ge=t):ge=Je?Ut(e.stateNode.nextSibling):null;return!0}function Sn(){ge=Je=null,ee=!1}function Il(){var e=Ha;return e!==null&&(ut===null?ut=e:ut.push.apply(ut,e),Ha=null),e}function vi(e){Ha===null?Ha=[e]:Ha.push(e)}var Zo=ea(null),Rn=null,fa=null;function Ca(e,t,a){he(Zo,t._currentValue),t._currentValue=a}function ga(e){e._currentValue=Zo.current,Qe(Zo)}function Po(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Io(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=s;for(var u=0;u<t.length;u++)if(l.context===t[u]){i.lanes|=a,l=i.alternate,l!==null&&(l.lanes|=a),Po(i.return,a,e),n||(r=null);break e}i=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(N(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),Po(r,a,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function As(e,t,a,n){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(N(387));if(r=r.memoizedProps,r!==null){var l=s.type;jt(s.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(s===Rr.current){if(r=s.alternate,r===null)throw Error(N(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ji):e=[ji])}s=s.return}e!==null&&Io(t,e,a,n),t.flags|=262144}function Lr(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jn(e){Rn=e,fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return fm(Rn,e)}function Fi(e,t){return Rn===null&&jn(e),fm(e,t)}function fm(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},fa===null){if(e===null)throw Error(N(308));fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fa=fa.next=t;return a}var av=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},nv=$e.unstable_scheduleCallback,sv=$e.unstable_NormalPriority,ze={$$typeof:da,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new av,data:new Map,refCount:0}}function Bi(e){e.refCount--,e.refCount===0&&nv(sv,function(){e.controller.abort()})}var ei=null,Fo=0,ys=0,os=null;function iv(e,t){if(ei===null){var a=ei=[];Fo=0,ys=Dc(),os={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Fo++,t.then(Ad,Ad),t}function Ad(){if(--Fo===0&&ei!==null){os!==null&&(os.status="fulfilled");var e=ei;ei=null,ys=0,os=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rv(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var Od=H.S;H.S=function(e,t){T0=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&iv(e,t),Od!==null&&Od(e,t)};var _n=ea(null);function uc(){var e=_n.current;return e!==null?e:ue.pooledCache}function xr(e,t){t===null?he(_n,_n.current):he(_n,t.pool)}function mm(){var e=uc();return e===null?null:{parent:ze._currentValue,pool:e}}var Os=Error(N(460)),cc=Error(N(474)),Sl=Error(N(542)),Hr={then:function(){}};function Cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gm(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ha,ha),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e;default:if(typeof t.status=="string")t.then(ha,ha);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(N(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e}throw xn=t,Os}}function hn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xn=a,Os):a}}var xn=null;function kd(){if(xn===null)throw Error(N(459));var e=xn;return xn=null,e}function Rd(e){if(e===Os||e===Sl)throw Error(N(483))}var us=null,bi=0;function Wi(e){var t=bi;return bi+=1,us===null&&(us=[]),gm(us,e,t)}function Ls(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function er(e,t){throw t.$$typeof===Ky?Error(N(525)):(e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ym(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function a(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function n(p){for(var d=new Map;p!==null;)p.key!==null?d.set(p.key,p):d.set(p.index,p),p=p.sibling;return d}function s(p,d){return p=ma(p,d),p.index=0,p.sibling=null,p}function i(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=67108866,d):g):(p.flags|=67108866,d)):(p.flags|=1048576,d)}function r(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,d,g,v){return d===null||d.tag!==6?(d=Zl(g,p.mode,v),d.return=p,d):(d=s(d,g),d.return=p,d)}function u(p,d,g,v){var j=g.type;return j===Kn?h(p,d,g.props.children,v,g.key):d!==null&&(d.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Aa&&hn(j)===d.type)?(d=s(d,g.props),Ls(d,g),d.return=p,d):(d=_r(g.type,g.key,g.props,null,p.mode,v),Ls(d,g),d.return=p,d)}function c(p,d,g,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Pl(g,p.mode,v),d.return=p,d):(d=s(d,g.children||[]),d.return=p,d)}function h(p,d,g,v,j){return d===null||d.tag!==7?(d=bn(g,p.mode,v,j),d.return=p,d):(d=s(d,g),d.return=p,d)}function y(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=Zl(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ki:return g=_r(d.type,d.key,d.props,null,p.mode,g),Ls(g,d),g.return=p,g;case Qs:return d=Pl(d,p.mode,g),d.return=p,d;case Aa:return d=hn(d),y(p,d,g)}if(Ys(d)||qs(d))return d=bn(d,p.mode,g,null),d.return=p,d;if(typeof d.then=="function")return y(p,Wi(d),g);if(d.$$typeof===da)return y(p,Fi(p,d),g);er(p,d)}return null}function f(p,d,g,v){var j=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return j!==null?null:l(p,d,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ki:return g.key===j?u(p,d,g,v):null;case Qs:return g.key===j?c(p,d,g,v):null;case Aa:return g=hn(g),f(p,d,g,v)}if(Ys(g)||qs(g))return j!==null?null:h(p,d,g,v,null);if(typeof g.then=="function")return f(p,d,Wi(g),v);if(g.$$typeof===da)return f(p,d,Fi(p,g),v);er(p,g)}return null}function m(p,d,g,v,j){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return p=p.get(g)||null,l(d,p,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ki:return p=p.get(v.key===null?g:v.key)||null,u(d,p,v,j);case Qs:return p=p.get(v.key===null?g:v.key)||null,c(d,p,v,j);case Aa:return v=hn(v),m(p,d,g,v,j)}if(Ys(v)||qs(v))return p=p.get(g)||null,h(d,p,v,j,null);if(typeof v.then=="function")return m(p,d,g,Wi(v),j);if(v.$$typeof===da)return m(p,d,g,Fi(d,v),j);er(d,v)}return null}function b(p,d,g,v){for(var j=null,S=null,E=d,R=d=0,U=null;E!==null&&R<g.length;R++){E.index>R?(U=E,E=null):U=E.sibling;var V=f(p,E,g[R],v);if(V===null){E===null&&(E=U);break}e&&E&&V.alternate===null&&t(p,E),d=i(V,d,R),S===null?j=V:S.sibling=V,S=V,E=U}if(R===g.length)return a(p,E),ee&&ua(p,R),j;if(E===null){for(;R<g.length;R++)E=y(p,g[R],v),E!==null&&(d=i(E,d,R),S===null?j=E:S.sibling=E,S=E);return ee&&ua(p,R),j}for(E=n(E);R<g.length;R++)U=m(E,p,R,g[R],v),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?R:U.key),d=i(U,d,R),S===null?j=U:S.sibling=U,S=U);return e&&E.forEach(function(Oe){return t(p,Oe)}),ee&&ua(p,R),j}function _(p,d,g,v){if(g==null)throw Error(N(151));for(var j=null,S=null,E=d,R=d=0,U=null,V=g.next();E!==null&&!V.done;R++,V=g.next()){E.index>R?(U=E,E=null):U=E.sibling;var Oe=f(p,E,V.value,v);if(Oe===null){E===null&&(E=U);break}e&&E&&Oe.alternate===null&&t(p,E),d=i(Oe,d,R),S===null?j=Oe:S.sibling=Oe,S=Oe,E=U}if(V.done)return a(p,E),ee&&ua(p,R),j;if(E===null){for(;!V.done;R++,V=g.next())V=y(p,V.value,v),V!==null&&(d=i(V,d,R),S===null?j=V:S.sibling=V,S=V);return ee&&ua(p,R),j}for(E=n(E);!V.done;R++,V=g.next())V=m(E,p,R,V.value,v),V!==null&&(e&&V.alternate!==null&&E.delete(V.key===null?R:V.key),d=i(V,d,R),S===null?j=V:S.sibling=V,S=V);return e&&E.forEach(function(Le){return t(p,Le)}),ee&&ua(p,R),j}function x(p,d,g,v){if(typeof g=="object"&&g!==null&&g.type===Kn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ki:e:{for(var j=g.key;d!==null;){if(d.key===j){if(j=g.type,j===Kn){if(d.tag===7){a(p,d.sibling),v=s(d,g.props.children),v.return=p,p=v;break e}}else if(d.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Aa&&hn(j)===d.type){a(p,d.sibling),v=s(d,g.props),Ls(v,g),v.return=p,p=v;break e}a(p,d);break}else t(p,d);d=d.sibling}g.type===Kn?(v=bn(g.props.children,p.mode,v,g.key),v.return=p,p=v):(v=_r(g.type,g.key,g.props,null,p.mode,v),Ls(v,g),v.return=p,p=v)}return r(p);case Qs:e:{for(j=g.key;d!==null;){if(d.key===j)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){a(p,d.sibling),v=s(d,g.children||[]),v.return=p,p=v;break e}else{a(p,d);break}else t(p,d);d=d.sibling}v=Pl(g,p.mode,v),v.return=p,p=v}return r(p);case Aa:return g=hn(g),x(p,d,g,v)}if(Ys(g))return b(p,d,g,v);if(qs(g)){if(j=qs(g),typeof j!="function")throw Error(N(150));return g=j.call(g),_(p,d,g,v)}if(typeof g.then=="function")return x(p,d,Wi(g),v);if(g.$$typeof===da)return x(p,d,Fi(p,g),v);er(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,d!==null&&d.tag===6?(a(p,d.sibling),v=s(d,g),v.return=p,p=v):(a(p,d),v=Zl(g,p.mode,v),v.return=p,p=v),r(p)):a(p,d)}return function(p,d,g,v){try{bi=0;var j=x(p,d,g,v);return us=null,j}catch(E){if(E===Os||E===Sl)throw E;var S=yt(29,E,null,p.mode);return S.lanes=v,S.return=p,S}finally{}}}var En=ym(!0),pm=ym(!1),Oa=!1;function dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ga(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Va(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=Br(e),om(e,null,a),t}return wl(e,n,t,a),Br(e)}function ti(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Uf(e,a)}}function Fl(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?s=i=t:i=i.next=t}else s=i=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var eu=!1;function ai(){if(eu){var e=os;if(e!==null)throw e}}function ni(e,t,a,n){eu=!1;var s=e.updateQueue;Oa=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,r===null?i=c:r.next=c,r=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(i!==null){var y=s.baseState;r=0,h=c=u=null,l=i;do{var f=l.lane&-536870913,m=f!==l.lane;if(m?(W&f)===f:(n&f)===f){f!==0&&f===ys&&(eu=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var b=e,_=l;f=t;var x=a;switch(_.tag){case 1:if(b=_.payload,typeof b=="function"){y=b.call(x,y,f);break e}y=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,f=typeof b=="function"?b.call(x,y,f):b,f==null)break e;y=pe({},y,f);break e;case 2:Oa=!0}}f=l.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=s.callbacks,m===null?s.callbacks=[f]:m.push(f))}else m={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=m,u=y):h=h.next=m,r|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);h===null&&(u=y),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,i===null&&(s.shared.lanes=0),Fa|=r,e.lanes=r,e.memoizedState=y}}function vm(e,t){if(typeof e!="function")throw Error(N(191,e));e.call(t)}function bm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vm(a[e],t)}var ps=ea(null),Gr=ea(0);function Dd(e,t){e=xa,he(Gr,e),he(ps,t),xa=e|t.baseLanes}function tu(){he(Gr,xa),he(ps,ps.current)}function hc(){xa=Gr.current,Qe(ps),Qe(Gr)}var Et=ea(null),zt=null;function ka(e){var t=e.alternate;he(Te,Te.current&1),he(Et,e),zt===null&&(t===null||ps.current!==null||t.memoizedState!==null)&&(zt=e)}function au(e){he(Te,Te.current),he(Et,e),zt===null&&(zt=e)}function _m(e){e.tag===22?(he(Te,Te.current),he(Et,e),zt===null&&(zt=e)):Ra()}function Ra(){he(Te,Te.current),he(Et,Et.current)}function gt(e){Qe(Et),zt===e&&(zt=null),Qe(Te)}var Te=ea(0);function Vr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xu(a)||wu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var va=0,Z=null,oe=null,Re=null,Qr=!1,cs=!1,Nn=!1,Yr=0,_i=0,ds=null,lv=0;function Ee(){throw Error(N(321))}function fc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!jt(e[a],t[a]))return!1;return!0}function mc(e,t,a,n,s,i){return va=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?Im:Ec,Nn=!1,i=a(n,s),Nn=!1,cs&&(i=wm(t,a,n,s)),xm(e),i}function xm(e){H.H=xi;var t=oe!==null&&oe.next!==null;if(va=0,Re=oe=Z=null,Qr=!1,_i=0,ds=null,t)throw Error(N(300));e===null||Ue||(e=e.dependencies,e!==null&&Lr(e)&&(Ue=!0))}function wm(e,t,a,n){Z=e;var s=0;do{if(cs&&(ds=null),_i=0,cs=!1,25<=s)throw Error(N(301));if(s+=1,Re=oe=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}H.H=Fm,i=t(a,n)}while(cs);return i}function ov(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?$i(t):t,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(Z.flags|=1024),t}function gc(){var e=Yr!==0;return Yr=0,e}function yc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function pc(e){if(Qr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qr=!1}va=0,Re=oe=Z=null,cs=!1,_i=Yr=0,ds=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Z.memoizedState=Re=e:Re=Re.next=e,Re}function Ae(){if(oe===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=Re===null?Z.memoizedState:Re.next;if(t!==null)Re=t,oe=e;else{if(e===null)throw Z.alternate===null?Error(N(467)):Error(N(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Re===null?Z.memoizedState=Re=e:Re=Re.next=e}return Re}function jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $i(e){var t=_i;return _i+=1,ds===null&&(ds=[]),e=gm(ds,e,t),t=Z,(Re===null?t.memoizedState:Re.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?Im:Ec),e}function El(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $i(e);if(e.$$typeof===da)return Xe(e)}throw Error(N(438,String(e)))}function vc(e){var t=null,a=Z.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Z.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=jl(),Z.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Jy;return t.index++,a}function ba(e,t){return typeof t=="function"?t(e):t}function wr(e){var t=Ae();return bc(t,oe,e)}function bc(e,t,a){var n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=a;var s=e.baseQueue,i=n.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,n.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var l=r=null,u=null,c=t,h=!1;do{var y=c.lane&-536870913;if(y!==c.lane?(W&y)===y:(va&y)===y){var f=c.revertLane;if(f===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),y===ys&&(h=!0);else if((va&f)===f){c=c.next,f===ys&&(h=!0);continue}else y={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=y,r=i):u=u.next=y,Z.lanes|=f,Fa|=f;y=c.action,Nn&&a(i,y),i=c.hasEagerState?c.eagerState:a(i,y)}else f={lane:y,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=f,r=i):u=u.next=f,Z.lanes|=y,Fa|=y;c=c.next}while(c!==null&&c!==t);if(u===null?r=i:u.next=l,!jt(i,e.memoizedState)&&(Ue=!0,h&&(a=os,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=u,n.lastRenderedState=i}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Wl(e){var t=Ae(),a=t.queue;if(a===null)throw Error(N(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,i=t.memoizedState;if(s!==null){a.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);jt(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function Sm(e,t,a){var n=Z,s=Ae(),i=ee;if(i){if(a===void 0)throw Error(N(407));a=a()}else a=t();var r=!jt((oe||s).memoizedState,a);if(r&&(s.memoizedState=a,Ue=!0),s=s.queue,_c(Nm.bind(null,n,s,e),[e]),s.getSnapshot!==t||r||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,vs(9,{destroy:void 0},Em.bind(null,n,s,a,t),null),ue===null)throw Error(N(349));i||va&127||jm(n,t,a)}return a}function jm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Z.updateQueue,t===null?(t=jl(),Z.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Em(e,t,a,n){t.value=a,t.getSnapshot=n,Tm(t)&&Am(e)}function Nm(e,t,a){return a(function(){Tm(t)&&Am(e)})}function Tm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!jt(e,a)}catch{return!0}}function Am(e){var t=kn(e,2);t!==null&&ct(t,e,2)}function nu(e){var t=We();if(typeof e=="function"){var a=e;if(e=a(),Nn){Ua(!0);try{a()}finally{Ua(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t}function Om(e,t,a,n){return e.baseState=a,bc(e,oe,typeof n=="function"?n:ba)}function uv(e,t,a,n,s){if(Tl(e))throw Error(N(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};H.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,Cm(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Cm(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var i=H.T,r={};H.T=r;try{var l=a(s,n),u=H.S;u!==null&&u(r,l),zd(e,t,l)}catch(c){su(e,t,c)}finally{i!==null&&r.types!==null&&(i.types=r.types),H.T=i}}else try{i=a(s,n),zd(e,t,i)}catch(c){su(e,t,c)}}function zd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Ud(e,t,n)},function(n){return su(e,t,n)}):Ud(e,t,a)}function Ud(e,t,a){t.status="fulfilled",t.value=a,km(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Cm(e,a)))}function su(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,km(t),t=t.next;while(t!==n)}e.action=null}function km(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rm(e,t){return t}function Md(e,t){if(ee){var a=ue.formState;if(a!==null){e:{var n=Z;if(ee){if(ge){t:{for(var s=ge,i=Dt;s.nodeType!==8;){if(!i){s=null;break t}if(s=Ut(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){ge=Ut(s.nextSibling),n=s.data==="F!";break e}}Pa(n)}n=!1}n&&(t=a[0])}}return a=We(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:t},a.queue=n,a=Xm.bind(null,Z,n),n.dispatch=a,n=nu(!1),i=jc.bind(null,Z,!1,n.queue),n=We(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=uv.bind(null,Z,s,i,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function qd(e){var t=Ae();return Dm(t,oe,e)}function Dm(e,t,a){if(t=bc(e,t,Rm)[0],e=wr(ba)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=$i(t)}catch(r){throw r===Os?Sl:r}else n=t;t=Ae();var s=t.queue,i=s.dispatch;return a!==t.memoizedState&&(Z.flags|=2048,vs(9,{destroy:void 0},cv.bind(null,s,a),null)),[n,i,e]}function cv(e,t){e.action=t}function Bd(e){var t=Ae(),a=oe;if(a!==null)return Dm(t,a,e);Ae(),t=t.memoizedState,a=Ae();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function vs(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Z.updateQueue,t===null&&(t=jl(),Z.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function zm(){return Ae().memoizedState}function Sr(e,t,a,n){var s=We();Z.flags|=e,s.memoizedState=vs(1|t,{destroy:void 0},a,n===void 0?null:n)}function Nl(e,t,a,n){var s=Ae();n=n===void 0?null:n;var i=s.memoizedState.inst;oe!==null&&n!==null&&fc(n,oe.memoizedState.deps)?s.memoizedState=vs(t,i,a,n):(Z.flags|=e,s.memoizedState=vs(1|t,i,a,n))}function $d(e,t){Sr(8390656,8,e,t)}function _c(e,t){Nl(2048,8,e,t)}function dv(e){Z.flags|=4;var t=Z.updateQueue;if(t===null)t=jl(),Z.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Um(e){var t=Ae().memoizedState;return dv({ref:t,nextImpl:e}),function(){if(ae&2)throw Error(N(440));return t.impl.apply(void 0,arguments)}}function Mm(e,t){return Nl(4,2,e,t)}function qm(e,t){return Nl(4,4,e,t)}function Bm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $m(e,t,a){a=a!=null?a.concat([e]):null,Nl(4,4,Bm.bind(null,t,e),a)}function xc(){}function Lm(e,t){var a=Ae();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&fc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Hm(e,t){var a=Ae();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&fc(t,n[1]))return n[0];if(n=e(),Nn){Ua(!0);try{e()}finally{Ua(!1)}}return a.memoizedState=[n,t],n}function wc(e,t,a){return a===void 0||va&1073741824&&!(W&261930)?e.memoizedState=t:(e.memoizedState=a,e=O0(),Z.lanes|=e,Fa|=e,a)}function Gm(e,t,a,n){return jt(a,t)?a:ps.current!==null?(e=wc(e,a,n),jt(e,t)||(Ue=!0),e):!(va&42)||va&1073741824&&!(W&261930)?(Ue=!0,e.memoizedState=a):(e=O0(),Z.lanes|=e,Fa|=e,t)}function Vm(e,t,a,n,s){var i=ne.p;ne.p=i!==0&&8>i?i:8;var r=H.T,l={};H.T=l,jc(e,!1,t,a);try{var u=s(),c=H.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=rv(u,n);si(e,t,h,St(e))}else si(e,t,n,St(e))}catch(y){si(e,t,{then:function(){},status:"rejected",reason:y},St())}finally{ne.p=i,r!==null&&l.types!==null&&(r.types=l.types),H.T=r}}function hv(){}function iu(e,t,a,n){if(e.tag!==5)throw Error(N(476));var s=Qm(e).queue;Vm(e,s,t,vn,a===null?hv:function(){return Ym(e),a(n)})}function Qm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:vn,baseState:vn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:vn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ym(e){var t=Qm(e);t.next===null&&(t=e.alternate.memoizedState),si(e,t.next.queue,{},St())}function Sc(){return Xe(ji)}function Km(){return Ae().memoizedState}function Jm(){return Ae().memoizedState}function fv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=St();e=Ga(a);var n=Va(t,e,a);n!==null&&(ct(n,t,a),ti(n,t,a)),t={cache:oc()},e.payload=t;return}t=t.return}}function mv(e,t,a){var n=St();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tl(e)?Zm(t,a):(a=sc(e,t,a,n),a!==null&&(ct(a,e,n),Pm(a,t,n)))}function Xm(e,t,a){var n=St();si(e,t,a,n)}function si(e,t,a,n){var s={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tl(e))Zm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,l=i(r,a);if(s.hasEagerState=!0,s.eagerState=l,jt(l,r))return wl(e,t,s,0),ue===null&&xl(),!1}catch{}finally{}if(a=sc(e,t,s,n),a!==null)return ct(a,e,n),Pm(a,t,n),!0}return!1}function jc(e,t,a,n){if(n={lane:2,revertLane:Dc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Tl(e)){if(t)throw Error(N(479))}else t=sc(e,a,n,2),t!==null&&ct(t,e,2)}function Tl(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function Zm(e,t){cs=Qr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Pm(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Uf(e,a)}}var xi={readContext:Xe,use:El,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};xi.useEffectEvent=Ee;var Im={readContext:Xe,use:El,useCallback:function(e,t){return We().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:$d,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Sr(4194308,4,Bm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Sr(4194308,4,e,t)},useInsertionEffect:function(e,t){Sr(4,2,e,t)},useMemo:function(e,t){var a=We();t=t===void 0?null:t;var n=e();if(Nn){Ua(!0);try{e()}finally{Ua(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=We();if(a!==void 0){var s=a(t);if(Nn){Ua(!0);try{a(t)}finally{Ua(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=mv.bind(null,Z,e),[n.memoizedState,e]},useRef:function(e){var t=We();return e={current:e},t.memoizedState=e},useState:function(e){e=nu(e);var t=e.queue,a=Xm.bind(null,Z,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:xc,useDeferredValue:function(e,t){var a=We();return wc(a,e,t)},useTransition:function(){var e=nu(!1);return e=Vm.bind(null,Z,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Z,s=We();if(ee){if(a===void 0)throw Error(N(407));a=a()}else{if(a=t(),ue===null)throw Error(N(349));W&127||jm(n,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,$d(Nm.bind(null,n,i,e),[e]),n.flags|=2048,vs(9,{destroy:void 0},Em.bind(null,n,i,a,t),null),a},useId:function(){var e=We(),t=ue.identifierPrefix;if(ee){var a=It,n=Pt;a=(n&~(1<<32-wt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Yr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=lv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Sc,useFormState:Md,useActionState:Md,useOptimistic:function(e){var t=We();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=jc.bind(null,Z,!0,a),a.dispatch=t,[e,t]},useMemoCache:vc,useCacheRefresh:function(){return We().memoizedState=fv.bind(null,Z)},useEffectEvent:function(e){var t=We(),a={impl:e};return t.memoizedState=a,function(){if(ae&2)throw Error(N(440));return a.impl.apply(void 0,arguments)}}},Ec={readContext:Xe,use:El,useCallback:Lm,useContext:Xe,useEffect:_c,useImperativeHandle:$m,useInsertionEffect:Mm,useLayoutEffect:qm,useMemo:Hm,useReducer:wr,useRef:zm,useState:function(){return wr(ba)},useDebugValue:xc,useDeferredValue:function(e,t){var a=Ae();return Gm(a,oe.memoizedState,e,t)},useTransition:function(){var e=wr(ba)[0],t=Ae().memoizedState;return[typeof e=="boolean"?e:$i(e),t]},useSyncExternalStore:Sm,useId:Km,useHostTransitionStatus:Sc,useFormState:qd,useActionState:qd,useOptimistic:function(e,t){var a=Ae();return Om(a,oe,e,t)},useMemoCache:vc,useCacheRefresh:Jm};Ec.useEffectEvent=Um;var Fm={readContext:Xe,use:El,useCallback:Lm,useContext:Xe,useEffect:_c,useImperativeHandle:$m,useInsertionEffect:Mm,useLayoutEffect:qm,useMemo:Hm,useReducer:Wl,useRef:zm,useState:function(){return Wl(ba)},useDebugValue:xc,useDeferredValue:function(e,t){var a=Ae();return oe===null?wc(a,e,t):Gm(a,oe.memoizedState,e,t)},useTransition:function(){var e=Wl(ba)[0],t=Ae().memoizedState;return[typeof e=="boolean"?e:$i(e),t]},useSyncExternalStore:Sm,useId:Km,useHostTransitionStatus:Sc,useFormState:Bd,useActionState:Bd,useOptimistic:function(e,t){var a=Ae();return oe!==null?Om(a,oe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vc,useCacheRefresh:Jm};Fm.useEffectEvent=Um;function eo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:pe({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ru={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=St(),s=Ga(n);s.payload=t,a!=null&&(s.callback=a),t=Va(e,s,n),t!==null&&(ct(t,e,n),ti(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=St(),s=Ga(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=Va(e,s,n),t!==null&&(ct(t,e,n),ti(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=St(),n=Ga(a);n.tag=2,t!=null&&(n.callback=t),t=Va(e,n,a),t!==null&&(ct(t,e,a),ti(t,e,a))}};function Ld(e,t,a,n,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,r):t.prototype&&t.prototype.isPureReactComponent?!yi(a,n)||!yi(s,i):!0}function Hd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&ru.enqueueReplaceState(t,t.state,null)}function Tn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=pe({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Wm(e){qr(e)}function e0(e){console.error(e)}function t0(e){qr(e)}function Kr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Gd(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function lu(e,t,a){return a=Ga(a),a.tag=3,a.payload={element:null},a.callback=function(){Kr(e,t)},a}function a0(e){return e=Ga(e),e.tag=3,e}function n0(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var i=n.value;e.payload=function(){return s(i)},e.callback=function(){Gd(t,a,n)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Gd(t,a,n),typeof s!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function gv(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&As(t,a,s,!0),a=Et.current,a!==null){switch(a.tag){case 31:case 13:return zt===null?Ir():a.alternate===null&&Ne===0&&(Ne=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===Hr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),ho(e,n,s)),!1;case 22:return a.flags|=65536,n===Hr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),ho(e,n,s)),!1}throw Error(N(435,a.tag))}return ho(e,n,s),Ir(),!1}if(ee)return t=Et.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==Xo&&(e=Error(N(422),{cause:n}),vi(Rt(e,a)))):(n!==Xo&&(t=Error(N(423),{cause:n}),vi(Rt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=Rt(n,a),s=lu(e.stateNode,n,s),Fl(e,s),Ne!==4&&(Ne=2)),!1;var i=Error(N(520),{cause:n});if(i=Rt(i,a),li===null?li=[i]:li.push(i),Ne!==4&&(Ne=2),t===null)return!0;n=Rt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=lu(a.stateNode,n,e),Fl(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Qa===null||!Qa.has(i))))return a.flags|=65536,s&=-s,a.lanes|=s,s=a0(s),n0(s,e,a,n),Fl(a,s),!1}a=a.return}while(a!==null);return!1}var Nc=Error(N(461)),Ue=!1;function Ye(e,t,a,n){t.child=e===null?pm(t,null,a,n):En(t,e.child,a,n)}function Vd(e,t,a,n,s){a=a.render;var i=t.ref;if("ref"in n){var r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}else r=n;return jn(t),n=mc(e,t,a,r,i,s),l=gc(),e!==null&&!Ue?(yc(e,t,s),_a(e,t,s)):(ee&&l&&rc(t),t.flags|=1,Ye(e,t,n,s),t.child)}function Qd(e,t,a,n,s){if(e===null){var i=a.type;return typeof i=="function"&&!ic(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,s0(e,t,i,n,s)):(e=_r(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Tc(e,s)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:yi,a(r,n)&&e.ref===t.ref)return _a(e,t,s)}return t.flags|=1,e=ma(i,n),e.ref=t.ref,e.return=t,t.child=e}function s0(e,t,a,n,s){if(e!==null){var i=e.memoizedProps;if(yi(i,n)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=n=i,Tc(e,s))e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,_a(e,t,s)}return ou(e,t,a,n,s)}function i0(e,t,a,n){var s=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~i}else n=0,t.child=null;return Yd(e,t,i,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xr(t,i!==null?i.cachePool:null),i!==null?Dd(t,i):tu(),_m(t);else return n=t.lanes=536870912,Yd(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(xr(t,i.cachePool),Dd(t,i),Ra(),t.memoizedState=null):(e!==null&&xr(t,null),tu(),Ra());return Ye(e,t,s,a),t.child}function Js(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yd(e,t,a,n,s){var i=uc();return i=i===null?null:{parent:ze._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&xr(t,null),tu(),_m(t),e!==null&&As(e,t,n,!0),t.childLanes=s,null}function jr(e,t){return t=Jr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Kd(e,t,a){return En(t,e.child,null,a),e=jr(t,t.pendingProps),e.flags|=2,gt(t),t.memoizedState=null,e}function yv(e,t,a){var n=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ee){if(n.mode==="hidden")return e=jr(t,n),t.lanes=536870912,Js(null,e);if(au(t),(e=ge)?(e=I0(e,Dt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Za!==null?{id:Pt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=cm(e),a.return=t,t.child=a,Je=t,ge=null)):e=null,e===null)throw Pa(t);return t.lanes=536870912,null}return jr(t,n)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(au(t),s)if(t.flags&256)t.flags&=-257,t=Kd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(N(558));else if(Ue||As(e,t,a,!1),s=(a&e.childLanes)!==0,Ue||s){if(n=ue,n!==null&&(r=Mf(n,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,kn(e,r),ct(n,e,r),Nc;Ir(),t=Kd(e,t,a)}else e=i.treeContext,ge=Ut(r.nextSibling),Je=t,ee=!0,Ha=null,Dt=!1,e!==null&&hm(t,e),t=jr(t,n),t.flags|=4096;return t}return e=ma(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Er(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(N(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function ou(e,t,a,n,s){return jn(t),a=mc(e,t,a,n,void 0,s),n=gc(),e!==null&&!Ue?(yc(e,t,s),_a(e,t,s)):(ee&&n&&rc(t),t.flags|=1,Ye(e,t,a,s),t.child)}function Jd(e,t,a,n,s,i){return jn(t),t.updateQueue=null,a=wm(t,n,a,s),xm(e),n=gc(),e!==null&&!Ue?(yc(e,t,i),_a(e,t,i)):(ee&&n&&rc(t),t.flags|=1,Ye(e,t,a,i),t.child)}function Xd(e,t,a,n,s){if(jn(t),t.stateNode===null){var i=es,r=a.contextType;typeof r=="object"&&r!==null&&(i=Xe(r)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ru,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},dc(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?Xe(r):es,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(eo(t,a,r,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&ru.enqueueReplaceState(i,i.state,null),ni(t,n,i,s),ai(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,u=Tn(a,l);i.props=u;var c=i.context,h=a.contextType;r=es,typeof h=="object"&&h!==null&&(r=Xe(h));var y=a.getDerivedStateFromProps;h=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||c!==r)&&Hd(t,i,n,r),Oa=!1;var f=t.memoizedState;i.state=f,ni(t,n,i,s),ai(),c=t.memoizedState,l||f!==c||Oa?(typeof y=="function"&&(eo(t,a,y,n),c=t.memoizedState),(u=Oa||Ld(t,a,u,n,f,c,r))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=r,n=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Wo(e,t),r=t.memoizedProps,h=Tn(a,r),i.props=h,y=t.pendingProps,f=i.context,c=a.contextType,u=es,typeof c=="object"&&c!==null&&(u=Xe(c)),l=a.getDerivedStateFromProps,(c=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==y||f!==u)&&Hd(t,i,n,u),Oa=!1,f=t.memoizedState,i.state=f,ni(t,n,i,s),ai();var m=t.memoizedState;r!==y||f!==m||Oa||e!==null&&e.dependencies!==null&&Lr(e.dependencies)?(typeof l=="function"&&(eo(t,a,l,n),m=t.memoizedState),(h=Oa||Ld(t,a,h,n,f,m,u)||e!==null&&e.dependencies!==null&&Lr(e.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=u,n=h):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Er(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=En(t,e.child,null,s),t.child=En(t,null,a,s)):Ye(e,t,a,s),t.memoizedState=i.state,e=t.child):e=_a(e,t,s),e}function Zd(e,t,a,n){return Sn(),t.flags|=256,Ye(e,t,a,n),t.child}var to={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ao(e){return{baseLanes:e,cachePool:mm()}}function no(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=bt),e}function r0(e,t,a){var n=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ee){if(s?ka(t):Ra(),(e=ge)?(e=I0(e,Dt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Za!==null?{id:Pt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=cm(e),a.return=t,t.child=a,Je=t,ge=null)):e=null,e===null)throw Pa(t);return wu(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,s?(Ra(),s=t.mode,l=Jr({mode:"hidden",children:l},s),n=bn(n,s,a,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=ao(a),n.childLanes=no(e,r,a),t.memoizedState=to,Js(null,n)):(ka(t),uu(t,l))}var u=e.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(i)t.flags&256?(ka(t),t.flags&=-257,t=so(e,t,a)):t.memoizedState!==null?(Ra(),t.child=e.child,t.flags|=128,t=null):(Ra(),l=n.fallback,s=t.mode,n=Jr({mode:"visible",children:n.children},s),l=bn(l,s,a,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,En(t,e.child,null,a),n=t.child,n.memoizedState=ao(a),n.childLanes=no(e,r,a),t.memoizedState=to,t=Js(null,n));else if(ka(t),wu(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,n=Error(N(419)),n.stack="",n.digest=r,vi({value:n,source:null,stack:null}),t=so(e,t,a)}else if(Ue||As(e,t,a,!1),r=(a&e.childLanes)!==0,Ue||r){if(r=ue,r!==null&&(n=Mf(r,a),n!==0&&n!==u.retryLane))throw u.retryLane=n,kn(e,n),ct(r,e,n),Nc;xu(l)||Ir(),t=so(e,t,a)}else xu(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,ge=Ut(l.nextSibling),Je=t,ee=!0,Ha=null,Dt=!1,e!==null&&hm(t,e),t=uu(t,n.children),t.flags|=4096);return t}return s?(Ra(),l=n.fallback,s=t.mode,u=e.child,c=u.sibling,n=ma(u,{mode:"hidden",children:n.children}),n.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=ma(c,l):(l=bn(l,s,a,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,Js(null,n),n=t.child,l=e.child.memoizedState,l===null?l=ao(a):(s=l.cachePool,s!==null?(u=ze._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=mm(),l={baseLanes:l.baseLanes|a,cachePool:s}),n.memoizedState=l,n.childLanes=no(e,r,a),t.memoizedState=to,Js(e.child,n)):(ka(t),a=e.child,e=a.sibling,a=ma(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function uu(e,t){return t=Jr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jr(e,t){return e=yt(22,e,null,t),e.lanes=0,e}function so(e,t,a){return En(t,e.child,null,a),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Po(e.return,t,a)}function io(e,t,a,n,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=a,r.tailMode=s,r.treeForkCount=i)}function l0(e,t,a){var n=t.pendingProps,s=n.revealOrder,i=n.tail;n=n.children;var r=Te.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,he(Te,r),Ye(e,t,n,a),n=ee?pi:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pd(e,a,t);else if(e.tag===19)Pd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Vr(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),io(t,!1,s,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vr(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}io(t,!0,a,null,i,n);break;case"together":io(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function _a(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Fa|=t.lanes,!(a&t.childLanes))if(e!==null){if(As(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,a=ma(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ma(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Tc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Lr(e)))}function pv(e,t,a){switch(t.tag){case 3:Dr(t,t.stateNode.containerInfo),Ca(t,ze,e.memoizedState.cache),Sn();break;case 27:case 5:qo(t);break;case 4:Dr(t,t.stateNode.containerInfo);break;case 10:Ca(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,au(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ka(t),t.flags|=128,null):a&t.child.childLanes?r0(e,t,a):(ka(t),e=_a(e,t,a),e!==null?e.sibling:null);ka(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(As(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return l0(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(Te,Te.current),n)break;return null;case 22:return t.lanes=0,i0(e,t,a,t.pendingProps);case 24:Ca(t,ze,e.memoizedState.cache)}return _a(e,t,a)}function o0(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ue=!0;else{if(!Tc(e,a)&&!(t.flags&128))return Ue=!1,pv(e,t,a);Ue=!!(e.flags&131072)}else Ue=!1,ee&&t.flags&1048576&&dm(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=hn(t.elementType),t.type=e,typeof e=="function")ic(e)?(n=Tn(e,n),t.tag=1,t=Xd(null,t,e,n,a)):(t.tag=0,t=ou(null,t,e,n,a));else{if(e!=null){var s=e.$$typeof;if(s===Yu){t.tag=11,t=Vd(null,t,e,n,a);break e}else if(s===Ku){t.tag=14,t=Qd(null,t,e,n,a);break e}}throw t=Uo(e)||e,Error(N(306,t,""))}}return t;case 0:return ou(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=Tn(n,t.pendingProps),Xd(e,t,n,s,a);case 3:e:{if(Dr(t,t.stateNode.containerInfo),e===null)throw Error(N(387));n=t.pendingProps;var i=t.memoizedState;s=i.element,Wo(e,t),ni(t,n,null,a);var r=t.memoizedState;if(n=r.cache,Ca(t,ze,n),n!==i.cache&&Io(t,[ze],a,!0),ai(),n=r.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Zd(e,t,n,a);break e}else if(n!==s){s=Rt(Error(N(424)),t),vi(s),t=Zd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ge=Ut(e.firstChild),Je=t,ee=!0,Ha=null,Dt=!0,a=pm(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sn(),n===s){t=_a(e,t,a);break e}Ye(e,t,n,a)}t=t.child}return t;case 26:return Er(e,t),e===null?(a=yh(t.type,null,t.pendingProps,null))?t.memoizedState=a:ee||(a=t.type,e=t.pendingProps,n=tl(La.current).createElement(a),n[Ke]=t,n[dt]=e,Ze(n,a,e),Ve(n),t.stateNode=n):t.memoizedState=yh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qo(t),e===null&&ee&&(n=t.stateNode=F0(t.type,t.pendingProps,La.current),Je=t,Dt=!0,s=ge,en(t.type)?(Su=s,ge=Ut(n.firstChild)):ge=s),Ye(e,t,t.pendingProps.children,a),Er(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ee&&((s=n=ge)&&(n=Jv(n,t.type,t.pendingProps,Dt),n!==null?(t.stateNode=n,Je=t,ge=Ut(n.firstChild),Dt=!1,s=!0):s=!1),s||Pa(t)),qo(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,n=i.children,bu(s,i)?n=null:r!==null&&bu(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=mc(e,t,ov,null,null,a),ji._currentValue=s),Er(e,t),Ye(e,t,n,a),t.child;case 6:return e===null&&ee&&((e=a=ge)&&(a=Xv(a,t.pendingProps,Dt),a!==null?(t.stateNode=a,Je=t,ge=null,e=!0):e=!1),e||Pa(t)),null;case 13:return r0(e,t,a);case 4:return Dr(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=En(t,null,n,a):Ye(e,t,n,a),t.child;case 11:return Vd(e,t,t.type,t.pendingProps,a);case 7:return Ye(e,t,t.pendingProps,a),t.child;case 8:return Ye(e,t,t.pendingProps.children,a),t.child;case 12:return Ye(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ca(t,t.type,n.value),Ye(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,jn(t),s=Xe(s),n=n(s),t.flags|=1,Ye(e,t,n,a),t.child;case 14:return Qd(e,t,t.type,t.pendingProps,a);case 15:return s0(e,t,t.type,t.pendingProps,a);case 19:return l0(e,t,a);case 31:return yv(e,t,a);case 22:return i0(e,t,a,t.pendingProps);case 24:return jn(t),n=Xe(ze),e===null?(s=uc(),s===null&&(s=ue,i=oc(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=a),s=i),t.memoizedState={parent:n,cache:s},dc(t),Ca(t,ze,s)):(e.lanes&a&&(Wo(e,t),ni(t,null,null,a),ai()),s=e.memoizedState,i=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ca(t,ze,n)):(n=i.cache,Ca(t,ze,n),n!==s.cache&&Io(t,[ze],a,!0))),Ye(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(N(156,t.tag))}function sa(e){e.flags|=4}function ro(e,t,a,n,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(R0())e.flags|=8192;else throw xn=Hr,cc}else e.flags&=-16777217}function Id(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!tg(t))if(R0())e.flags|=8192;else throw xn=Hr,cc}function tr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Df():536870912,e.lanes|=t,bs|=t)}function Hs(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function vv(e,t,a){var n=t.pendingProps;switch(lc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return me(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ga(ze),fs(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zn(t)?sa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Il())),me(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(sa(t),i!==null?(me(t),Id(t,i)):(me(t),ro(t,s,null,n,a))):i?i!==e.memoizedState?(sa(t),me(t),Id(t,i)):(me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&sa(t),me(t),ro(t,s,e,n,a)),null;case 27:if(zr(t),a=La.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&sa(t);else{if(!n){if(t.stateNode===null)throw Error(N(166));return me(t),null}e=Wt.current,zn(t)?Nd(t):(e=F0(s,n,a),t.stateNode=e,sa(t))}return me(t),null;case 5:if(zr(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&sa(t);else{if(!n){if(t.stateNode===null)throw Error(N(166));return me(t),null}if(i=Wt.current,zn(t))Nd(t);else{var r=tl(La.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?r.createElement(s,{is:n.is}):r.createElement(s)}}i[Ke]=t,i[dt]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Ze(i,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&sa(t)}}return me(t),ro(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&sa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(e=La.current,zn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=Je,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[Ke]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||X0(e.nodeValue,a)),e||Pa(t,!0)}else e=tl(e).createTextNode(n),e[Ke]=t,t.stateNode=e}return me(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=zn(t),a!==null){if(e===null){if(!n)throw Error(N(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(557));e[Ke]=t}else Sn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),e=!1}else a=Il(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(gt(t),t):(gt(t),null);if(t.flags&128)throw Error(N(558))}return me(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=zn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Ke]=t}else Sn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),s=!1}else s=Il(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(gt(t),t):(gt(t),null)}return gt(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==s&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),tr(t,t.updateQueue),me(t),null);case 4:return fs(),e===null&&zc(t.stateNode.containerInfo),me(t),null;case 10:return ga(t.type),me(t),null;case 19:if(Qe(Te),n=t.memoizedState,n===null)return me(t),null;if(s=(t.flags&128)!==0,i=n.rendering,i===null)if(s)Hs(n,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Vr(e),i!==null){for(t.flags|=128,Hs(n,!1),e=i.updateQueue,t.updateQueue=e,tr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)um(a,e),a=a.sibling;return he(Te,Te.current&1|2),ee&&ua(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&_t()>Zr&&(t.flags|=128,s=!0,Hs(n,!1),t.lanes=4194304)}else{if(!s)if(e=Vr(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,tr(t,e),Hs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ee)return me(t),null}else 2*_t()-n.renderingStartTime>Zr&&a!==536870912&&(t.flags|=128,s=!0,Hs(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=_t(),e.sibling=null,a=Te.current,he(Te,s?a&1|2:a&1),ee&&ua(t,n.treeForkCount),e):(me(t),null);case 22:case 23:return gt(t),hc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),a=t.updateQueue,a!==null&&tr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Qe(_n),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ga(ze),me(t),null;case 25:return null;case 30:return null}throw Error(N(156,t.tag))}function bv(e,t){switch(lc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(ze),fs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zr(t),null;case 31:if(t.memoizedState!==null){if(gt(t),t.alternate===null)throw Error(N(340));Sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(Te),null;case 4:return fs(),null;case 10:return ga(t.type),null;case 22:case 23:return gt(t),hc(),e!==null&&Qe(_n),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ga(ze),null;case 25:return null;default:return null}}function u0(e,t){switch(lc(t),t.tag){case 3:ga(ze),fs();break;case 26:case 27:case 5:zr(t);break;case 4:fs();break;case 31:t.memoizedState!==null&&gt(t);break;case 13:gt(t);break;case 19:Qe(Te);break;case 10:ga(t.type);break;case 22:case 23:gt(t),hc(),e!==null&&Qe(_n);break;case 24:ga(ze)}}function Li(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var i=a.create,r=a.inst;n=i(),r.destroy=n}a=a.next}while(a!==s)}}catch(l){ie(t,t.return,l)}}function Ia(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&e)===e){var r=n.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=t;var u=a,c=l;try{c()}catch(h){ie(s,u,h)}}}n=n.next}while(n!==i)}}catch(h){ie(t,t.return,h)}}function c0(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{bm(t,a)}catch(n){ie(e,e.return,n)}}}function d0(e,t,a){a.props=Tn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ie(e,t,n)}}function ii(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){ie(e,t,s)}}function Ft(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){ie(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){ie(e,t,s)}else a.current=null}function h0(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){ie(e,e.return,s)}}function lo(e,t,a){try{var n=e.stateNode;Hv(n,e.type,a,t),n[dt]=t}catch(s){ie(e,e.return,s)}}function f0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&en(e.type)||e.tag===4}function oo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||f0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&en(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ha));else if(n!==4&&(n===27&&en(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(cu(e,t,a),e=e.sibling;e!==null;)cu(e,t,a),e=e.sibling}function Xr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&en(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xr(e,t,a),e=e.sibling;e!==null;)Xr(e,t,a),e=e.sibling}function m0(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ze(t,n,a),t[Ke]=e,t[dt]=a}catch(i){ie(e,e.return,i)}}var ca=!1,De=!1,uo=!1,Fd=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function _v(e,t){if(e=e.containerInfo,pu=il,e=tm(e),ac(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,l=-1,u=-1,c=0,h=0,y=e,f=null;t:for(;;){for(var m;y!==a||s!==0&&y.nodeType!==3||(l=r+s),y!==i||n!==0&&y.nodeType!==3||(u=r+n),y.nodeType===3&&(r+=y.nodeValue.length),(m=y.firstChild)!==null;)f=y,y=m;for(;;){if(y===e)break t;if(f===a&&++c===s&&(l=r),f===i&&++h===n&&(u=r),(m=y.nextSibling)!==null)break;y=f,f=y.parentNode}y=m}a=l===-1||u===-1?null:{start:l,end:u}}else a=null}a=a||{start:0,end:0}}else a=null;for(vu={focusedElem:e,selectionRange:a},il=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){switch(t=Ge,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,a=t,s=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var b=Tn(a.type,s);e=n.getSnapshotBeforeUpdate(b,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(_){ie(a,a.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)_u(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(N(163))}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}}function g0(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ra(e,a),n&4&&Li(5,a);break;case 1:if(ra(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){ie(a,a.return,r)}else{var s=Tn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ie(a,a.return,r)}}n&64&&c0(a),n&512&&ii(a,a.return);break;case 3:if(ra(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{bm(e,t)}catch(r){ie(a,a.return,r)}}break;case 27:t===null&&n&4&&m0(a);case 26:case 5:ra(e,a),t===null&&n&4&&h0(a),n&512&&ii(a,a.return);break;case 12:ra(e,a);break;case 31:ra(e,a),n&4&&v0(e,a);break;case 13:ra(e,a),n&4&&b0(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ov.bind(null,a),Zv(e,a))));break;case 22:if(n=a.memoizedState!==null||ca,!n){t=t!==null&&t.memoizedState!==null||De,s=ca;var i=De;ca=n,(De=t)&&!i?la(e,a,(a.subtreeFlags&8772)!==0):ra(e,a),ca=s,De=i}break;case 30:break;default:ra(e,a)}}function y0(e){var t=e.alternate;t!==null&&(e.alternate=null,y0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Pu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var be=null,ot=!1;function ia(e,t,a){for(a=a.child;a!==null;)p0(e,t,a),a=a.sibling}function p0(e,t,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Di,a)}catch{}switch(a.tag){case 26:De||Ft(a,t),ia(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Ft(a,t);var n=be,s=ot;en(a.type)&&(be=a.stateNode,ot=!1),ia(e,t,a),ui(a.stateNode),be=n,ot=s;break;case 5:De||Ft(a,t);case 6:if(n=be,s=ot,be=null,ia(e,t,a),be=n,ot=s,be!==null)if(ot)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(i){ie(a,t,i)}else try{be.removeChild(a.stateNode)}catch(i){ie(a,t,i)}break;case 18:be!==null&&(ot?(e=be,dh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ss(e)):dh(be,a.stateNode));break;case 4:n=be,s=ot,be=a.stateNode.containerInfo,ot=!0,ia(e,t,a),be=n,ot=s;break;case 0:case 11:case 14:case 15:Ia(2,a,t),De||Ia(4,a,t),ia(e,t,a);break;case 1:De||(Ft(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&d0(a,t,n)),ia(e,t,a);break;case 21:ia(e,t,a);break;case 22:De=(n=De)||a.memoizedState!==null,ia(e,t,a),De=n;break;default:ia(e,t,a)}}function v0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ss(e)}catch(a){ie(t,t.return,a)}}}function b0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ss(e)}catch(a){ie(t,t.return,a)}}function xv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fd),t;default:throw Error(N(435,e.tag))}}function ar(e,t){var a=xv(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var s=Cv.bind(null,e,n);n.then(s,s)}})}function rt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],i=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(en(l.type)){be=l.stateNode,ot=!1;break e}break;case 5:be=l.stateNode,ot=!1;break e;case 3:case 4:be=l.stateNode.containerInfo,ot=!0;break e}l=l.return}if(be===null)throw Error(N(160));p0(i,r,s),be=null,ot=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_0(t,e),t=t.sibling}var Jt=null;function _0(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rt(t,e),lt(e),n&4&&(Ia(3,e,e.return),Li(3,e),Ia(5,e,e.return));break;case 1:rt(t,e),lt(e),n&512&&(De||a===null||Ft(a,a.return)),n&64&&ca&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=Jt;if(rt(t,e),lt(e),n&512&&(De||a===null||Ft(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Mi]||i[Ke]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(n),s.head.insertBefore(i,s.querySelector("head > title"))),Ze(i,n,a),i[Ke]=e,Ve(i),n=i;break e;case"link":var r=vh("link","href",s).get(n+(a.href||""));if(r){for(var l=0;l<r.length;l++)if(i=r[l],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(l,1);break t}}i=s.createElement(n),Ze(i,n,a),s.head.appendChild(i);break;case"meta":if(r=vh("meta","content",s).get(n+(a.content||""))){for(l=0;l<r.length;l++)if(i=r[l],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(l,1);break t}}i=s.createElement(n),Ze(i,n,a),s.head.appendChild(i);break;default:throw Error(N(468,n))}i[Ke]=e,Ve(i),n=i}e.stateNode=n}else bh(s,e.type,e.stateNode);else e.stateNode=ph(s,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?bh(s,e.type,e.stateNode):ph(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&lo(e,e.memoizedProps,a.memoizedProps)}break;case 27:rt(t,e),lt(e),n&512&&(De||a===null||Ft(a,a.return)),a!==null&&n&4&&lo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(rt(t,e),lt(e),n&512&&(De||a===null||Ft(a,a.return)),e.flags&32){s=e.stateNode;try{gs(s,"")}catch(b){ie(e,e.return,b)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,lo(e,s,a!==null?a.memoizedProps:s)),n&1024&&(uo=!0);break;case 6:if(rt(t,e),lt(e),n&4){if(e.stateNode===null)throw Error(N(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(b){ie(e,e.return,b)}}break;case 3:if(Ar=null,s=Jt,Jt=al(t.containerInfo),rt(t,e),Jt=s,lt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Ss(t.containerInfo)}catch(b){ie(e,e.return,b)}uo&&(uo=!1,x0(e));break;case 4:n=Jt,Jt=al(e.stateNode.containerInfo),rt(t,e),lt(e),Jt=n;break;case 12:rt(t,e),lt(e);break;case 31:rt(t,e),lt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ar(e,n)));break;case 13:rt(t,e),lt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Al=_t()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ar(e,n)));break;case 22:s=e.memoizedState!==null;var u=a!==null&&a.memoizedState!==null,c=ca,h=De;if(ca=c||s,De=h||u,rt(t,e),De=h,ca=c,lt(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||u||ca||De||fn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){u=a=t;try{if(i=u.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=u.stateNode;var y=u.memoizedProps.style,f=y!=null&&y.hasOwnProperty("display")?y.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(b){ie(u,u.return,b)}}}else if(t.tag===6){if(a===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(b){ie(u,u.return,b)}}}else if(t.tag===18){if(a===null){u=t;try{var m=u.stateNode;s?hh(m,!0):hh(u.stateNode,!1)}catch(b){ie(u,u.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,ar(e,a))));break;case 19:rt(t,e),lt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ar(e,n)));break;case 30:break;case 21:break;default:rt(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(f0(n)){a=n;break}n=n.return}if(a==null)throw Error(N(160));switch(a.tag){case 27:var s=a.stateNode,i=oo(e);Xr(e,i,s);break;case 5:var r=a.stateNode;a.flags&32&&(gs(r,""),a.flags&=-33);var l=oo(e);Xr(e,l,r);break;case 3:case 4:var u=a.stateNode.containerInfo,c=oo(e);cu(e,c,u);break;default:throw Error(N(161))}}catch(h){ie(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;x0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)g0(e,t.alternate,t),t=t.sibling}function fn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ia(4,t,t.return),fn(t);break;case 1:Ft(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&d0(t,t.return,a),fn(t);break;case 27:ui(t.stateNode);case 26:case 5:Ft(t,t.return),fn(t);break;case 22:t.memoizedState===null&&fn(t);break;case 30:fn(t);break;default:fn(t)}e=e.sibling}}function la(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:la(s,i,a),Li(4,i);break;case 1:if(la(s,i,a),n=i,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){ie(n,n.return,c)}if(n=i,s=n.updateQueue,s!==null){var l=n.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)vm(u[s],l)}catch(c){ie(n,n.return,c)}}a&&r&64&&c0(i),ii(i,i.return);break;case 27:m0(i);case 26:case 5:la(s,i,a),a&&n===null&&r&4&&h0(i),ii(i,i.return);break;case 12:la(s,i,a);break;case 31:la(s,i,a),a&&r&4&&v0(s,i);break;case 13:la(s,i,a),a&&r&4&&b0(s,i);break;case 22:i.memoizedState===null&&la(s,i,a),ii(i,i.return);break;case 30:break;default:la(s,i,a)}t=t.sibling}}function Ac(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Bi(a))}function Oc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bi(e))}function Vt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w0(e,t,a,n),t=t.sibling}function w0(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Vt(e,t,a,n),s&2048&&Li(9,t);break;case 1:Vt(e,t,a,n);break;case 3:Vt(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bi(e)));break;case 12:if(s&2048){Vt(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,l=i.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){ie(t,t.return,u)}}else Vt(e,t,a,n);break;case 31:Vt(e,t,a,n);break;case 13:Vt(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Vt(e,t,a,n):ri(e,t):i._visibility&2?Vt(e,t,a,n):(i._visibility|=2,Gn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Ac(r,t);break;case 24:Vt(e,t,a,n),s&2048&&Oc(t.alternate,t);break;default:Vt(e,t,a,n)}}function Gn(e,t,a,n,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,l=a,u=n,c=r.flags;switch(r.tag){case 0:case 11:case 15:Gn(i,r,l,u,s),Li(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?Gn(i,r,l,u,s):ri(i,r):(h._visibility|=2,Gn(i,r,l,u,s)),s&&c&2048&&Ac(r.alternate,r);break;case 24:Gn(i,r,l,u,s),s&&c&2048&&Oc(r.alternate,r);break;default:Gn(i,r,l,u,s)}t=t.sibling}}function ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:ri(a,n),s&2048&&Ac(n.alternate,n);break;case 24:ri(a,n),s&2048&&Oc(n.alternate,n);break;default:ri(a,n)}t=t.sibling}}var Xs=8192;function Un(e,t,a){if(e.subtreeFlags&Xs)for(e=e.child;e!==null;)S0(e,t,a),e=e.sibling}function S0(e,t,a){switch(e.tag){case 26:Un(e,t,a),e.flags&Xs&&e.memoizedState!==null&&lb(a,Jt,e.memoizedState,e.memoizedProps);break;case 5:Un(e,t,a);break;case 3:case 4:var n=Jt;Jt=al(e.stateNode.containerInfo),Un(e,t,a),Jt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Xs,Xs=16777216,Un(e,t,a),Xs=n):Un(e,t,a));break;default:Un(e,t,a)}}function j0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ge=n,N0(n,e)}j0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)E0(e),e=e.sibling}function E0(e){switch(e.tag){case 0:case 11:case 15:Gs(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:Gs(e);break;case 12:Gs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Nr(e)):Gs(e);break;default:Gs(e)}}function Nr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ge=n,N0(n,e)}j0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ia(8,t,t.return),Nr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Nr(t));break;default:Nr(t)}e=e.sibling}}function N0(e,t){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:Ia(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Bi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ge=n;else e:for(a=e;Ge!==null;){n=Ge;var s=n.sibling,i=n.return;if(y0(n),n===a){Ge=null;break e}if(s!==null){s.return=i,Ge=s;break e}Ge=i}}}var wv={getCacheForType:function(e){var t=Xe(ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Xe(ze).controller.signal}},Sv=typeof WeakMap=="function"?WeakMap:Map,ae=0,ue=null,F=null,W=0,se=0,mt=null,qa=!1,Cs=!1,Cc=!1,xa=0,Ne=0,Fa=0,wn=0,kc=0,bt=0,bs=0,li=null,ut=null,du=!1,Al=0,T0=0,Zr=1/0,Pr=null,Qa=null,Be=0,Ya=null,_s=null,ya=0,hu=0,fu=null,A0=null,oi=0,mu=null;function St(){return ae&2&&W!==0?W&-W:H.T!==null?Dc():qf()}function O0(){if(bt===0)if(!(W&536870912)||ee){var e=Xi;Xi<<=1,!(Xi&3932160)&&(Xi=262144),bt=e}else bt=536870912;return e=Et.current,e!==null&&(e.flags|=32),bt}function ct(e,t,a){(e===ue&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(xs(e,0),Ba(e,W,bt,!1)),Ui(e,a),(!(ae&2)||e!==ue)&&(e===ue&&(!(ae&2)&&(wn|=a),Ne===4&&Ba(e,W,bt,!1)),ta(e))}function C0(e,t,a){if(ae&6)throw Error(N(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||zi(e,t),s=n?Nv(e,t):co(e,t,!0),i=n;do{if(s===0){Cs&&!n&&Ba(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!jv(a)){s=co(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;s=li;var u=l.current.memoizedState.isDehydrated;if(u&&(xs(l,r).flags|=256),r=co(l,r,!1),r!==2){if(Cc&&!u){l.errorRecoveryDisabledLanes|=i,wn|=i,s=4;break e}i=ut,ut=s,i!==null&&(ut===null?ut=i:ut.push.apply(ut,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){xs(e,0),Ba(e,t,0,!0);break}e:{switch(n=e,i=s,i){case 0:case 1:throw Error(N(345));case 4:if((t&4194048)!==t)break;case 6:Ba(n,t,bt,!qa);break e;case 2:ut=null;break;case 3:case 5:break;default:throw Error(N(329))}if((t&62914560)===t&&(s=Al+300-_t(),10<s)){if(Ba(n,t,bt,!qa),pl(n,0,!0)!==0)break e;ya=t,n.timeoutHandle=P0(Wd.bind(null,n,a,ut,Pr,du,t,bt,wn,bs,qa,i,"Throttled",-0,0),s);break e}Wd(n,a,ut,Pr,du,t,bt,wn,bs,qa,i,null,-0,0)}}break}while(!0);ta(e)}function Wd(e,t,a,n,s,i,r,l,u,c,h,y,f,m){if(e.timeoutHandle=-1,y=t.subtreeFlags,y&8192||(y&16785408)===16785408){y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ha},S0(t,i,y);var b=(i&62914560)===i?Al-_t():(i&4194048)===i?T0-_t():0;if(b=ob(y,b),b!==null){ya=i,e.cancelPendingCommit=b(th.bind(null,e,t,i,a,n,s,r,l,u,h,y,null,f,m)),Ba(e,i,r,!c);return}}th(e,t,i,a,n,s,r,l,u)}function jv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],i=s.getSnapshot;s=s.value;try{if(!jt(i(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,a,n){t&=~kc,t&=~wn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var i=31-wt(s),r=1<<i;n[i]=-1,s&=~r}a!==0&&zf(e,a,t)}function Ol(){return ae&6?!0:(Hi(0),!1)}function Rc(){if(F!==null){if(se===0)var e=F.return;else e=F,fa=Rn=null,pc(e),us=null,bi=0,e=F;for(;e!==null;)u0(e.alternate,e),e=e.return;F=null}}function xs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Qv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ya=0,Rc(),ue=e,F=a=ma(e.current,null),W=t,se=0,mt=null,qa=!1,Cs=zi(e,t),Cc=!1,bs=bt=kc=wn=Fa=Ne=0,ut=li=null,du=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-wt(n),i=1<<s;t|=e[s],n&=~i}return xa=t,xl(),a}function k0(e,t){Z=null,H.H=xi,t===Os||t===Sl?(t=kd(),se=3):t===cc?(t=kd(),se=4):se=t===Nc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,mt=t,F===null&&(Ne=1,Kr(e,Rt(t,e.current)))}function R0(){var e=Et.current;return e===null?!0:(W&4194048)===W?zt===null:(W&62914560)===W||W&536870912?e===zt:!1}function D0(){var e=H.H;return H.H=xi,e===null?xi:e}function z0(){var e=H.A;return H.A=wv,e}function Ir(){Ne=4,qa||(W&4194048)!==W&&Et.current!==null||(Cs=!0),!(Fa&134217727)&&!(wn&134217727)||ue===null||Ba(ue,W,bt,!1)}function co(e,t,a){var n=ae;ae|=2;var s=D0(),i=z0();(ue!==e||W!==t)&&(Pr=null,xs(e,t)),t=!1;var r=Ne;e:do try{if(se!==0&&F!==null){var l=F,u=mt;switch(se){case 8:Rc(),r=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var c=se;if(se=0,mt=null,ns(e,l,u,c),a&&Cs){r=0;break e}break;default:c=se,se=0,mt=null,ns(e,l,u,c)}}Ev(),r=Ne;break}catch(h){k0(e,h)}while(!0);return t&&e.shellSuspendCounter++,fa=Rn=null,ae=n,H.H=s,H.A=i,F===null&&(ue=null,W=0,xl()),r}function Ev(){for(;F!==null;)U0(F)}function Nv(e,t){var a=ae;ae|=2;var n=D0(),s=z0();ue!==e||W!==t?(Pr=null,Zr=_t()+500,xs(e,t)):Cs=zi(e,t);e:do try{if(se!==0&&F!==null){t=F;var i=mt;t:switch(se){case 1:se=0,mt=null,ns(e,t,i,1);break;case 2:case 9:if(Cd(i)){se=0,mt=null,eh(t);break}t=function(){se!==2&&se!==9||ue!==e||(se=7),ta(e)},i.then(t,t);break e;case 3:se=7;break e;case 4:se=5;break e;case 7:Cd(i)?(se=0,mt=null,eh(t)):(se=0,mt=null,ns(e,t,i,7));break;case 5:var r=null;switch(F.tag){case 26:r=F.memoizedState;case 5:case 27:var l=F;if(r?tg(r):l.stateNode.complete){se=0,mt=null;var u=l.sibling;if(u!==null)F=u;else{var c=l.return;c!==null?(F=c,Cl(c)):F=null}break t}}se=0,mt=null,ns(e,t,i,5);break;case 6:se=0,mt=null,ns(e,t,i,6);break;case 8:Rc(),Ne=6;break e;default:throw Error(N(462))}}Tv();break}catch(h){k0(e,h)}while(!0);return fa=Rn=null,H.H=n,H.A=s,ae=a,F!==null?0:(ue=null,W=0,xl(),Ne)}function Tv(){for(;F!==null&&!Py();)U0(F)}function U0(e){var t=o0(e.alternate,e,xa);e.memoizedProps=e.pendingProps,t===null?Cl(e):F=t}function eh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Jd(a,t,t.pendingProps,t.type,void 0,W);break;case 11:t=Jd(a,t,t.pendingProps,t.type.render,t.ref,W);break;case 5:pc(t);default:u0(a,t),t=F=um(t,xa),t=o0(a,t,xa)}e.memoizedProps=e.pendingProps,t===null?Cl(e):F=t}function ns(e,t,a,n){fa=Rn=null,pc(t),us=null,bi=0;var s=t.return;try{if(gv(e,s,t,a,W)){Ne=1,Kr(e,Rt(a,e.current)),F=null;return}}catch(i){if(s!==null)throw F=s,i;Ne=1,Kr(e,Rt(a,e.current)),F=null;return}t.flags&32768?(ee||n===1?e=!0:Cs||W&536870912?e=!1:(qa=e=!0,(n===2||n===9||n===3||n===6)&&(n=Et.current,n!==null&&n.tag===13&&(n.flags|=16384))),M0(t,e)):Cl(t)}function Cl(e){var t=e;do{if(t.flags&32768){M0(t,qa);return}e=t.return;var a=vv(t.alternate,t,xa);if(a!==null){F=a;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);Ne===0&&(Ne=5)}function M0(e,t){do{var a=bv(e.alternate,e);if(a!==null){a.flags&=32767,F=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=a}while(e!==null);Ne=6,F=null}function th(e,t,a,n,s,i,r,l,u){e.cancelPendingCommit=null;do kl();while(Be!==0);if(ae&6)throw Error(N(327));if(t!==null){if(t===e.current)throw Error(N(177));if(i=t.lanes|t.childLanes,i|=nc,rp(e,a,i,r,l,u),e===ue&&(F=ue=null,W=0),_s=t,Ya=e,ya=a,hu=i,fu=s,A0=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,kv(Ur,function(){return H0(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=H.T,H.T=null,s=ne.p,ne.p=2,r=ae,ae|=4;try{_v(e,t,a)}finally{ae=r,ne.p=s,H.T=n}}Be=1,q0(),B0(),$0()}}function q0(){if(Be===1){Be=0;var e=Ya,t=_s,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=H.T,H.T=null;var n=ne.p;ne.p=2;var s=ae;ae|=4;try{_0(t,e);var i=vu,r=tm(e.containerInfo),l=i.focusedElem,u=i.selectionRange;if(r!==l&&l&&l.ownerDocument&&em(l.ownerDocument.documentElement,l)){if(u!==null&&ac(l)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(h,l.value.length);else{var y=l.ownerDocument||document,f=y&&y.defaultView||window;if(f.getSelection){var m=f.getSelection(),b=l.textContent.length,_=Math.min(u.start,b),x=u.end===void 0?_:Math.min(u.end,b);!m.extend&&_>x&&(r=x,x=_,_=r);var p=Sd(l,_),d=Sd(l,x);if(p&&d&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==d.node||m.focusOffset!==d.offset)){var g=y.createRange();g.setStart(p.node,p.offset),m.removeAllRanges(),_>x?(m.addRange(g),m.extend(d.node,d.offset)):(g.setEnd(d.node,d.offset),m.addRange(g))}}}}for(y=[],m=l;m=m.parentNode;)m.nodeType===1&&y.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<y.length;l++){var v=y[l];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}il=!!pu,vu=pu=null}finally{ae=s,ne.p=n,H.T=a}}e.current=t,Be=2}}function B0(){if(Be===2){Be=0;var e=Ya,t=_s,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=H.T,H.T=null;var n=ne.p;ne.p=2;var s=ae;ae|=4;try{g0(e,t.alternate,t)}finally{ae=s,ne.p=n,H.T=a}}Be=3}}function $0(){if(Be===4||Be===3){Be=0,Iy();var e=Ya,t=_s,a=ya,n=A0;t.subtreeFlags&10256||t.flags&10256?Be=5:(Be=0,_s=Ya=null,L0(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Qa=null),Zu(a),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Di,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=H.T,s=ne.p,ne.p=2,H.T=null;try{for(var i=e.onRecoverableError,r=0;r<n.length;r++){var l=n[r];i(l.value,{componentStack:l.stack})}}finally{H.T=t,ne.p=s}}ya&3&&kl(),ta(e),s=e.pendingLanes,a&261930&&s&42?e===mu?oi++:(oi=0,mu=e):oi=0,Hi(0)}}function L0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Bi(t)))}function kl(){return q0(),B0(),$0(),H0()}function H0(){if(Be!==5)return!1;var e=Ya,t=hu;hu=0;var a=Zu(ya),n=H.T,s=ne.p;try{ne.p=32>a?32:a,H.T=null,a=fu,fu=null;var i=Ya,r=ya;if(Be=0,_s=Ya=null,ya=0,ae&6)throw Error(N(331));var l=ae;if(ae|=4,E0(i.current),w0(i,i.current,r,a),ae=l,Hi(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Di,i)}catch{}return!0}finally{ne.p=s,H.T=n,L0(e,t)}}function ah(e,t,a){t=Rt(a,t),t=lu(e.stateNode,t,2),e=Va(e,t,2),e!==null&&(Ui(e,2),ta(e))}function ie(e,t,a){if(e.tag===3)ah(e,e,a);else for(;t!==null;){if(t.tag===3){ah(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qa===null||!Qa.has(n))){e=Rt(a,e),a=a0(2),n=Va(t,a,2),n!==null&&(n0(a,n,t,e),Ui(n,2),ta(n));break}}t=t.return}}function ho(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Sv;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(Cc=!0,s.add(a),e=Av.bind(null,e,t,a),t.then(e,e))}function Av(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ue===e&&(W&a)===a&&(Ne===4||Ne===3&&(W&62914560)===W&&300>_t()-Al?!(ae&2)&&xs(e,0):kc|=a,bs===W&&(bs=0)),ta(e)}function G0(e,t){t===0&&(t=Df()),e=kn(e,t),e!==null&&(Ui(e,t),ta(e))}function Ov(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),G0(e,a)}function Cv(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(N(314))}n!==null&&n.delete(t),G0(e,a)}function kv(e,t){return Ju(e,t)}var Fr=null,Vn=null,gu=!1,Wr=!1,fo=!1,$a=0;function ta(e){e!==Vn&&e.next===null&&(Vn===null?Fr=Vn=e:Vn=Vn.next=e),Wr=!0,gu||(gu=!0,Dv())}function Hi(e,t){if(!fo&&Wr){fo=!0;do for(var a=!1,n=Fr;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var i=0;else{var r=n.suspendedLanes,l=n.pingedLanes;i=(1<<31-wt(42|e)+1)-1,i&=s&~(r&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,nh(n,i))}else i=W,i=pl(n,n===ue?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||zi(n,i)||(a=!0,nh(n,i));n=n.next}while(a);fo=!1}}function Rv(){V0()}function V0(){Wr=gu=!1;var e=0;$a!==0&&Vv()&&(e=$a);for(var t=_t(),a=null,n=Fr;n!==null;){var s=n.next,i=Q0(n,t);i===0?(n.next=null,a===null?Fr=s:a.next=s,s===null&&(Vn=a)):(a=n,(e!==0||i&3)&&(Wr=!0)),n=s}Be!==0&&Be!==5||Hi(e),$a!==0&&($a=0)}function Q0(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-wt(i),l=1<<r,u=s[r];u===-1?(!(l&a)||l&n)&&(s[r]=ip(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}if(t=ue,a=W,a=pl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(se===2||se===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Ll(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||zi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Ll(n),Zu(a)){case 2:case 8:a=kf;break;case 32:a=Ur;break;case 268435456:a=Rf;break;default:a=Ur}return n=Y0.bind(null,e),a=Ju(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Ll(n),e.callbackPriority=2,e.callbackNode=null,2}function Y0(e,t){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(kl()&&e.callbackNode!==a)return null;var n=W;return n=pl(e,e===ue?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(C0(e,n,t),Q0(e,_t()),e.callbackNode!=null&&e.callbackNode===a?Y0.bind(null,e):null)}function nh(e,t){if(kl())return null;C0(e,t,!0)}function Dv(){Yv(function(){ae&6?Ju(Cf,Rv):V0()})}function Dc(){if($a===0){var e=ys;e===0&&(e=Ji,Ji<<=1,!(Ji&261888)&&(Ji=256)),$a=e}return $a}function sh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pr(""+e)}function ih(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function zv(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var i=sh((s[dt]||null).action),r=n.submitter;r&&(t=(t=r[dt]||null)?sh(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var l=new vl("action","action",null,n,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if($a!==0){var u=r?ih(s,r):new FormData(s);iu(a,{pending:!0,data:u,method:s.method,action:i},null,u)}}else typeof i=="function"&&(l.preventDefault(),u=r?ih(s,r):new FormData(s),iu(a,{pending:!0,data:u,method:s.method,action:i},i,u))},currentTarget:s}]})}}for(var mo=0;mo<Jo.length;mo++){var go=Jo[mo],Uv=go.toLowerCase(),Mv=go[0].toUpperCase()+go.slice(1);Zt(Uv,"on"+Mv)}Zt(nm,"onAnimationEnd");Zt(sm,"onAnimationIteration");Zt(im,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Fp,"onTransitionRun");Zt(Wp,"onTransitionStart");Zt(ev,"onTransitionCancel");Zt(rm,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wi));function K0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var r=n.length-1;0<=r;r--){var l=n[r],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=c;try{i(s)}catch(h){qr(h)}s.currentTarget=null,i=u}else for(r=0;r<n.length;r++){if(l=n[r],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=c;try{i(s)}catch(h){qr(h)}s.currentTarget=null,i=u}}}}function I(e,t){var a=t[$o];a===void 0&&(a=t[$o]=new Set);var n=e+"__bubble";a.has(n)||(J0(t,e,2,!1),a.add(n))}function yo(e,t,a){var n=0;t&&(n|=4),J0(a,e,n,t)}var nr="_reactListening"+Math.random().toString(36).slice(2);function zc(e){if(!e[nr]){e[nr]=!0,Bf.forEach(function(a){a!=="selectionchange"&&(qv.has(a)||yo(a,!1,e),yo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nr]||(t[nr]=!0,yo("selectionchange",!1,t))}}function J0(e,t,a,n){switch(rg(t)){case 2:var s=db;break;case 8:s=hb;break;default:s=Bc}a=s.bind(null,t,a,e),s=void 0,!Qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function po(e,t,a,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var l=n.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=n.return;r!==null;){var u=r.tag;if((u===3||u===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=Xn(l),r===null)return;if(u=r.tag,u===5||u===6||u===26||u===27){n=i=r;continue e}l=l.parentNode}}n=n.return}Kf(function(){var c=i,h=Fu(a),y=[];e:{var f=lm.get(e);if(f!==void 0){var m=vl,b=e;switch(e){case"keypress":if(br(a)===0)break e;case"keydown":case"keyup":m=Cp;break;case"focusin":b="focus",m=Yl;break;case"focusout":b="blur",m=Yl;break;case"beforeblur":case"afterblur":m=Yl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Dp;break;case nm:case sm:case im:m=xp;break;case rm:m=Up;break;case"scroll":case"scrollend":m=yp;break;case"wheel":m=qp;break;case"copy":case"cut":case"paste":m=Sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gd;break;case"toggle":case"beforetoggle":m=$p}var _=(t&4)!==0,x=!_&&(e==="scroll"||e==="scrollend"),p=_?f!==null?f+"Capture":null:f;_=[];for(var d=c,g;d!==null;){var v=d;if(g=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||g===null||p===null||(v=mi(d,p),v!=null&&_.push(Si(d,v,g))),x)break;d=d.return}0<_.length&&(f=new m(f,b,null,a,h),y.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&a!==Vo&&(b=a.relatedTarget||a.fromElement)&&(Xn(b)||b[Ns]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=a.relatedTarget||a.toElement,m=c,b=b?Xn(b):null,b!==null&&(x=Ri(b),_=b.tag,b!==x||_!==5&&_!==27&&_!==6)&&(b=null)):(m=null,b=c),m!==b)){if(_=fd,v="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(_=gd,v="onPointerLeave",p="onPointerEnter",d="pointer"),x=m==null?f:Ks(m),g=b==null?f:Ks(b),f=new _(v,d+"leave",m,a,h),f.target=x,f.relatedTarget=g,v=null,Xn(h)===c&&(_=new _(p,d+"enter",b,a,h),_.target=g,_.relatedTarget=x,v=_),x=v,m&&b)t:{for(_=Bv,p=m,d=b,g=0,v=p;v;v=_(v))g++;v=0;for(var j=d;j;j=_(j))v++;for(;0<g-v;)p=_(p),g--;for(;0<v-g;)d=_(d),v--;for(;g--;){if(p===d||d!==null&&p===d.alternate){_=p;break t}p=_(p),d=_(d)}_=null}else _=null;m!==null&&rh(y,f,m,_,!1),b!==null&&x!==null&&rh(y,x,b,_,!0)}}e:{if(f=c?Ks(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=bd;else if(vd(f))if(Ff)S=Zp;else{S=Jp;var E=Kp}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&Iu(c.elementType)&&(S=bd):S=Xp;if(S&&(S=S(e,c))){If(y,S,a,h);break e}E&&E(e,f,c),e==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&Go(f,"number",f.value)}switch(E=c?Ks(c):window,e){case"focusin":(vd(E)||E.contentEditable==="true")&&(In=E,Yo=c,Ws=null);break;case"focusout":Ws=Yo=In=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,jd(y,a,h);break;case"selectionchange":if(Ip)break;case"keydown":case"keyup":jd(y,a,h)}var R;if(tc)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Pn?Zf(e,a)&&(U="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(U="onCompositionStart");U&&(Xf&&a.locale!=="ko"&&(Pn||U!=="onCompositionStart"?U==="onCompositionEnd"&&Pn&&(R=Jf()):(Ma=h,Wu="value"in Ma?Ma.value:Ma.textContent,Pn=!0)),E=el(c,U),0<E.length&&(U=new md(U,e,null,a,h),y.push({event:U,listeners:E}),R?U.data=R:(R=Pf(a),R!==null&&(U.data=R)))),(R=Hp?Gp(e,a):Vp(e,a))&&(U=el(c,"onBeforeInput"),0<U.length&&(E=new md("onBeforeInput","beforeinput",null,a,h),y.push({event:E,listeners:U}),E.data=R)),zv(y,e,c,a,h)}K0(y,t)})}function Si(e,t,a){return{instance:e,listener:t,currentTarget:a}}function el(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=mi(e,a),s!=null&&n.unshift(Si(e,s,i)),s=mi(e,t),s!=null&&n.push(Si(e,s,i))),e.tag===3)return n;e=e.return}return[]}function Bv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rh(e,t,a,n,s){for(var i=t._reactName,r=[];a!==null&&a!==n;){var l=a,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===n)break;l!==5&&l!==26&&l!==27||c===null||(u=c,s?(c=mi(a,i),c!=null&&r.unshift(Si(a,c,u))):s||(c=mi(a,i),c!=null&&r.push(Si(a,c,u)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var $v=/\r\n?/g,Lv=/\u0000|\uFFFD/g;function lh(e){return(typeof e=="string"?e:""+e).replace($v,`
`).replace(Lv,"")}function X0(e,t){return t=lh(t),lh(e)===t}function le(e,t,a,n,s,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||gs(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&gs(e,""+n);break;case"className":Pi(e,"class",n);break;case"tabIndex":Pi(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(e,a,n);break;case"style":Yf(e,n,i);break;case"data":if(t!=="object"){Pi(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=pr(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&le(e,t,"name",s.name,s,null),le(e,t,"formEncType",s.formEncType,s,null),le(e,t,"formMethod",s.formMethod,s,null),le(e,t,"formTarget",s.formTarget,s,null)):(le(e,t,"encType",s.encType,s,null),le(e,t,"method",s.method,s,null),le(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=pr(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ha);break;case"onScroll":n!=null&&I("scroll",e);break;case"onScrollEnd":n!=null&&I("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(N(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(N(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=pr(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":I("beforetoggle",e),I("toggle",e),yr(e,"popover",n);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":yr(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mp.get(a)||a,yr(e,a,n))}}function yu(e,t,a,n,s,i){switch(a){case"style":Yf(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(N(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(N(60));e.innerHTML=a}}break;case"children":typeof n=="string"?gs(e,n):(typeof n=="number"||typeof n=="bigint")&&gs(e,""+n);break;case"onScroll":n!=null&&I("scroll",e);break;case"onScrollEnd":n!=null&&I("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ha);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$f.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),i=e[dt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):yr(e,a,n)}}}function Ze(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":I("error",e),I("load",e);var n=!1,s=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:le(e,t,i,r,a,null)}}s&&le(e,t,"srcSet",a.srcSet,a,null),n&&le(e,t,"src",a.src,a,null);return;case"input":I("invalid",e);var l=i=r=s=null,u=null,c=null;for(n in a)if(a.hasOwnProperty(n)){var h=a[n];if(h!=null)switch(n){case"name":s=h;break;case"type":r=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,t));break;default:le(e,t,n,h,a,null)}}Gf(e,i,l,u,c,r,s,!1);return;case"select":I("invalid",e),n=r=i=null;for(s in a)if(a.hasOwnProperty(s)&&(l=a[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"multiple":n=l;default:le(e,t,s,l,a,null)}t=i,a=r,e.multiple=!!n,t!=null?rs(e,!!n,t,!1):a!=null&&rs(e,!!n,a,!0);return;case"textarea":I("invalid",e),i=s=n=null;for(r in a)if(a.hasOwnProperty(r)&&(l=a[r],l!=null))switch(r){case"value":n=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(N(91));break;default:le(e,t,r,l,a,null)}Qf(e,n,s,i);return;case"option":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:le(e,t,u,n,a,null)}return;case"dialog":I("beforetoggle",e),I("toggle",e),I("cancel",e),I("close",e);break;case"iframe":case"object":I("load",e);break;case"video":case"audio":for(n=0;n<wi.length;n++)I(wi[n],e);break;case"image":I("error",e),I("load",e);break;case"details":I("toggle",e);break;case"embed":case"source":case"link":I("error",e),I("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:le(e,t,c,n,a,null)}return;default:if(Iu(t)){for(h in a)a.hasOwnProperty(h)&&(n=a[h],n!==void 0&&yu(e,t,h,n,a,void 0));return}}for(l in a)a.hasOwnProperty(l)&&(n=a[l],n!=null&&le(e,t,l,n,a,null))}function Hv(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,l=null,u=null,c=null,h=null;for(m in a){var y=a[m];if(a.hasOwnProperty(m)&&y!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":u=y;default:n.hasOwnProperty(m)||le(e,t,m,null,n,y)}}for(var f in n){var m=n[f];if(y=a[f],n.hasOwnProperty(f)&&(m!=null||y!=null))switch(f){case"type":i=m;break;case"name":s=m;break;case"checked":c=m;break;case"defaultChecked":h=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(N(137,t));break;default:m!==y&&le(e,t,f,m,n,y)}}Ho(e,r,l,u,c,h,i,s);return;case"select":m=r=l=f=null;for(i in a)if(u=a[i],a.hasOwnProperty(i)&&u!=null)switch(i){case"value":break;case"multiple":m=u;default:n.hasOwnProperty(i)||le(e,t,i,null,n,u)}for(s in n)if(i=n[s],u=a[s],n.hasOwnProperty(s)&&(i!=null||u!=null))switch(s){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":r=i;default:i!==u&&le(e,t,s,i,n,u)}t=l,a=r,n=m,f!=null?rs(e,!!a,f,!1):!!n!=!!a&&(t!=null?rs(e,!!a,t,!0):rs(e,!!a,a?[]:"",!1));return;case"textarea":m=f=null;for(l in a)if(s=a[l],a.hasOwnProperty(l)&&s!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:le(e,t,l,null,n,s)}for(r in n)if(s=n[r],i=a[r],n.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":f=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(N(91));break;default:s!==i&&le(e,t,r,s,n,i)}Vf(e,f,m);return;case"option":for(var b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!n.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:le(e,t,b,null,n,f)}for(u in n)if(f=n[u],m=a[u],n.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:le(e,t,u,f,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in a)f=a[_],a.hasOwnProperty(_)&&f!=null&&!n.hasOwnProperty(_)&&le(e,t,_,null,n,f);for(c in n)if(f=n[c],m=a[c],n.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(N(137,t));break;default:le(e,t,c,f,n,m)}return;default:if(Iu(t)){for(var x in a)f=a[x],a.hasOwnProperty(x)&&f!==void 0&&!n.hasOwnProperty(x)&&yu(e,t,x,void 0,n,f);for(h in n)f=n[h],m=a[h],!n.hasOwnProperty(h)||f===m||f===void 0&&m===void 0||yu(e,t,h,f,n,m);return}}for(var p in a)f=a[p],a.hasOwnProperty(p)&&f!=null&&!n.hasOwnProperty(p)&&le(e,t,p,null,n,f);for(y in n)f=n[y],m=a[y],!n.hasOwnProperty(y)||f===m||f==null&&m==null||le(e,t,y,f,n,m)}function oh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var s=a[n],i=s.transferSize,r=s.initiatorType,l=s.duration;if(i&&l&&oh(r)){for(r=0,l=s.responseEnd,n+=1;n<a.length;n++){var u=a[n],c=u.startTime;if(c>l)break;var h=u.transferSize,y=u.initiatorType;h&&oh(y)&&(u=u.responseEnd,r+=h*(u<l?1:(l-c)/(u-c)))}if(--n,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pu=null,vu=null;function tl(e){return e.nodeType===9?e:e.ownerDocument}function uh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vo=null;function Vv(){var e=window.event;return e&&e.type==="popstate"?e===vo?!1:(vo=e,!0):(vo=null,!1)}var P0=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,Yv=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(Kv)}:P0;function Kv(e){setTimeout(function(){throw e})}function en(e){return e==="head"}function dh(e,t){var a=t,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(s),Ss(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")ui(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ui(a);for(var i=a.firstChild;i;){var r=i.nextSibling,l=i.nodeName;i[Mi]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&ui(e.ownerDocument.body);a=s}while(a);Ss(t)}function hh(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function _u(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_u(a),Pu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Jv(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Mi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ut(e.nextSibling),e===null)break}return null}function Xv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ut(e.nextSibling),e===null))return null;return e}function I0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ut(e.nextSibling),e===null))return null;return e}function xu(e){return e.data==="$?"||e.data==="$~"}function wu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Zv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Su=null;function fh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ut(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function mh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function F0(e,t,a){switch(t=tl(a),e){case"html":if(e=t.documentElement,!e)throw Error(N(452));return e;case"head":if(e=t.head,!e)throw Error(N(453));return e;case"body":if(e=t.body,!e)throw Error(N(454));return e;default:throw Error(N(451))}}function ui(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Pu(e)}var Mt=new Map,gh=new Set;function al(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wa=ne.d;ne.d={f:Pv,r:Iv,D:Fv,C:Wv,L:eb,m:tb,X:nb,S:ab,M:sb};function Pv(){var e=wa.f(),t=Ol();return e||t}function Iv(e){var t=Ts(e);t!==null&&t.tag===5&&t.type==="form"?Ym(t):wa.r(e)}var ks=typeof document>"u"?null:document;function W0(e,t,a){var n=ks;if(n&&typeof t=="string"&&t){var s=kt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),gh.has(s)||(gh.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),Ze(t,"link",e),Ve(t),n.head.appendChild(t)))}}function Fv(e){wa.D(e),W0("dns-prefetch",e,null)}function Wv(e,t){wa.C(e,t),W0("preconnect",e,t)}function eb(e,t,a){wa.L(e,t,a);var n=ks;if(n&&e&&t){var s='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+kt(a.imageSizes)+'"]')):s+='[href="'+kt(e)+'"]';var i=s;switch(t){case"style":i=ws(e);break;case"script":i=Rs(e)}Mt.has(i)||(e=pe({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Mt.set(i,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(Gi(i))||t==="script"&&n.querySelector(Vi(i))||(t=n.createElement("link"),Ze(t,"link",e),Ve(t),n.head.appendChild(t)))}}function tb(e,t){wa.m(e,t);var a=ks;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+kt(n)+'"][href="'+kt(e)+'"]',i=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Rs(e)}if(!Mt.has(i)&&(e=pe({rel:"modulepreload",href:e},t),Mt.set(i,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vi(i)))return}n=a.createElement("link"),Ze(n,"link",e),Ve(n),a.head.appendChild(n)}}}function ab(e,t,a){wa.S(e,t,a);var n=ks;if(n&&e){var s=is(n).hoistableStyles,i=ws(e);t=t||"default";var r=s.get(i);if(!r){var l={loading:0,preload:null};if(r=n.querySelector(Gi(i)))l.loading=5;else{e=pe({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Mt.get(i))&&Uc(e,a);var u=r=n.createElement("link");Ve(u),Ze(u,"link",e),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Tr(r,t,n)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(i,r)}}}function nb(e,t){wa.X(e,t);var a=ks;if(a&&e){var n=is(a).hoistableScripts,s=Rs(e),i=n.get(s);i||(i=a.querySelector(Vi(s)),i||(e=pe({src:e,async:!0},t),(t=Mt.get(s))&&Mc(e,t),i=a.createElement("script"),Ve(i),Ze(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function sb(e,t){wa.M(e,t);var a=ks;if(a&&e){var n=is(a).hoistableScripts,s=Rs(e),i=n.get(s);i||(i=a.querySelector(Vi(s)),i||(e=pe({src:e,async:!0,type:"module"},t),(t=Mt.get(s))&&Mc(e,t),i=a.createElement("script"),Ve(i),Ze(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function yh(e,t,a,n){var s=(s=La.current)?al(s):null;if(!s)throw Error(N(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ws(a.href),a=is(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ws(a.href);var i=is(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(Gi(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Mt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mt.set(e,a),i||ib(s,e,a,r.state))),t&&n===null)throw Error(N(528,""));return r}if(t&&n!==null)throw Error(N(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rs(a),a=is(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,e))}}function ws(e){return'href="'+kt(e)+'"'}function Gi(e){return'link[rel="stylesheet"]['+e+"]"}function eg(e){return pe({},e,{"data-precedence":e.precedence,precedence:null})}function ib(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ze(t,"link",a),Ve(t),e.head.appendChild(t))}function Rs(e){return'[src="'+kt(e)+'"]'}function Vi(e){return"script[async]"+e}function ph(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+kt(a.href)+'"]');if(n)return t.instance=n,Ve(n),n;var s=pe({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ve(n),Ze(n,"style",s),Tr(n,a.precedence,e),t.instance=n;case"stylesheet":s=ws(a.href);var i=e.querySelector(Gi(s));if(i)return t.state.loading|=4,t.instance=i,Ve(i),i;n=eg(a),(s=Mt.get(s))&&Uc(n,s),i=(e.ownerDocument||e).createElement("link"),Ve(i);var r=i;return r._p=new Promise(function(l,u){r.onload=l,r.onerror=u}),Ze(i,"link",n),t.state.loading|=4,Tr(i,a.precedence,e),t.instance=i;case"script":return i=Rs(a.src),(s=e.querySelector(Vi(i)))?(t.instance=s,Ve(s),s):(n=a,(s=Mt.get(i))&&(n=pe({},a),Mc(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),Ve(s),Ze(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(N(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Tr(n,a.precedence,e));return t.instance}function Tr(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,i=s,r=0;r<n.length;r++){var l=n[r];if(l.dataset.precedence===t)i=l;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ar=null;function vh(e,t,a){if(Ar===null){var n=new Map,s=Ar=new Map;s.set(a,n)}else s=Ar,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var i=a[s];if(!(i[Mi]||i[Ke]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var l=n.get(r);l?l.push(i):n.set(r,[i])}}return n}function bh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function rb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function tg(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function lb(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var s=ws(n.href),i=t.querySelector(Gi(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=nl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ve(i);return}i=t.ownerDocument||t,n=eg(n),(s=Mt.get(s))&&Uc(n,s),i=i.createElement("link"),Ve(i);var r=i;r._p=new Promise(function(l,u){r.onload=l,r.onerror=u}),Ze(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=nl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var bo=0;function ob(e,t){return e.stylesheets&&e.count===0&&Or(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Or(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&bo===0&&(bo=62500*Gv());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Or(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>bo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}function nl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Or(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sl=null;function Or(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sl=new Map,t.forEach(ub,e),sl=null,nl.call(e))}function ub(e,t){if(!(t.state.loading&4)){var a=sl.get(e);if(a)var n=a.get(null);else{a=new Map,sl.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),n=r)}n&&a.set(null,n)}s=t.instance,r=s.getAttribute("data-precedence"),i=a.get(r)||n,i===n&&a.set(null,s),a.set(r,s),this.count++,n=nl.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ji={$$typeof:da,Provider:null,Consumer:null,_currentValue:vn,_currentValue2:vn,_threadCount:0};function cb(e,t,a,n,s,i,r,l,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.hiddenUpdates=Hl(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function ag(e,t,a,n,s,i,r,l,u,c,h,y){return e=new cb(e,t,a,r,u,c,h,y,l),t=1,i===!0&&(t|=24),i=yt(3,null,null,t),e.current=i,i.stateNode=e,t=oc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},dc(i),e}function ng(e){return e?(e=es,e):es}function sg(e,t,a,n,s,i){s=ng(s),n.context===null?n.context=s:n.pendingContext=s,n=Ga(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Va(e,n,t),a!==null&&(ct(a,e,t),ti(a,e,t))}function _h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function qc(e,t){_h(e,t),(e=e.alternate)&&_h(e,t)}function ig(e){if(e.tag===13||e.tag===31){var t=kn(e,67108864);t!==null&&ct(t,e,67108864),qc(e,67108864)}}function xh(e){if(e.tag===13||e.tag===31){var t=St();t=Xu(t);var a=kn(e,t);a!==null&&ct(a,e,t),qc(e,t)}}var il=!0;function db(e,t,a,n){var s=H.T;H.T=null;var i=ne.p;try{ne.p=2,Bc(e,t,a,n)}finally{ne.p=i,H.T=s}}function hb(e,t,a,n){var s=H.T;H.T=null;var i=ne.p;try{ne.p=8,Bc(e,t,a,n)}finally{ne.p=i,H.T=s}}function Bc(e,t,a,n){if(il){var s=ju(n);if(s===null)po(e,t,n,rl,a),wh(e,n);else if(mb(s,e,t,a,n))n.stopPropagation();else if(wh(e,n),t&4&&-1<fb.indexOf(e)){for(;s!==null;){var i=Ts(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=dn(i.pendingLanes);if(r!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var u=1<<31-wt(r);l.entanglements[1]|=u,r&=~u}ta(i),!(ae&6)&&(Zr=_t()+500,Hi(0))}}break;case 31:case 13:l=kn(i,2),l!==null&&ct(l,i,2),Ol(),qc(i,2)}if(i=ju(n),i===null&&po(e,t,n,rl,a),i===s)break;s=i}s!==null&&n.stopPropagation()}else po(e,t,n,null,a)}}function ju(e){return e=Fu(e),$c(e)}var rl=null;function $c(e){if(rl=null,e=Xn(e),e!==null){var t=Ri(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Ef(t),e!==null)return e;e=null}else if(a===31){if(e=Nf(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return rl=e,null}function rg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fy()){case Cf:return 2;case kf:return 8;case Ur:case Wy:return 32;case Rf:return 268435456;default:return 32}default:return 32}}var Eu=!1,Ka=null,Ja=null,Xa=null,Ei=new Map,Ni=new Map,Da=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wh(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(t.pointerId)}}function Vs(e,t,a,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ts(t),t!==null&&ig(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function mb(e,t,a,n,s){switch(t){case"focusin":return Ka=Vs(Ka,e,t,a,n,s),!0;case"dragenter":return Ja=Vs(Ja,e,t,a,n,s),!0;case"mouseover":return Xa=Vs(Xa,e,t,a,n,s),!0;case"pointerover":var i=s.pointerId;return Ei.set(i,Vs(Ei.get(i)||null,e,t,a,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ni.set(i,Vs(Ni.get(i)||null,e,t,a,n,s)),!0}return!1}function lg(e){var t=Xn(e.target);if(t!==null){var a=Ri(t);if(a!==null){if(t=a.tag,t===13){if(t=Ef(a),t!==null){e.blockedOn=t,rd(e.priority,function(){xh(a)});return}}else if(t===31){if(t=Nf(a),t!==null){e.blockedOn=t,rd(e.priority,function(){xh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ju(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Vo=n,a.target.dispatchEvent(n),Vo=null}else return t=Ts(a),t!==null&&ig(t),e.blockedOn=a,!1;t.shift()}return!0}function Sh(e,t,a){Cr(e)&&a.delete(t)}function gb(){Eu=!1,Ka!==null&&Cr(Ka)&&(Ka=null),Ja!==null&&Cr(Ja)&&(Ja=null),Xa!==null&&Cr(Xa)&&(Xa=null),Ei.forEach(Sh),Ni.forEach(Sh)}function sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Eu||(Eu=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,gb)))}var ir=null;function jh(e){ir!==e&&(ir=e,$e.unstable_scheduleCallback($e.unstable_NormalPriority,function(){ir===e&&(ir=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if($c(n||a)===null)continue;break}var i=Ts(a);i!==null&&(e.splice(t,3),t-=3,iu(i,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function Ss(e){function t(u){return sr(u,e)}Ka!==null&&sr(Ka,e),Ja!==null&&sr(Ja,e),Xa!==null&&sr(Xa,e),Ei.forEach(t),Ni.forEach(t);for(var a=0;a<Da.length;a++){var n=Da[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Da.length&&(a=Da[0],a.blockedOn===null);)lg(a),a.blockedOn===null&&Da.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],i=a[n+1],r=s[dt]||null;if(typeof i=="function")r||jh(a);else if(r){var l=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[dt]||null)l=r.formAction;else if($c(s)!==null)continue}else l=r.action;typeof l=="function"?a[n+1]=l:(a.splice(n,3),n-=3),jh(a)}}}function og(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Lc(e){this._internalRoot=e}Rl.prototype.render=Lc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));var a=t.current,n=St();sg(a,n,e,t,null,null)};Rl.prototype.unmount=Lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sg(e.current,2,null,e,null,null),Ol(),t[Ns]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Da.length&&t!==0&&t<Da[a].priority;a++);Da.splice(a,0,e),a===0&&lg(e)}};var Eh=Sf.version;if(Eh!=="19.2.0")throw Error(N(527,Eh,"19.2.0"));ne.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Yy(t),e=e!==null?Tf(e):null,e=e===null?null:e.stateNode,e};var yb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rr.isDisabled&&rr.supportsFiber)try{Di=rr.inject(yb),xt=rr}catch{}}gl.createRoot=function(e,t){if(!jf(e))throw Error(N(299));var a=!1,n="",s=Wm,i=e0,r=t0;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=ag(e,1,!1,null,null,a,n,null,s,i,r,og),e[Ns]=t.current,zc(e),new Lc(t)};gl.hydrateRoot=function(e,t,a){if(!jf(e))throw Error(N(299));var n=!1,s="",i=Wm,r=e0,l=t0,u=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(l=a.onRecoverableError),a.formState!==void 0&&(u=a.formState)),t=ag(e,1,!0,t,a??null,n,s,u,i,r,l,og),t.context=ng(null),a=t.current,n=St(),n=Xu(n),s=Ga(n),s.callback=null,Va(a,s,n),a=n,t.current.lanes=a,Ui(t,a),ta(t),e[Ns]=t.current,zc(e),new Rl(t)};gl.version="19.2.0";function ug(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ug)}catch(e){console.error(e)}}ug(),pf.exports=gl;var pb=pf.exports;const vb=rf(pb);var Nu=function(e,t){return Nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])},Nu(e,t)};function cg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nu(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var ll=function(){return ll=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},ll.apply(this,arguments)};function Ds(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]]);return a}function dg(e,t,a,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,a):n,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(s<3?r(i):s>3?r(t,a,i):r(t,a))||i);return s>3&&i&&Object.defineProperty(t,a,i),i}function hg(e,t){return function(a,n){t(a,n,e)}}function fg(e,t,a,n,s,i){function r(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var l=n.kind,u=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,h=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),y,f=!1,m=a.length-1;m>=0;m--){var b={};for(var _ in n)b[_]=_==="access"?{}:n[_];for(var _ in n.access)b.access[_]=n.access[_];b.addInitializer=function(p){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(r(p||null))};var x=(0,a[m])(l==="accessor"?{get:h.get,set:h.set}:h[u],b);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(y=r(x.get))&&(h.get=y),(y=r(x.set))&&(h.set=y),(y=r(x.init))&&s.unshift(y)}else(y=r(x))&&(l==="field"?s.unshift(y):h[u]=y)}c&&Object.defineProperty(c,n.name,h),f=!0}function mg(e,t,a){for(var n=arguments.length>2,s=0;s<t.length;s++)a=n?t[s].call(e,a):t[s].call(e);return n?a:void 0}function gg(e){return typeof e=="symbol"?e:"".concat(e)}function yg(e,t,a){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:a?"".concat(a," ",t):t})}function pg(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function q(e,t,a,n){function s(i){return i instanceof a?i:new a(function(r){r(i)})}return new(a||(a=Promise))(function(i,r){function l(h){try{c(n.next(h))}catch(y){r(y)}}function u(h){try{c(n.throw(h))}catch(y){r(y)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((n=n.apply(e,t||[])).next())})}function vg(e,t){var a={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(c){return function(h){return u([c,h])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(a=0)),a;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,s=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){a=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(c[0]===6&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(h){c=[6,h],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Dl=Object.create?function(e,t,a,n){n===void 0&&(n=a);var s=Object.getOwnPropertyDescriptor(t,a);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,s)}:function(e,t,a,n){n===void 0&&(n=a),e[n]=t[a]};function bg(e,t){for(var a in e)a!=="default"&&!Object.prototype.hasOwnProperty.call(t,a)&&Dl(t,e,a)}function ol(e){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&e[t],n=0;if(a)return a.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hc(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var n=a.call(e),s,i=[],r;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){r={error:l}}finally{try{s&&!s.done&&(a=n.return)&&a.call(n)}finally{if(r)throw r.error}}return i}function _g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hc(arguments[t]));return e}function xg(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<a;t++)for(var i=arguments[t],r=0,l=i.length;r<l;r++,s++)n[s]=i[r];return n}function wg(e,t,a){if(a||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function js(e){return this instanceof js?(this.v=e,this):new js(e)}function Sg(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(m){return function(b){return Promise.resolve(b).then(m,y)}}function l(m,b){n[m]&&(s[m]=function(_){return new Promise(function(x,p){i.push([m,_,x,p])>1||u(m,_)})},b&&(s[m]=b(s[m])))}function u(m,b){try{c(n[m](b))}catch(_){f(i[0][3],_)}}function c(m){m.value instanceof js?Promise.resolve(m.value.v).then(h,y):f(i[0][2],m)}function h(m){u("next",m)}function y(m){u("throw",m)}function f(m,b){m(b),i.shift(),i.length&&u(i[0][0],i[0][1])}}function jg(e){var t,a;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(r){return(a=!a)?{value:js(e[s](r)),done:!1}:i?i(r):r}:i}}function Eg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],a;return t?t.call(e):(e=typeof ol=="function"?ol(e):e[Symbol.iterator](),a={},n("next"),n("throw"),n("return"),a[Symbol.asyncIterator]=function(){return this},a);function n(i){a[i]=e[i]&&function(r){return new Promise(function(l,u){r=e[i](r),s(l,u,r.done,r.value)})}}function s(i,r,l,u){Promise.resolve(u).then(function(c){i({value:c,done:l})},r)}}function Ng(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var bb=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Tu=function(e){return Tu=Object.getOwnPropertyNames||function(t){var a=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[a.length]=n);return a},Tu(e)};function Tg(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var a=Tu(e),n=0;n<a.length;n++)a[n]!=="default"&&Dl(t,e,a[n]);return bb(t,e),t}function Ag(e){return e&&e.__esModule?e:{default:e}}function Og(e,t,a,n){if(a==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?n:a==="a"?n.call(e):n?n.value:t.get(e)}function Cg(e,t,a,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,a):s?s.value=a:t.set(e,a),a}function kg(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Rg(e,t,a){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],a&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:a})}else a&&e.stack.push({async:!0});return t}var _b=typeof SuppressedError=="function"?SuppressedError:function(e,t,a){var n=new Error(a);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Dg(e){function t(i){e.error=e.hasError?new _b(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var a,n=0;function s(){for(;a=e.stack.pop();)try{if(!a.async&&n===1)return n=0,e.stack.push(a),Promise.resolve().then(s);if(a.dispose){var i=a.dispose.call(a.value);if(a.async)return n|=2,Promise.resolve(i).then(s,function(r){return t(r),s()})}else n|=1}catch(r){t(r)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function zg(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,n,s,i,r){return n?t?".jsx":".js":s&&(!i||!r)?a:s+i+"."+r.toLowerCase()+"js"}):e}const xb={__extends:cg,__assign:ll,__rest:Ds,__decorate:dg,__param:hg,__esDecorate:fg,__runInitializers:mg,__propKey:gg,__setFunctionName:yg,__metadata:pg,__awaiter:q,__generator:vg,__createBinding:Dl,__exportStar:bg,__values:ol,__read:Hc,__spread:_g,__spreadArrays:xg,__spreadArray:wg,__await:js,__asyncGenerator:Sg,__asyncDelegator:jg,__asyncValues:Eg,__makeTemplateObject:Ng,__importStar:Tg,__importDefault:Ag,__classPrivateFieldGet:Og,__classPrivateFieldSet:Cg,__classPrivateFieldIn:kg,__addDisposableResource:Rg,__disposeResources:Dg,__rewriteRelativeImportExtension:zg},wb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Rg,get __assign(){return ll},__asyncDelegator:jg,__asyncGenerator:Sg,__asyncValues:Eg,__await:js,__awaiter:q,__classPrivateFieldGet:Og,__classPrivateFieldIn:kg,__classPrivateFieldSet:Cg,__createBinding:Dl,__decorate:dg,__disposeResources:Dg,__esDecorate:fg,__exportStar:bg,__extends:cg,__generator:vg,__importDefault:Ag,__importStar:Tg,__makeTemplateObject:Ng,__metadata:pg,__param:hg,__propKey:gg,__read:Hc,__rest:Ds,__rewriteRelativeImportExtension:zg,__runInitializers:mg,__setFunctionName:yg,__spread:_g,__spreadArray:wg,__spreadArrays:xg,__values:ol,default:xb},Symbol.toStringTag,{value:"Module"})),Sb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Gc extends Error{constructor(t,a="FunctionsError",n){super(t),this.name=a,this.context=n}}class Nh extends Gc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Th extends Gc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ah extends Gc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Au;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Au||(Au={}));class jb{constructor(t,{headers:a={},customFetch:n,region:s=Au.Any}={}){this.url=t,this.headers=a,this.region=s,this.fetch=Sb(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return q(this,arguments,void 0,function*(a,n={}){var s;try{const{headers:i,method:r,body:l,signal:u}=n;let c={},{region:h}=n;h||(h=this.region);const y=new URL(`${this.url}/${a}`);h&&h!=="any"&&(c["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let f;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(c["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(c["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const m=yield this.fetch(y.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f,signal:u}).catch(p=>{throw p.name==="AbortError"?p:new Nh(p)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new Th(m);if(!m.ok)throw new Ah(m);let _=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return _==="application/json"?x=yield m.json():_==="application/octet-stream"||_==="application/pdf"?x=yield m.blob():_==="text/event-stream"?x=m:_==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Nh(i)}:{data:null,error:i,response:i instanceof Ah||i instanceof Th?i.context:void 0}}})}}var et={};const zs=_y(wb);var lr={},or={},ur={},cr={},dr={},hr={},Oh;function Ug(){if(Oh)return hr;Oh=1,Object.defineProperty(hr,"__esModule",{value:!0});class e extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return hr.default=e,hr}var Ch;function Mg(){if(Ch)return dr;Ch=1,Object.defineProperty(dr,"__esModule",{value:!0});const t=zs.__importDefault(Ug());class a{constructor(s){var i,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let l=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,y,f;let m=null,b=null,_=null,x=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const j=await u.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?b=j:b=JSON.parse(j))}const g=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),v=(y=u.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");g&&v&&v.length>1&&(_=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(m={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,_=null,x=406,p="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const g=await u.text();try{m=JSON.parse(g),Array.isArray(m)&&u.status===404&&(b=[],m=null,x=200,p="OK")}catch{u.status===404&&g===""?(x=204,p="No Content"):m={message:g}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,x=200,p="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:b,count:_,status:x,statusText:p}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,y;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(y=u==null?void 0:u.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return dr.default=a,dr}var kh;function qg(){if(kh)return cr;kh=1,Object.defineProperty(cr,"__esModule",{value:!0});const t=zs.__importDefault(Mg());class a extends t.default{select(s){let i=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:r,foreignTable:l,referencedTable:u=l}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${s}.${i?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:r=i}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:r,referencedTable:l=r}={}){const u=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:r=!1,buffers:l=!1,wal:u=!1,format:c="text"}={}){var h;const y=[s?"analyze":null,i?"verbose":null,r?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),f=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${y};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return cr.default=a,cr}var Rh;function Vc(){if(Rh)return ur;Rh=1,Object.defineProperty(ur,"__esModule",{value:!0});const t=zs.__importDefault(qg()),a=new RegExp("[,()]");class n extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const l=Array.from(new Set(r)).map(u=>typeof u=="string"&&a.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${h}.${r}`),this}match(i){return Object.entries(i).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(i,r,l){return this.url.searchParams.append(i,`not.${r}.${l}`),this}or(i,{foreignTable:r,referencedTable:l=r}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,r,l){return this.url.searchParams.append(i,`${r}.${l}`),this}}return ur.default=n,ur}var Dh;function Bg(){if(Dh)return or;Dh=1,Object.defineProperty(or,"__esModule",{value:!0});const t=zs.__importDefault(Vc());class a{constructor(s,{headers:i={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=r,this.fetch=l}select(s,i){const{head:r=!1,count:l}=i??{},u=r?"HEAD":"GET";let c=!1;const h=(s??"*").split("").map(y=>/\s/.test(y)&&!c?"":(y==='"'&&(c=!c),y)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:r=!0}={}){var l;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((h,y)=>h.concat(Object.keys(y)),[]);if(c.length>0){const h=[...new Set(c)].map(y=>`"${y}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:r=!1,count:l,defaultToNull:u=!0}={}){var c;const h="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(y.length>0){const f=[...new Set(y)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var r;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var i;const r="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return or.default=a,or}var zh;function Eb(){if(zh)return lr;zh=1,Object.defineProperty(lr,"__esModule",{value:!0});const e=zs,t=e.__importDefault(Bg()),a=e.__importDefault(Vc());class n{constructor(i,{headers:r={},schema:l,fetch:u}={}){this.url=i,this.headers=new Headers(r),this.schemaName=l,this.fetch=u}from(i){const r=new URL(`${this.url}/${i}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,r={},{head:l=!1,get:u=!1,count:c}={}){var h;let y;const f=new URL(`${this.url}/rpc/${i}`);let m;l||u?(y=l?"HEAD":"GET",Object.entries(r).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{f.searchParams.append(_,x)})):(y="POST",m=r);const b=new Headers(this.headers);return c&&b.set("Prefer",`count=${c}`),new a.default({method:y,url:f,headers:b,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return lr.default=n,lr}Object.defineProperty(et,"__esModule",{value:!0});var $g=et.PostgrestError=Zg=et.PostgrestBuilder=Jg=et.PostgrestTransformBuilder=Yg=et.PostgrestFilterBuilder=Vg=et.PostgrestQueryBuilder=Hg=et.PostgrestClient=void 0;const Us=zs,Lg=Us.__importDefault(Eb());var Hg=et.PostgrestClient=Lg.default;const Gg=Us.__importDefault(Bg());var Vg=et.PostgrestQueryBuilder=Gg.default;const Qg=Us.__importDefault(Vc());var Yg=et.PostgrestFilterBuilder=Qg.default;const Kg=Us.__importDefault(qg());var Jg=et.PostgrestTransformBuilder=Kg.default;const Xg=Us.__importDefault(Mg());var Zg=et.PostgrestBuilder=Xg.default;const Pg=Us.__importDefault(Ug());$g=et.PostgrestError=Pg.default;var Ig=et.default={PostgrestClient:Lg.default,PostgrestQueryBuilder:Gg.default,PostgrestFilterBuilder:Qg.default,PostgrestTransformBuilder:Kg.default,PostgrestBuilder:Xg.default,PostgrestError:Pg.default};const Nb=by({__proto__:null,get PostgrestBuilder(){return Zg},get PostgrestClient(){return Hg},get PostgrestError(){return $g},get PostgrestFilterBuilder(){return Yg},get PostgrestQueryBuilder(){return Vg},get PostgrestTransformBuilder(){return Jg},default:Ig},[et]),{PostgrestClient:Tb,PostgrestQueryBuilder:yw,PostgrestFilterBuilder:pw,PostgrestTransformBuilder:vw,PostgrestBuilder:bw,PostgrestError:_w}=Ig||Nb;class Ab{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const n=a.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const n=this.getWebSocketConstructor();return new n(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ob="2.80.0",Cb=`realtime-js/${Ob}`,kb="1.0.0",Ou=1e4,Rb=1e3,Db=100;var ci;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ci||(ci={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var Xt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xt||(Xt={}));var Cu;(function(e){e.websocket="websocket"})(Cu||(Cu={}));var gn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gn||(gn={}));class zb{constructor(){this.HEADER_LENGTH=1}decode(t,a){return t.constructor===ArrayBuffer?a(this._binaryDecode(t)):a(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const a=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,a,n)}_decodeBroadcast(t,a,n){const s=a.getUint8(1),i=a.getUint8(2);let r=this.HEADER_LENGTH+2;const l=n.decode(t.slice(r,r+s));r=r+s;const u=n.decode(t.slice(r,r+i));r=r+i;const c=JSON.parse(n.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}let Fg=class{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const Uh=(e,t,a={})=>{var n;const s=(n=a.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,r)=>(i[r]=Ub(r,e,t,s),i),{}):{}},Ub=(e,t,a,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,r=a[e];return i&&!n.includes(i)?Wg(i,r):ku(r)},Wg=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return $b(t,a)}switch(e){case de.bool:return Mb(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return qb(t);case de.json:case de.jsonb:return Bb(t);case de.timestamp:return Lb(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return ku(t);default:return ku(t)}},ku=e=>e,Mb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Bb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$b=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,n=e[a];if(e[0]==="{"&&n==="}"){let i;const r=e.slice(1,a);try{i=JSON.parse("["+r+"]")}catch{i=r?r.split(","):[]}return i.map(l=>Wg(t,l))}return e},Lb=e=>typeof e=="string"?e.replace(" ","T"):e,ey=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _o{constructor(t,a,n={},s=Ou){this.channel=t,this.event=a,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var n;return this._hasReceived(t)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mh||(Mh={}));class di{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,s,i,r),this.pendingDiffs.forEach(u=>{this.state=di.syncDiff(this.state,u,i,r)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=di.syncDiff(this.state,s,i,r),l())}),this.onJoin((s,i,r)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:r})}),this.onLeave((s,i,r)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,n,s){const i=this.cloneDeep(t),r=this.transformState(a),l={},u={};return this.map(i,(c,h)=>{r[c]||(u[c]=h)}),this.map(r,(c,h)=>{const y=i[c];if(y){const f=h.map(x=>x.presence_ref),m=y.map(x=>x.presence_ref),b=h.filter(x=>m.indexOf(x.presence_ref)<0),_=y.filter(x=>f.indexOf(x.presence_ref)<0);b.length>0&&(l[c]=b),_.length>0&&(u[c]=_)}else l[c]=h}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,a,n,s){const{joins:i,leaves:r}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const h=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),h.length>0){const y=t[l].map(m=>m.presence_ref),f=h.filter(m=>y.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,h,u)}),this.map(r,(l,u)=>{let c=t[l];if(!c)return;const h=u.map(y=>y.presence_ref);c=c.filter(y=>h.indexOf(y.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(n=>a(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,n)=>{const s=t[n];return"metas"in s?a[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):a[n]=s,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qh||(qh={}));var hi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hi||(hi={}));var oa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oa||(oa={}));class Qc{constructor(t,a={config:{}},n){var s,i;if(this.topic=t,this.params=a,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new _o(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new Fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new di(this),this.broadcastEndpointURL=ey(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:r,presence:l,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[hi.PRESENCE]&&this.bindings[hi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,y={},f={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(oa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(oa.CLOSED)),this.updateJoinPayload(Object.assign({config:f},y)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){t==null||t(oa.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(b=_==null?void 0:_.length)!==null&&b!==void 0?b:0,p=[];for(let d=0;d<x;d++){const g=_[d],{filter:{event:v,schema:j,table:S,filter:E}}=g,R=m&&m[d];if(R&&R.event===v&&R.schema===j&&R.table===S&&R.filter===E)p.push(Object.assign(Object.assign({},g),{id:R.id}));else{this.unsubscribe(),this.state=qe.errored,t==null||t(oa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(oa.SUBSCRIBED);return}}).receive("error",m=>{this.state=qe.errored,t==null||t(oa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(oa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,n){return this.state===qe.joined&&t===hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,a,n)}async httpSend(t,a,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(a==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,a={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:r}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var r,l,u;const c=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new _o(this,Xt.leave,{},t),n.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(t,a,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),r=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:s.signal}));return clearTimeout(i),r}_push(t,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _o(this,t,a,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Db){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,n){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,n){var s,i;const r=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:h}=Xt;if(n&&[l,u,c,h].indexOf(r)>=0&&n!==this._joinRef())return;let f=this._onMessage(r,a,n);if(a&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,_,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(_=m.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===r}).map(m=>m.callback(f,n)):(i=this.bindings[r])===null||i===void 0||i.filter(m=>{var b,_,x,p,d,g;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const v=m.id,j=(b=m.filter)===null||b===void 0?void 0:b.event;return v&&((_=a.ids)===null||_===void 0?void 0:_.includes(v))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=a.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const v=(d=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||d===void 0?void 0:d.toLocaleLowerCase();return v==="*"||v===((g=a==null?void 0:a.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:_,table:x,commit_timestamp:p,type:d,errors:g}=b;f=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:p,eventType:d,new:{},old:{},errors:g}),this._getPayloadRecords(b))}m.callback(f,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,n){const s=t.toLocaleLowerCase(),i={type:s,filter:a,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,a){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Qc.isEqual(s.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const n in t)if(t[n]!==a[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xt.close,{},t)}_onError(t){this._on(Xt.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Uh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Uh(t.columns,t.old_record)),a}}const xo=()=>{},fr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hb=[1e3,2e3,5e3,1e4],Gb=1e4,Vb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qb{constructor(t,a){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ou,this.transport=null,this.heartbeatIntervalMs=fr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xo,this.ref=0,this.reconnectTimer=null,this.logger=xo,this.conn=null,this.sendBuffer=[],this.serializer=new zb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=a==null?void 0:a.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Cu.websocket}`,this.httpEndpoint=ey(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ab.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kb}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,n){this.logger(t,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ci.connecting:return gn.Connecting;case ci.open:return gn.Open;case ci.closing:return gn.Closing;default:return gn.Closed}}isConnected(){return this.connectionState()===gn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Qc(`realtime:${t}`,a,this);return this.channels.push(i),i}}push(t){const{topic:a,event:n,payload:s,ref:i}=t,r=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${a} ${n} (${i})`,s),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Rb,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},fr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:r}=a,l=r?`(${r})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,r)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xt.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(a);return`${t}${n}${s}`}_workerObjectUrl(t){let a;if(t)a=t;else{const n=new Blob([Vb],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a;t?a=t:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(n=>{const s={access_token:a,version:Cb};a&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Xt.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(a)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Fg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,n,s,i,r,l,u,c,h;if(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ou,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:fr.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:xo,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>Hb[y-1]||Gb,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(y,f)=>f(JSON.stringify(y)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Yc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Yb extends Yc{constructor(t,a,n){super(t),this.name="StorageApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ru extends Yc{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}const Kc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Kb=()=>Response,Du=e=>{if(Array.isArray(e))return e.map(a=>Du(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,n])=>{const s=a.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Du(n)}),t},Jb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wo=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Xb=(e,t,a)=>q(void 0,void 0,void 0,function*(){const n=yield Kb();e instanceof n&&!(a!=null&&a.noResolveJson)?e.json().then(s=>{const i=e.status||500,r=(s==null?void 0:s.statusCode)||i+"";t(new Yb(wo(s),i,r))}).catch(s=>{t(new Ru(wo(s),s))}):t(new Ru(wo(e),e))}),Zb=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Jb(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),a))};function Qi(e,t,a,n,s,i){return q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(a,Zb(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>r(u)).catch(u=>Xb(u,l,n))})})}function Ti(e,t,a,n){return q(this,void 0,void 0,function*(){return Qi(e,"GET",t,a,n)})}function Kt(e,t,a,n,s){return q(this,void 0,void 0,function*(){return Qi(e,"POST",t,n,s,a)})}function zu(e,t,a,n,s){return q(this,void 0,void 0,function*(){return Qi(e,"PUT",t,n,s,a)})}function Pb(e,t,a,n){return q(this,void 0,void 0,function*(){return Qi(e,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),n)})}function Jc(e,t,a,n,s){return q(this,void 0,void 0,function*(){return Qi(e,"DELETE",t,n,s,a)})}class Ib{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a}then(t,a){return this.execute().then(t,a)}execute(){return q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Se(t))return{data:null,error:t};throw t}})}}var ty;class Fb{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a,this[ty]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ib(this.downloadFn,this.shouldThrowOnError)}then(t,a){return this.getPromise().then(t,a)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Se(t))return{data:null,error:t};throw t}})}}ty=Symbol.toStringTag;const Wb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e_{constructor(t,a={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=a,this.bucketId=n,this.fetch=Kc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,a,n,s){return q(this,void 0,void 0,function*(){try{let i;const r=Object.assign(Object.assign({},Bh),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const u=r.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",r.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",r.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!r.duplex&&(r.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(a),h=this._getFinalPath(c),y=yield(t=="PUT"?zu:Kt)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:c,id:y.Id,fullPath:y.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}upload(t,a,n){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,n)})}uploadToSignedUrl(t,a,n,s){return q(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),r=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",a);try{let u;const c=Object.assign({upsert:Bh.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const y=yield zu(this.fetch,l.toString(),u,{headers:h});return{data:{path:i,fullPath:y.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Se(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,a){return q(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);a!=null&&a.upsert&&(s["x-upsert"]="true");const i=yield Kt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),r=new URL(this.url+i.url),l=r.searchParams.get("token");if(!l)throw new Yc("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}update(t,a,n){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,n)})}move(t,a,n){return q(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}copy(t,a,n){return q(this,void 0,void 0,function*(){try{return{data:{path:(yield Kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}createSignedUrl(t,a,n){return q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Kt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:a},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${r}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}createSignedUrls(t,a,n){return q(this,void 0,void 0,function*(){try{const s=yield Kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}download(t,a){const s=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),r=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>Ti(this.fetch,`${this.url}/${s}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new Fb(u,this.shouldThrowOnError)}info(t){return q(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const n=yield Ti(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Du(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}exists(t){return q(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield Pb(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n)&&n instanceof Ru){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,a){const n=this._getFinalPath(t),s=[],i=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";i!==""&&s.push(i);const l=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return q(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}list(t,a,n){return q(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Wb),a),{prefix:t||""});return{data:yield Kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}listV2(t,a){return q(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Kt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const ay="2.80.0",ny={"X-Client-Info":`storage-js/${ay}`};class t_{constructor(t,a={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ny),a),this.fetch=Kc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return q(this,void 0,void 0,function*(){try{const a=this.listBucketOptionsToQueryString(t);return{data:yield Ti(this.fetch,`${this.url}/bucket${a}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}getBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}createBucket(t){return q(this,arguments,void 0,function*(a,n={public:!1}){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}updateBucket(t,a){return q(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}emptyBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}deleteBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}listBucketOptionsToQueryString(t){const a={};return t&&("limit"in t&&(a.limit=String(t.limit)),"offset"in t&&(a.offset=String(t.offset)),t.search&&(a.search=t.search),t.sortColumn&&(a.sortColumn=t.sortColumn),t.sortOrder&&(a.sortOrder=t.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}}class a_{constructor(t,a={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ny),a),this.fetch=Kc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}listBuckets(t){return q(this,void 0,void 0,function*(){try{const a=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&a.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&a.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&a.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&a.set("sortOrder",t.sortOrder),t!=null&&t.search&&a.set("search",t.search);const n=a.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ti(this.fetch,s,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}deleteBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}}const Xc={"X-Client-Info":`storage-js/${ay}`,"Content-Type":"application/json"};class sy extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class So extends sy{constructor(t,a,n){super(t),this.name="StorageVectorsApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class n_ extends sy{constructor(t,a){super(t),this.name="StorageVectorsUnknownError",this.originalError=a}}var $h;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})($h||($h={}));const Zc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i_=(e,t,a)=>q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(a!=null&&a.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||s+"";t(new So(Lh(r),s,l))}).catch(()=>{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new So(l,s,r))});else{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new So(l,s,r))}}else t(new n_(Lh(e),e))}),r_=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(s_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),a)):s};function l_(e,t,a,n,s,i){return q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(a,r_(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>r(u)).catch(u=>i_(u,l,n))})})}function vt(e,t,a,n,s){return q(this,void 0,void 0,function*(){return l_(e,"POST",t,n,s,a)})}class o_{constructor(t,a={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),a),this.fetch=Zc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return q(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}getIndex(t,a){return q(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}listIndexes(t){return q(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}deleteIndex(t,a){return q(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}}class u_{constructor(t,a={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),a),this.fetch=Zc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield vt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}getVectors(t){return q(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}listVectors(t){return q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield vt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}queryVectors(t){return q(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}deleteVectors(t){return q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield vt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}}class c_{constructor(t,a={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),a),this.fetch=Zc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return q(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}getBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}listBuckets(){return q(this,arguments,void 0,function*(t={}){try{return{data:yield vt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}deleteBucket(t){return q(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}}class d_ extends c_{constructor(t,a={}){super(t,a.headers||{},a.fetch)}from(t){return new h_(this.url,this.headers,t,this.fetch)}}class h_ extends o_{constructor(t,a,n,s){super(t,a,s),this.vectorBucketName=n}createIndex(t){const a=Object.create(null,{createIndex:{get:()=>super.createIndex}});return q(this,void 0,void 0,function*(){return a.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return q(this,arguments,void 0,function*(a={}){return t.listIndexes.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const a=Object.create(null,{getIndex:{get:()=>super.getIndex}});return q(this,void 0,void 0,function*(){return a.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const a=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return q(this,void 0,void 0,function*(){return a.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new f_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class f_ extends u_{constructor(t,a,n,s,i){super(t,a,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const a=Object.create(null,{putVectors:{get:()=>super.putVectors}});return q(this,void 0,void 0,function*(){return a.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const a=Object.create(null,{getVectors:{get:()=>super.getVectors}});return q(this,void 0,void 0,function*(){return a.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return q(this,arguments,void 0,function*(a={}){return t.listVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const a=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return q(this,void 0,void 0,function*(){return a.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const a=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return q(this,void 0,void 0,function*(){return a.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class m_ extends t_{constructor(t,a={},n,s){super(t,a,n,s)}from(t){return new e_(this.url,this.headers,t,this.fetch)}get vectors(){return new d_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new a_(this.url+"/iceberg",this.headers,this.fetch)}}const g_="2.80.0";let Zs="";typeof Deno<"u"?Zs="deno":typeof document<"u"?Zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zs="react-native":Zs="node";const y_={"X-Client-Info":`supabase-js-${Zs}/${g_}`},p_={headers:y_},v_={schema:"public"},b_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},__={},x_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),w_=()=>Headers,S_=(e,t,a)=>{const n=x_(a),s=w_();return async(i,r)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let c=new s(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},r),{headers:c}))}};function j_(e){return e.endsWith("/")?e:e+"/"}function E_(e,t){var a,n;const{db:s,auth:i,realtime:r,global:l}=e,{db:u,auth:c,realtime:h,global:y}=t,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),r),storage:{},global:Object.assign(Object.assign(Object.assign({},y),l),{headers:Object.assign(Object.assign({},(a=y==null?void 0:y.headers)!==null&&a!==void 0?a:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function N_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(j_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const iy="2.80.0",Qn=30*1e3,Uu=3,jo=Uu*Qn,T_="http://localhost:9999",A_="supabase.auth.token",O_={"X-Client-Info":`gotrue-js/${iy}`},Mu="X-Supabase-Api-Version",ry={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,k_=10*60*1e3;class Ai extends Error{constructor(t,a,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class R_ extends Ai{constructor(t,a,n){super(t,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function D_(e){return B(e)&&e.name==="AuthApiError"}class yn extends Ai{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class tn extends Ai{constructor(t,a,n,s){super(t,n,s),this.name=a,this.status=n}}class Qt extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z_(e){return B(e)&&e.name==="AuthSessionMissingError"}class Mn extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mr extends tn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gr extends tn{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U_(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hh extends tn{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qu extends tn{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Eo(e){return B(e)&&e.name==="AuthRetryableFetchError"}class Gh extends tn{constructor(t,a,n){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}class Bu extends tn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vh=` 	
\r=`.split(""),M_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vh.length;t+=1)e[Vh[t].charCodeAt(0)]=-2;for(let t=0;t<ul.length;t+=1)e[ul[t].charCodeAt(0)]=t;return e})();function Qh(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(ul[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(ul[n]),t.queuedBits-=6}}function ly(e,t,a){const n=M_[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yh(e){const t=[],a=r=>{t.push(String.fromCodePoint(r))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=r=>{$_(r,n,a)};for(let r=0;r<e.length;r+=1)ly(e.charCodeAt(r),s,i);return t.join("")}function q_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function B_(e,t){for(let a=0;a<e.length;a+=1){let n=e.charCodeAt(a);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(a+1)-56320&65535|s)+65536,a+=1}q_(n,t)}}function $_(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function hs(e){const t=[],a={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)ly(e.charCodeAt(s),a,n);return new Uint8Array(t)}function L_(e){const t=[];return B_(e,a=>t.push(a)),new Uint8Array(t)}function pn(e){const t=[],a={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Qh(s,a,n)),Qh(null,a,n),t.join("")}function H_(e){return Math.round(Date.now()/1e3)+e}function G_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ie=()=>typeof window<"u"&&typeof document<"u",on={tested:!1,writable:!1},oy=()=>{if(!Ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(on.tested)return on.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),on.tested=!0,on.writable=!0}catch{on.tested=!0,on.writable=!1}return on.writable};function V_(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return a.searchParams.forEach((n,s)=>{t[s]=n}),t}const uy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Q_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yn=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},un=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Ta=async(e,t)=>{await e.removeItem(t)};class zl{constructor(){this.promise=new zl.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}zl.promiseConstructor=Promise;function No(e){const t=e.split(".");if(t.length!==3)throw new Bu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!C_.test(t[n]))throw new Bu("JWT not in base64url format");return{header:JSON.parse(Yh(t[0])),payload:JSON.parse(Yh(t[1])),signature:hs(t[2]),raw:{header:t[0],payload:t[1]}}}async function Y_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function K_(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const r=await e(i);if(!t(i,null,r)){n(r);return}}catch(r){if(!t(i,r)){s(r);return}}})()})}function J_(e){return("0"+e.toString(16)).substr(-2)}function X_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let s="";for(let i=0;i<56;i++)s+=a.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,J_).join("")}async function Z_(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function P_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await Z_(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qn(e,t,a=!1){const n=X_();let s=n;a&&(s+="/PASSWORD_RECOVERY"),await Yn(e,`${t}-code-verifier`,s);const i=await P_(n);return[i,n===i?"plain":"s256"]}const I_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F_(e){const t=e.headers.get(Mu);if(!t||!t.match(I_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ex(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bn(e){if(!tx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function To(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ax(e,t){return new Proxy(e,{get:(a,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,n,s)}})}function Kh(e){return JSON.parse(JSON.stringify(e))}const mn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nx=[502,503,504];async function Jh(e){var t;if(!Q_(e))throw new qu(mn(e),0);if(nx.includes(e.status))throw new qu(mn(e),e.status);let a;try{a=await e.json()}catch(i){throw new yn(mn(i),i)}let n;const s=F_(e);if(s&&s.getTime()>=ry["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new Gh(mn(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Qt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0))throw new Gh(mn(a),e.status,a.weak_password.reasons);throw new R_(mn(a),e.status||500,n)}const sx=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),a))};async function L(e,t,a,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Mu]||(i[Mu]=ry["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const r=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(r.redirect_to=n.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",u=await ix(e,t,a+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function ix(e,t,a,n,s,i){const r=sx(t,n,s,i);let l;try{l=await e(a,Object.assign({},r))}catch(u){throw console.error(u),new qu(mn(u),0)}if(l.ok||await Jh(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Jh(u)}}function Yt(e){var t;let a=null;ox(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=H_(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:n},error:null}}function Xh(e){const t=Yt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function za(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rx(e){return{data:e,error:null}}function lx(e){const{action_link:t,email_otp:a,hashed_token:n,redirect_to:s,verification_type:i}=e,r=Ds(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:a,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},r);return{data:{properties:l,user:u},error:null}}function Zh(e){return e}function ox(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ao=["global","local","others"];class ux{constructor({url:t="",headers:a={},fetch:n}){this.url=t,this.headers=a,this.fetch=uy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=Ao[0]){if(Ao.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ao.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,a={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:za})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:a}=t,n=Ds(t,["options"]),s=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lx,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(B(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:za})}catch(a){if(B(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,n,s,i,r,l,u;try{const c={nextPage:null,lastPage:0,total:0},h=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zh});if(h.error)throw h.error;const y=await h.json(),f=(r=h.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},y),c),error:null}}catch(c){if(B(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Bn(t);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:za})}catch(a){if(B(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Bn(t);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:za})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,a=!1){Bn(t);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:za})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Bn(t.userId);try{const{data:a,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:a,error:n}}catch(a){if(B(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Bn(t.userId),Bn(t.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(B(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,n,s,i,r,l,u;try{const c={nextPage:null,lastPage:0,total:0},h=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zh});if(h.error)throw h.error;const y=await h.json(),f=(r=h.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},y),c),error:null}}catch(c){if(B(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(B(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(B(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(B(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(B(a))return{data:null,error:a};throw a}}}function Ph(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}const $n={debug:!!(globalThis&&oy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cx extends cy{}async function dx(e,t,a){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),$n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await a()}finally{$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw $n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($n.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function hx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fx(e){return parseInt(e,16)}function mx(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function gx(e){var t;const{chainId:a,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:r,notBefore:l,requestId:u,resources:c,scheme:h,uri:y,version:f}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=dy(e.address),b=h?`${h}://${n}`:n,_=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${_}`;let p=`URI: ${y}
Version: ${f}
Chain ID: ${a}${r?`
Nonce: ${r}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),u&&(p+=`
Request ID: ${u}`),c){let d=`
Resources:`;for(const g of c){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);d+=`
- ${g}`}p+=d}return`${x}
${p}`}class ke extends Error{constructor({message:t,code:a,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=a}}class cl extends ke{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function yx({error:e,options:t}){var a,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(hy(r)){if(i.rp.id!==r)return new ke({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function px({error:e,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(hy(n)){if(a.rpId!==n)return new ke({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class vx{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const bx=new vx;function _x(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:a,excludeCredentials:n}=e,s=Ds(e,["challenge","user","excludeCredentials"]),i=hs(t).buffer,r=Object.assign(Object.assign({},a),{id:hs(a.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:r});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:hs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function xx(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:a}=e,n=Ds(e,["challenge","allowCredentials"]),s=hs(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(a&&a.length>0){i.allowCredentials=new Array(a.length);for(let r=0;r<a.length;r++){const l=a[r];i.allowCredentials[r]=Object.assign(Object.assign({},l),{id:hs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function wx(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:pn(new Uint8Array(e.response.attestationObject)),clientDataJSON:pn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Sx(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:pn(new Uint8Array(s.authenticatorData)),clientDataJSON:pn(new Uint8Array(s.clientDataJSON)),signature:pn(new Uint8Array(s.signature)),userHandle:s.userHandle?pn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ih(){var e,t;return!!(Ie()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function jx(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",t)}:{data:null,error:new cl("Empty credential response",t)}}catch(t){return{data:null,error:yx({error:t,options:e})}}}async function Ex(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",t)}:{data:null,error:new cl("Empty credential response",t)}}catch(t){return{data:null,error:px({error:t,options:e})}}}const Nx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Tx={userVerification:"preferred",hints:["security-key"]};function dl(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),a=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const r=s[i];if(r!==void 0)if(Array.isArray(r))n[i]=r;else if(a(r))n[i]=r;else if(t(r)){const l=n[i];t(l)?n[i]=dl(l,r):n[i]=dl(r)}else n[i]=r}return n}function Ax(e,t){return dl(Nx,e,t||{})}function Ox(e,t){return dl(Tx,e,t||{})}class Cx{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:n,signal:s},i){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!r)return{data:null,error:l};const u=s??bx.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:c}=r.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(r.webauthn.type){case"create":{const c=Ax(r.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:y}=await jx({publicKey:c,signal:u});return h?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:h}},error:null}:{data:null,error:y}}case"request":{const c=Ox(r.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:y}=await Ex(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:h}},error:null}:{data:null,error:y}}}}catch(r){return B(r)?{data:null,error:r}:{data:null,error:new yn("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:a,webauthn:n}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!a)return{data:null,error:new Ai("rpId is required for WebAuthn authentication")};try{if(!Ih())return{data:null,error:new yn("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:n},signal:s},{request:i});if(!r)return{data:null,error:l};const{webauthn:u}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:u.type,rpId:a,rpOrigins:n,credential_response:u.credential_response}})}catch(r){return B(r)?{data:null,error:r}:{data:null,error:new yn("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!a)return{data:null,error:new Ai("rpId is required for WebAuthn registration")};try{if(!Ih())return{data:null,error:new yn("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(h=>{var y;return(y=h.data)===null||y===void 0?void 0:y.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:a,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:r.id,challengeId:u.challengeId,webauthn:{rpId:a,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(r){return B(r)?{data:null,error:r}:{data:null,error:new yn("Unexpected error in register",r)}}}}hx();const kx={url:T_,storageKey:A_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fh(e,t,a){return await a()}const Ln={};class Oi{get jwks(){var t,a;return(a=(t=Ln[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Ln[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:t})}constructor(t){var a,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},kx),t);if(this.storageKey=i.storageKey,this.instanceID=(a=Oi.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Oi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ie()){const r=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(r),this.logDebugMessages&&console.trace(r)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ux({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=uy(i.fetch),this.lock=i.lock||Fh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ie()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dx:this.lock=Fh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:oy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ph(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ph(this.memoryStorage)),Ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iy}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},n="none";if(Ie()&&(a=V_(window.location.href),this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce")),Ie()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(a,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),U_(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:r,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return B(a)?this._returnResult({error:a}):this._returnResult({error:new yn("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,n,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Yt}),{data:r,error:l}=i;if(l||!r)return this._returnResult({data:{user:null,session:null},error:l});const u=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var a,n,s;try{let i;if("email"in t){const{email:h,password:y,options:f}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await qn(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:y,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},xform:Yt})}else if("phone"in t){const{phone:h,password:y,options:f}=t;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:y,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Yt})}else throw new mr("You must provide either an email or phone number and a password");const{data:r,error:l}=i;if(l||!r)return this._returnResult({data:{user:null,session:null},error:l});const u=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let a;if("email"in t){const{email:i,password:r,options:l}=t;a=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xh})}else if("phone"in t){const{phone:i,password:r,options:l}=t;a=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xh})}else throw new mr("You must provide either an email or phone number and a password");const{data:n,error:s}=a;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Mn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(a){if(B(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,n,s,i,r,l,u,c,h,y,f;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:_,wallet:x,statement:p,options:d}=t;let g;if(Ie())if(typeof x=="object")g=x;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")g=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(d!=null&&d.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=x}const v=new URL((a=d==null?void 0:d.url)!==null&&a!==void 0?a:window.location.href),j=await g.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=dy(j[0]);let E=(n=d==null?void 0:d.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const U=await g.request({method:"eth_chainId"});E=fx(U)}const R={domain:v.host,address:S,statement:p,uri:v.href,version:"1",chainId:E,nonce:(s=d==null?void 0:d.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(r=(i=d==null?void 0:d.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=d==null?void 0:d.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=d==null?void 0:d.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=d==null?void 0:d.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=d==null?void 0:d.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=gx(R),b=await g.request({method:"personal_sign",params:[mx(m),S]})}try{const{data:_,error:x}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Yt});if(x)throw x;if(!_||!_.session||!_.user){const p=new Mn;return this._returnResult({data:{user:null,session:null},error:p})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:x})}catch(_){if(B(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var a,n,s,i,r,l,u,c,h,y,f,m;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:x,wallet:p,statement:d,options:g}=t;let v;if(Ie())if(typeof p=="object")v=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))v=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=p}const j=new URL((a=g==null?void 0:g.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in v&&v.signIn){const S=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),d?{statement:d}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),_=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...d?["",d,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((r=g==null?void 0:g.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((y=(h=g==null?void 0:g.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||y===void 0)&&y.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await v.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=S}}try{const{data:x,error:p}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:pn(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Yt});if(p)throw p;if(!x||!x.session||!x.user){const d=new Mn;return this._returnResult({data:{user:null,session:null},error:d})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:p})}catch(x){if(B(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const a=await un(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(a??"").split("/");try{const{data:i,error:r}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Yt});if(await Ta(this.storage,`${this.storageKey}-code-verifier`),r)throw r;if(!i||!i.session||!i.user){const l=new Mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:r})}catch(i){if(B(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:a,provider:n,token:s,access_token:i,nonce:r}=t,l=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yt}),{data:u,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const h=new Mn;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(a){if(B(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,n,s,i,r;try{if("email"in t){const{email:l,options:u}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await qn(this.storage,this.storageKey));const{error:y}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(a=u==null?void 0:u.data)!==null&&a!==void 0?a:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(r=u==null?void 0:u.channel)!==null&&r!==void 0?r:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new mr("You must provide either an email or phone number.")}catch(l){if(B(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var a,n;try{let s,i;"options"in t&&(s=(a=t.options)===null||a===void 0?void 0:a.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:r,error:l}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Yt});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const u=r.session,c=r.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var a,n,s;try{let i=null,r=null;this.flowType==="pkce"&&([i,r]=await qn(this.storage,this.storageKey));const l=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:r}),headers:this.headers,xform:rx});return this._returnResult(l)}catch(i){if(B(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;if(n)throw n;if(!a)throw new Qt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(B(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:r}=await L(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:r})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:r,error:l}=await L(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l})}throw new mr("You must provide either an email or phone number and a type")}catch(a){if(B(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const r=await un(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=To()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=ax(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:za}):await this._useSession(async a=>{var n,s,i;const{data:r,error:l}=a;if(l)throw l;return!(!((n=r.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:za})})}catch(a){if(B(a))return z_(a)&&(await this._removeSession(),await Ta(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Qt;const r=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await qn(this.storage,this.storageKey));const{data:c,error:h}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:r.access_token,xform:za});if(h)throw h;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),this._returnResult({data:{user:r.user},error:null})})}catch(n){if(B(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qt;const a=Date.now()/1e3;let n=a,s=!0,i=null;const{payload:r}=No(t.access_token);if(r.exp&&(n=r.exp,s=n<=a),s){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(a){if(B(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var n;if(!t){const{data:r,error:l}=a;if(l)throw l;t=(n=r.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Qt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(B(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!Ie())throw new gr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Hh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gr("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hh("No code detected.");const{data:d,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:d.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:r,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!r||!c)throw new gr("No session defined in URL");const h=Math.round(Date.now()/1e3),y=parseInt(l);let f=h+y;u&&(f=parseInt(u));const m=f-h;m*1e3<=Qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${y}s`);const b=f-y;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,h);const{data:_,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:y,expires_at:f,refresh_token:r,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(B(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await un(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:s,error:i}=a;if(i)return this._returnResult({error:i});const r=(n=s.session)===null||n===void 0?void 0:n.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(D_(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ta(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=G_(),n={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async a=>{var n,s;try{const{data:{session:i},error:r}=a;if(r)throw r;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,a={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qn(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(i){if(B(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(B(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:n,error:s}=await this._useSession(async i=>{var r,l,u,c,h;const{data:y,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(c=y.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ie()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(B(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var n;try{const{error:s,data:{session:i}}=a;if(s)throw s;const{options:r,provider:l,token:u,access_token:c,nonce:h}=t,y=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Yt}),{data:f,error:m}=y;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Mn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var n,s;const{data:i,error:r}=a;if(r)throw r;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(a){if(B(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await K_(async s=>(s>0&&await Y_(200*Math.pow(2,s-1)),this._debug(a,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yt})),(s,i)=>{const r=200*Math.pow(2,s);return i&&Eo(i)&&Date.now()+r-n<Qn})}catch(n){if(this._debug(a,"error",n),B(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",n),Ie()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,a;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await un(this.storage,this.storageKey);if(s&&this.userStorage){let r=await un(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:s.user},await Yn(this.userStorage,this.storageKey+"-user",r)),s.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:To()}else if(s&&!s.user&&!s.user){const r=await un(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(s.user=r.user,await Ta(this.storage,this.storageKey+"-user"),await Yn(this.storage,this.storageKey,s)):s.user=To()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((a=s.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<jo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${jo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:r}=await this._callRefreshToken(s.refresh_token);r&&(console.error(r),Eo(r)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(s.access_token);!l&&(r!=null&&r.user)?(s.user=r.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var a,n;if(!t)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zl;const{data:i,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!i.session)throw new Qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),B(i)){const r={data:null,error:i};return Eo(i)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(r),r}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,a,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:a});const i=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,a)}catch(u){i.push(u)}});if(await Promise.all(r),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const a=Object.assign({},t),n=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&a.user&&await Yn(this.userStorage,this.storageKey+"-user",{user:a.user});const s=Object.assign({},a);delete s.user;const i=Kh(s);await Yn(this.storage,this.storageKey,i)}else{const s=Kh(a);await Yn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ta(this.storage,this.storageKey),await Ta(this.storage,this.storageKey+"-code-verifier"),await Ta(this.storage,this.storageKey+"-user"),this.userStorage&&await Ta(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ie()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qn}ms, refresh threshold is ${Uu} ticks`),s<=Uu&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ie()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,n){const s=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,r]=await qn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(r)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var n;const{data:s,error:i}=a;return i?this._returnResult({data:null,error:i}):await L(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(B(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var n,s;const{data:i,error:r}=a;if(r)return this._returnResult({data:null,error:r});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(a){if(B(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:s,error:i}=a;if(i)return this._returnResult({data:null,error:i});const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?wx(t.webauthn.credential_response):Sx(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(a){if(B(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:s,error:i}=a;if(i)return this._returnResult({data:null,error:i});const r=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_x(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:xx(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(B(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=No(n.access_token);let r=null;i.aal&&(r=i.aal);let l=r;((a=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:n},error:s}=a;return s?this._returnResult({data:null,error:s}):n?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(a){if(B(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qt});const r=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Ie()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qt});const r=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Ie()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,a={keys:[]}){let n=a.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+k_>s)return n;const{data:i,error:r}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,a={}){try{let n=t;if(!n){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});n=m.session.access_token}const{header:s,payload:i,signature:r,raw:{header:l,payload:u}}=No(n);a!=null&&a.allowExpired||W_(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:r},error:null}}const h=ex(s.alg),y=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,y,r,L_(`${l}.${u}`)))throw new Bu("Invalid JWT signature");return{data:{claims:i,header:s,signature:r},error:null}}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}}Oi.nextInstanceID={};const Rx=Oi;class Dx extends Rx{constructor(t){super(t)}}class zx{constructor(t,a,n){var s,i,r;this.supabaseUrl=t,this.supabaseKey=a;const l=N_(t);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:v_,realtime:__,auth:Object.assign(Object.assign({},b_),{storageKey:u}),global:p_},h=E_(n??{},c);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=h.auth)!==null&&r!==void 0?r:{},this.headers,h.global.fetch),this.fetch=S_(a,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Tb(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new m_(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new jb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,a,n)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,a;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(a=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:r,flowType:l,lock:u,debug:c,throwOnError:h},y,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dx({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),y),storageKey:r,autoRefreshToken:t,persistSession:a,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:u,debug:c,throwOnError:h,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Qb(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,a,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ux=(e,t,a)=>new zx(e,t,a);function Mx(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Mx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qx="https://mkpldwagksjhzjmyfeok.supabase.co",Bx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1rcGxkd2Fna3NqaHpqbXlmZW9rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1OTY2MzMsImV4cCI6MjA3NjE3MjYzM30.sP5HXQl4U24U0WIRzFRj-shk3RFDGpXG6LqJn3MIcjw",Y=Ux(qx,Bx),fy=C.createContext(void 0);function an(){const e=C.useContext(fy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function $x({children:e}){const[t,a]=C.useState(null),[n,s]=C.useState(null),[i,r]=C.useState(!1),[l,u]=C.useState(null),[c,h]=C.useState(!0),y=async p=>{try{const{data:d,error:g}=await Y.from("users").select("*").eq("id",p).single();if(g)throw g;s(d),r((d==null?void 0:d.is_admin)||!1)}catch(d){console.error("Error fetching user profile:",d),s(null),r(!1)}};C.useEffect(()=>{Y.auth.getSession().then(({data:{session:d}})=>{u(d),a((d==null?void 0:d.user)??null),d!=null&&d.user?y(d.user.id):(s(null),r(!1)),h(!1)});const{data:{subscription:p}}=Y.auth.onAuthStateChange((d,g)=>{u(g),a((g==null?void 0:g.user)??null),g!=null&&g.user?y(g.user.id):(s(null),r(!1)),h(!1)});return()=>p.unsubscribe()},[]);const x={user:t,userProfile:n,isAdmin:i,session:l,loading:c,signIn:async(p,d)=>{const{error:g}=await Y.auth.signInWithPassword({email:p,password:d});return{error:g}},signUp:async(p,d)=>{const{error:g}=await Y.auth.signUp({email:p,password:d});return{error:g}},resetPassword:async p=>{const{error:d}=await Y.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});return{error:d}},signOut:async()=>{await Y.auth.signOut(),s(null),r(!1)}};return o.jsx(fy.Provider,{value:x,children:e})}/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hx=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,n)=>n?n.toUpperCase():a.toLowerCase()),Wh=e=>{const t=Hx(e);return t.charAt(0).toUpperCase()+t.slice(1)},my=(...e)=>e.filter((t,a,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===a).join(" ").trim(),Gx=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:r,...l},u)=>C.createElement("svg",{ref:u,...Vx,width:t,height:t,stroke:e,strokeWidth:n?Number(a)*24/Number(t):a,className:my("lucide",s),...!i&&!Gx(l)&&{"aria-hidden":"true"},...l},[...r.map(([c,h])=>C.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=(e,t)=>{const a=C.forwardRef(({className:n,...s},i)=>C.createElement(Qx,{ref:i,iconNode:t,className:my(`lucide-${Lx(Wh(e))}`,`lucide-${e}`,n),...s}));return a.displayName=Wh(e),a};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kx=K("arrow-left",Yx);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Xx=K("book-open",Jx);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ef=K("bot",Zx);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],kr=K("brain",Px);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fx=K("calendar",Ix);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ss=K("check",Wx);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t1=K("chevron-left",e1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hl=K("circle-alert",a1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fl=K("circle-check",n1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oo=K("clock",s1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ci=K("crown",i1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],gy=K("database",r1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],o1=K("download",l1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],c1=K("file-json",u1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ki=K("file-text",d1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],f1=K("funnel",h1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],g1=K("hash",m1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],tf=K("key",y1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],v1=K("list",p1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Fe=K("loader",b1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],x1=K("lock",_1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],S1=K("log-in",w1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E1=K("log-out",j1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yy=K("mail",N1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],af=K("menu",T1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],O1=K("message-circle",A1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],k1=K("play",C1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],D1=K("plus",R1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],U1=K("rotate-ccw",z1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],q1=K("search",M1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],py=K("send",B1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L1=K("settings",$1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],G1=K("shield-off",H1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Q1=K("shield",V1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],K1=K("sparkles",Y1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],X1=K("square-check",J1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],P1=K("square",Z1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],F1=K("timer",I1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pc=K("trash-2",W1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ic=K("trophy",ew);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],aw=K("type",tw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sw=K("upload",nw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vy=K("user-check",iw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lw=K("user",rw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$u=K("users",ow);function uw({children:e,currentPage:t,onPageChange:a}){var m,b;const{user:n,signOut:s,isAdmin:i}=an(),[r,l]=yf.useState(!0);C.useEffect(()=>{(()=>{window.innerWidth<768?l(!1):l(!0)})()},[]);const u=[{id:"chat",name:"Q&A Chat",icon:O1},{id:"quiz",name:"Self Quiz",icon:kr},{id:"team",name:"Team Challenge",icon:$u}],c=[{id:"documents",name:"Documents",icon:ki},...u,{id:"admin",name:"Admin Panel",icon:Ci}],h=i?c:u,y=()=>{l(!r)},f=_=>{a(_),window.innerWidth<768&&l(!1)};return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 z-30 sticky top-0",children:o.jsx("div",{className:"w-full px-3 sm:px-4 lg:px-6",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("button",{onClick:y,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":"Toggle navigation",children:r?o.jsxs("div",{className:"flex items-center",children:[o.jsx(t1,{className:"w-6 h-6 hidden md:block"}),o.jsx(af,{className:"w-6 h-6 md:hidden"})]}):o.jsx("div",{className:"flex items-center",children:o.jsx(af,{className:"w-6 h-6"})})}),o.jsx("div",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 bg-primary-600 rounded-lg shrink-0",children:o.jsx(Ic,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:`${!r&&"hidden sm:block"}`,children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Formula Student"}),o.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"Trainer Platform"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[(m=n==null?void 0:n.email)==null?void 0:m.split("@")[0],i&&o.jsx(Ci,{className:"w-3 h-3 text-yellow-500 ml-1"})]}),o.jsx("span",{className:"text-xs text-gray-500",children:i?"Administrator":"Student"})]}),o.jsx("div",{className:"h-8 w-px bg-gray-200 hidden md:block"}),o.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors p-2 rounded-lg hover:bg-red-50",title:"Sign Out",children:[o.jsx(E1,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Sign Out"})]})]})]})})}),o.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[r&&o.jsx("div",{className:"fixed inset-0 bg-gray-900/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>l(!1)}),o.jsxs("aside",{className:`
            fixed md:relative z-30 h-full bg-white border-r border-gray-200 
            transition-all duration-300 ease-in-out flex flex-col
            ${r?"translate-x-0 w-64":"-translate-x-full w-64 md:translate-x-0 md:w-20"}
          `,children:[o.jsx("div",{className:"flex-1 py-6 overflow-y-auto overflow-x-hidden",children:o.jsx("nav",{className:"space-y-1 px-3",children:h.map(_=>{const x=_.icon,p=t===_.id;return o.jsxs("button",{onClick:()=>f(_.id),className:`
                      relative group w-full flex items-center p-3 rounded-lg transition-all duration-200
                      ${p?"bg-primary-50 text-primary-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                      ${!r&&"md:justify-center"} /* Center icons when collapsed */
                    `,title:r?"":_.name,children:[p&&o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary-600 rounded-r-full"}),o.jsx(x,{className:`
                        shrink-0 w-5 h-5 transition-colors
                        ${p?"text-primary-600":"text-gray-500 group-hover:text-gray-700"}
                      `}),o.jsx("span",{className:`
                        ml-3 whitespace-nowrap transition-all duration-300 origin-left
                        ${r?"opacity-100 translate-x-0":"md:opacity-0 md:w-0 md:hidden"}
                      `,children:_.name}),!r&&o.jsxs("div",{className:`
                        absolute left-full top-1/2 -translate-y-1/2 ml-4 px-2 py-1 
                        bg-gray-900 text-white text-xs rounded opacity-0 invisible 
                        group-hover:opacity-100 group-hover:visible transition-all 
                        z-50 whitespace-nowrap hidden md:block pointer-events-none
                      `,children:[_.name,o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-1 border-4 border-transparent border-r-gray-900"})]})]},_.id)})})}),o.jsx("div",{className:`p-4 border-t border-gray-100 ${!r&&"md:items-center md:flex md:flex-col"}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xs",children:(b=n==null?void 0:n.email)==null?void 0:b.charAt(0).toUpperCase()}),o.jsxs("div",{className:`transition-all duration-300 overflow-hidden ${!r&&"md:w-0 md:opacity-0 hidden"}`,children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 truncate max-w-[140px]",children:"My Profile"}),o.jsx("p",{className:"text-xs text-gray-500",children:"View Settings"})]})]})})]}),o.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 lg:p-8 w-full",children:o.jsx("div",{className:"max-w-6xl mx-auto animate-in fade-in duration-500",children:e})})]})]})}function cw(){const[e,t]=C.useState(!1),[a,n]=C.useState(!1),[s,i]=C.useState(""),[r,l]=C.useState(""),[u,c]=C.useState(!1),[h,y]=C.useState(""),[f,m]=C.useState(""),{signIn:b,signUp:_,resetPassword:x}=an(),p=async d=>{d.preventDefault(),c(!0),y(""),m("");try{let g;a?(g=await x(s),g.error||(m("Password reset email sent! Check your inbox."),n(!1),i(""))):g=e?await _(s,r):await b(s,r),g.error&&y(g.error.message)}catch{y("An unexpected error occurred")}finally{c(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-3 sm:p-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mx-auto mb-4",children:o.jsx(Ic,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Formula Student Trainer"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"CTM Quiz Training Platform"})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:a?"Reset Password":e?"Create Account":"Welcome Back"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:a?"Enter your email to receive a password reset link":e?"Join your team and start training":"Sign in to continue your training"})]}),f&&o.jsxs("div",{className:"mb-4 p-3 bg-success-50 border border-success-200 rounded-lg flex items-start space-x-2",children:[o.jsx("div",{className:"w-5 h-5 text-success-600 flex-shrink-0 mt-0.5",children:""}),o.jsx("span",{className:"text-success-700 text-sm",children:f})]}),h&&o.jsxs("div",{className:"mb-4 p-3 bg-danger-50 border border-danger-200 rounded-lg flex items-start space-x-2",children:[o.jsx(hl,{className:"w-5 h-5 text-danger-600"}),o.jsx("span",{className:"text-danger-700 text-sm",children:h})]}),a&&o.jsxs("button",{type:"button",onClick:()=>{n(!1),y(""),m("")},className:"mb-4 flex items-center space-x-2 text-primary-600 hover:text-primary-700 text-sm",children:[o.jsx(Kx,{className:"w-4 h-4"}),o.jsx("span",{children:"Back to Sign In"})]}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(yy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",value:s,onChange:d=>i(d.target.value),className:"input-field pl-10",placeholder:"Enter your email",required:!0})]})]}),!a&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(x1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"password",type:"password",value:r,onChange:d=>l(d.target.value),className:"input-field pl-10",placeholder:"Enter your password",required:!0,minLength:6})]})]}),o.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full py-3",children:u?o.jsx("span",{className:"loading-dots",children:a?"Sending Reset Email":e?"Creating Account":"Signing In"}):a?"Send Reset Email":e?"Create Account":"Sign In"})]}),o.jsxs("div",{className:"mt-6 text-center space-y-2",children:[!a&&o.jsx("button",{onClick:()=>t(!e),className:"text-primary-600 hover:text-primary-700 text-sm font-medium block w-full",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"}),!e&&!a&&o.jsx("button",{onClick:()=>{n(!0),y(""),l("")},className:"text-gray-600 hover:text-primary-600 text-sm",children:"Forgot your password?"})]})]}),o.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:o.jsx("p",{children:"Powered by AI  Secure  Real-time Collaboration"})})]})})}function nf(){const{user:e}=an(),[t,a]=C.useState([]),[n,s]=C.useState(!0),[i,r]=C.useState(!1),[l,u]=C.useState(""),[c,h]=C.useState(null),[y,f]=C.useState(new Set),[m,b]=C.useState(!1),[_,x]=C.useState(!1),[p,d]=C.useState([]),[g,v]=C.useState(!1);C.useEffect(()=>{S(),j();const O=window.document.createElement("script");return O.src="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",O.async=!0,O.onload=()=>{window.pdfjsLib.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js",b(!0)},window.document.body.appendChild(O),()=>{window.document.body.contains(O)&&window.document.body.removeChild(O)}},[]);const j=()=>{try{const O=localStorage.getItem("selectedDocuments");if(O){const D=JSON.parse(O);f(new Set(D))}}catch(O){console.error("Error loading selected documents:",O)}},S=async()=>{try{const{data:O,error:D}=await Y.from("documents").select("*").order("created_at",{ascending:!1});if(D)throw D;a(O||[])}catch(O){console.error("Error fetching documents:",O),E("error","Failed to fetch documents")}finally{s(!1)}},E=(O,D)=>{h({type:O,text:D}),setTimeout(()=>h(null),5e3)},R=async O=>{if(!m||!window.pdfjsLib)throw new Error("PDF Library not loaded yet. Please try again in a few seconds.");return new Promise(async(D,G)=>{try{const ce=await O.arrayBuffer(),ve=await window.pdfjsLib.getDocument({data:ce}).promise;let _e="";const qt=ve.numPages;for(let ft=1;ft<=qt;ft++){const $t=(await(await ve.getPage(ft)).getTextContent()).items.map(Lt=>Lt.str).join(" ");_e+=`
--- Page ${ft} ---
${$t}
`}_e.trim().length>0?D(_e):D(`[PDF Document: ${O.name}] - No selectable text found. This might be a scanned image.`)}catch(ce){console.error("PDF parsing error:",ce),D(`[PDF Document: ${O.name}] - Failed to parse PDF. Error: ${ce.message}`)}})},U=async O=>{var ce;const D=(ce=O.target.files)==null?void 0:ce[0];if(!D||!e)return;if(D.size>10*1024*1024){E("error","File size must be less than 10MB"),O.target.value="";return}if(!["application/pdf","text/plain"].includes(D.type)){E("error","Only PDF and TXT files are supported"),O.target.value="";return}r(!0),u("Preparing file...");try{let re="";D.type==="application/pdf"?(u("Extracting text layers from PDF..."),re=await R(D)):(u("Reading text file..."),re=await D.text()),u("Uploading file...");const ve=`${Date.now()}-${D.name}`,{data:_e,error:qt}=await Y.storage.from("documents").upload(ve,D);if(qt)throw qt;u("Processing embeddings (this may take a moment)...");const{data:ft,error:Bt}=await Y.functions.invoke("process-document",{body:{name:D.name,content:re,file_path:_e.path,file_size:D.size,mime_type:D.type,uploaded_by:e.id}});if(Bt)throw Bt;E("success","Document uploaded and processed successfully!"),S()}catch(re){console.error("Error uploading document:",re),E("error","Failed to upload document")}finally{r(!1),u(""),O.target.value=""}},V=async O=>{try{const{data:D,error:G}=await Y.storage.from("documents").download(O.file_path);if(G)throw G;const ce=URL.createObjectURL(D),re=window.document.createElement("a");re.href=ce,re.download=O.name,window.document.body.appendChild(re),re.click(),window.document.body.removeChild(re),URL.revokeObjectURL(ce)}catch(D){console.error("Error downloading document:",D),E("error","Failed to download document")}},Oe=async O=>{if(confirm(`Are you sure you want to delete "${O.name}"?`))try{const{error:D}=await Y.storage.from("documents").remove([O.file_path]);if(D)throw D;const{error:G}=await Y.from("documents").delete().eq("id",O.id);if(G)throw G;E("success","Document deleted successfully!"),S()}catch(D){console.error("Error deleting document:",D),E("error","Failed to delete document")}},Le=O=>{const D=new Set(y);D.has(O)?D.delete(O):D.add(O),f(D),localStorage.setItem("selectedDocuments",JSON.stringify(Array.from(D)))},Sa=()=>{const O=t.filter(G=>G.content&&!G.content.startsWith("[PDF Document:")&&G.content.length>100),D=new Set(O.map(G=>G.id));f(D),localStorage.setItem("selectedDocuments",JSON.stringify(Array.from(D)))},aa=()=>{f(new Set),localStorage.setItem("selectedDocuments",JSON.stringify([]))},nt=O=>{if(O===0)return"0 Bytes";const D=1024,G=["Bytes","KB","MB","GB"],ce=Math.floor(Math.log(O)/Math.log(D));return parseFloat((O/Math.pow(D,ce)).toFixed(2))+" "+G[ce]},k=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=O=>O.replace(/\f/g,"").replace(/[\r\n]+/g," ").replace(/:\s*true\s*}/g,": true }").replace(/:\s*false\s*}/g,": false }").replace(/[^\x20-\x7E\xA0-\xFF]/g,"").trim(),Q=async O=>{var ce;const D=(ce=O.target.files)==null?void 0:ce[0];if(!D)return;x(!0),d([]),v(!0);const G=re=>d(ve=>[...ve,re]);try{G("Reading file...");const re=await D.text();G("Splitting content...");const ve=re.split(/QUIZ\s+\d+/).filter(Me=>Me.trim().length>10);G(`Found ${ve.length} potential quiz blocks.`);let _e=[],qt=0,ft=0;for(let Me=0;Me<ve.length;Me++){let $t=ve[Me];try{const Lt=$($t),Ht=JSON.parse(Lt),ja=Ht.event&&Ht.event[0]?Ht.event[0].short_name:"Unknown",je=parseInt(Ht.year)||0,Ea=Ht.questions.map(st=>{var te;const T=st.solution&&st.solution[0]?st.solution[0].text:null,z=((te=st.answers)==null?void 0:te.map(xe=>({text:xe.answer_text,is_correct:xe.is_correct})))||[];return{external_id:st.question_id,quiz_id:Ht.quiz_id,year:je,class:Ht.class,source_event:ja,type:st.type,question_text:st.text,options:z,images:st.images||[],explanation:T}});_e.push(...Ea),qt++}catch{console.error(`Block ${Me} failed. Preview: ${$t.substring(0,50)}...`),ft++}}if(G(`Parsed ${qt} quizzes. (${ft} failed).`),G(`Prepared ${_e.length} questions for upload.`),_e.length===0)throw new Error("No questions could be parsed. The file format might be too corrupted.");const Bt=50;for(let Me=0;Me<_e.length;Me+=Bt){const $t=_e.slice(Me,Me+Bt),{error:Lt}=await Y.from("question_bank").insert($t);if(Lt)throw Lt;G(`Uploaded ${Math.min(Me+Bt,_e.length)} / ${_e.length}`)}G(" Import Complete Successfully!"),E("success",`Imported ${_e.length} questions to the Bank.`)}catch(re){console.error(re),G(` CRITICAL ERROR: ${re.message}`),E("error","Import failed. Check logs.")}finally{x(!1),O.target.value=""}};return n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Fe,{className:"w-8 h-8 animate-spin text-primary-600"})}):o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Training Documents"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Upload Formula Student rulebooks, guides, and reference materials"}),y.size>0&&o.jsxs("p",{className:"text-primary-600 text-sm mt-1",children:[y.size," document",y.size!==1?"s":""," selected for processing"]})]})}),c&&o.jsxs("div",{className:`p-3 sm:p-4 rounded-lg flex items-start space-x-2 ${c.type==="success"?"bg-success-50 border border-success-200":"bg-danger-50 border border-danger-200"}`,children:[c.type==="success"?o.jsx(fl,{className:"w-5 h-5 text-success-600 flex-shrink-0 mt-0.5"}):o.jsx(hl,{className:"w-5 h-5 text-danger-600 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:`text-sm sm:text-base ${c.type==="success"?"text-success-700":"text-danger-700"}`,children:c.text})]}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 sm:p-8 text-center hover:border-primary-400 transition-colors",children:[o.jsx(sw,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"Upload Training Documents"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4",children:"Supported formats: PDF, TXT (Max 10MB)"}),i&&l&&o.jsx("p",{className:"text-xs sm:text-sm text-primary-600 mb-3 font-medium",children:l}),o.jsxs("label",{className:`btn-primary cursor-pointer inline-block px-6 py-3 ${m?"":"opacity-50"}`,children:[i?o.jsxs("span",{className:"flex items-center space-x-2",children:[o.jsx(Fe,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{className:"text-sm sm:text-base",children:"Processing..."})]}):o.jsx("span",{className:"text-sm sm:text-base",children:"Choose File"}),o.jsx("input",{type:"file",className:"hidden",accept:".pdf,.txt",onChange:U,disabled:i||!m})]}),!m&&!i&&o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Initializing PDF Processor..."})]})}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 sm:p-5",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:o.jsx(gy,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Official Question Bank Import"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Import raw JSON data (text file) from FS Quiz archives."})]})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[p.length>0&&o.jsx("button",{onClick:()=>v(!g),className:"text-gray-500 hover:text-gray-700 p-2",title:"Show Logs",children:o.jsx(v1,{className:"w-5 h-5"})}),o.jsxs("label",{className:`btn-secondary cursor-pointer flex items-center justify-center px-4 py-2 w-full sm:w-auto ${_?"opacity-50 pointer-events-none":""}`,children:[_?o.jsx(Fe,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(c1,{className:"w-4 h-4 mr-2"}),_?"Importing...":"Import .txt File",o.jsx("input",{type:"file",accept:".txt,.json",className:"hidden",onChange:Q,disabled:_})]})]})]}),g&&p.length>0&&o.jsx("div",{className:"mt-4 bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-xs h-40 overflow-y-auto",children:p.map((O,D)=>o.jsx("div",{className:"border-b border-gray-800 py-1",children:O},D))})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["Uploaded Documents (",t.length,")"]}),t.length>0&&o.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm",children:[o.jsxs("button",{onClick:Sa,className:"text-primary-600 hover:text-primary-700 whitespace-nowrap",children:[o.jsx("span",{className:"hidden sm:inline",children:"Select All Valid"}),o.jsx("span",{className:"sm:hidden",children:"All"})]}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsxs("button",{onClick:aa,className:"text-gray-600 hover:text-gray-700 whitespace-nowrap",children:[o.jsx("span",{className:"hidden sm:inline",children:"Clear Selection"}),o.jsx("span",{className:"sm:hidden",children:"Clear"})]})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ki,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"No documents uploaded yet"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload your first training document to get started"})]}):o.jsx("div",{className:"space-y-2 sm:space-y-3",children:t.map(O=>o.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border-2 rounded-lg transition-colors space-y-2 sm:space-y-0 ${y.has(O.id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1 cursor-pointer",onClick:()=>Le(O.id),children:[o.jsx("button",{className:`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${y.has(O.id)?"border-primary-500 bg-primary-500":"border-gray-300 hover:border-primary-400"}`,children:y.has(O.id)&&o.jsx(ss,{className:"w-3 h-3 text-white"})}),o.jsx(ki,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:O.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:[nt(O.file_size),"  Uploaded ",k(O.created_at)]}),O.content&&!O.content.startsWith("[PDF Document:")&&o.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[" Text extracted (",O.content.length," chars)"]}),O.content&&O.content.startsWith("[PDF Document:")&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:" No text extracted - please re-upload"})]})]}),o.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 self-end sm:self-center",children:[o.jsx("button",{onClick:()=>V(O),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Download",children:o.jsx(o1,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Oe(O),className:"p-2 text-gray-600 hover:text-danger-600 hover:bg-danger-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(Pc,{className:"w-4 h-4"})})]})]},O.id))})]})]})}function sf(){const{user:e}=an(),[t,a]=C.useState([]),[n,s]=C.useState(""),[i,r]=C.useState(!1),l=C.useRef(null),[u,c]=C.useState(!1),[h,y]=C.useState(new Set),[f,m]=C.useState([]);C.useEffect(()=>{a([{id:"1",content:"Hello! I'm your Formula Student training assistant. I can help you with questions about the rulebook, regulations, and technical requirements. What would you like to know?",is_user:!1,timestamp:new Date().toISOString()}])},[]),C.useEffect(()=>{b();const d=localStorage.getItem("selectedDocuments");d&&y(new Set(JSON.parse(d)))},[]),C.useEffect(()=>{x()},[t]);const b=async()=>{try{const{data:d,error:g}=await Y.from("documents").select("*").order("created_at",{ascending:!1});if(g)throw g;const v=(d||[]).filter(j=>j.content&&!j.content.startsWith("[PDF Document:")&&j.content.length>100);m(v)}catch(d){console.error("Error fetching documents:",d)}},_=d=>{const g=new Set(h);g.has(d)?g.delete(d):g.add(d),y(g),localStorage.setItem("selectedDocuments",JSON.stringify(Array.from(g)))},x=()=>{var d;(d=l.current)==null||d.scrollIntoView({behavior:"smooth"})},p=async d=>{if(d.preventDefault(),!n.trim()||i)return;const g={id:Date.now().toString(),content:n.trim(),is_user:!0,timestamp:new Date().toISOString()};a(v=>[...v,g]),s(""),r(!0);try{const{data:v,error:j}=await Y.functions.invoke("chat-rag",{body:{query:g.content,selectedDocuments:Array.from(h)}});if(j)throw j;const S={id:(Date.now()+1).toString(),content:v.response,is_user:!1,timestamp:new Date().toISOString(),sources:v.sources||[]};a(E=>[...E,S])}catch(v){console.error("Error sending message:",v);const j={id:(Date.now()+1).toString(),content:"I'm sorry, I encountered an error while processing your question. Please try again.",is_user:!1,timestamp:new Date().toISOString()};a(S=>[...S,j])}finally{r(!1)}};return o.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Q&A Chat"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Ask questions about Formula Student rules and regulations"}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mt-2 space-y-2 sm:space-y-0",children:[o.jsx("p",{className:"text-sm text-gray-500",children:h.size>0?`Using ${h.size} selected document${h.size!==1?"s":""}`:"Using all available documents"}),o.jsxs("button",{onClick:()=>c(!u),className:"flex items-center space-x-1 text-sm text-primary-600 hover:text-primary-700",children:[o.jsx(L1,{className:"w-4 h-4"}),o.jsx("span",{children:"Select Documents"})]})]})]}),u&&o.jsxs("div",{className:"card mb-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Select Documents for Q&A"}),f.length===0?o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"No valid documents available. Please upload and process documents first."}):o.jsx("div",{className:"space-y-2 max-h-48 sm:max-h-60 overflow-y-auto",children:f.map(d=>o.jsxs("div",{onClick:()=>_(d.id),className:`flex items-center space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${h.has(d.id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50"}`,children:[o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${h.has(d.id)?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:h.has(d.id)&&o.jsx(ss,{className:"w-3 h-3 text-white"})}),o.jsx(ki,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:d.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:[d.content.length," characters"]})]})]},d.id))}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:()=>c(!1),className:"btn-primary",children:"Done"})})]}),o.jsxs("div",{className:"flex-1 card overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 sm:p-4 space-y-3 sm:space-y-4",children:[t.map(d=>o.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 ${d.is_user?"flex-row-reverse space-x-reverse":""}`,children:[o.jsx("div",{className:`flex-shrink-0 w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${d.is_user?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"}`,children:d.is_user?o.jsx(lw,{className:"w-3 h-3 sm:w-4 sm:h-4"}):o.jsx(ef,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),o.jsxs("div",{className:`flex-1 max-w-full sm:max-w-3xl ${d.is_user?"text-right":"text-left"}`,children:[o.jsx("div",{className:`inline-block p-2 sm:p-3 rounded-lg max-w-full ${d.is_user?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"}`,children:o.jsx("p",{className:"whitespace-pre-wrap text-sm sm:text-base break-words",children:d.content})}),d.sources&&d.sources.length>0&&o.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[o.jsx(ki,{className:"w-3 h-3"}),o.jsx("span",{children:"Sources:"})]}),o.jsx("ul",{className:"list-disc list-inside space-y-1 break-words",children:d.sources.map((g,v)=>o.jsx("li",{children:g},v))})]}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 break-words",children:new Date(d.timestamp).toLocaleTimeString()})]})]},d.id)),i&&o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0 w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center",children:o.jsx(ef,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"inline-block p-2 sm:p-3 rounded-lg bg-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fe,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Thinking..."})]})})})]}),o.jsx("div",{ref:l})]}),o.jsx("div",{className:"border-t border-gray-200 p-3 sm:p-4",children:o.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[o.jsx("input",{type:"text",value:n,onChange:d=>s(d.target.value),placeholder:"Ask a question about Formula Student...",className:"flex-1 input-field text-sm sm:text-base",disabled:i}),o.jsx("button",{type:"submit",disabled:i||!n.trim(),className:"btn-primary px-4 sm:px-6 w-full sm:w-auto py-2 sm:py-2",children:o.jsx(py,{className:"w-4 h-4"})})]})})]})]})}function dw(){const{user:e}=an(),[t,a]=C.useState([]),[n,s]=C.useState(0),[i,r]=C.useState(null),[l,u]=C.useState(!1),[c,h]=C.useState(0),[y,f]=C.useState([]),[m,b]=C.useState(!1),[_,x]=C.useState(!1),[p,d]=C.useState(!0),[g,v]=C.useState("official"),[j,S]=C.useState({questionCount:5,timeLimit:10,yearFilter:"all",sourceFilter:"all"}),[E,R]=C.useState(0),[U,V]=C.useState(!1),[Oe,Le]=C.useState(!1),[Sa,aa]=C.useState(""),[nt,k]=C.useState(!1),[$,Q]=C.useState(new Set),[O,D]=C.useState([]),G=t[n],ce=n===t.length-1;C.useEffect(()=>{let T;return U&&!Oe&&E>0&&(T=setInterval(()=>{R(z=>z<=1?(Lt(),0):z-1)},1e3)),()=>clearInterval(T)},[U,Oe,E]),C.useEffect(()=>{re();const T=localStorage.getItem("selectedDocuments");T&&Q(new Set(JSON.parse(T)))},[]);const re=async()=>{try{const{data:T,error:z}=await Y.from("documents").select("*").order("created_at",{ascending:!1});if(z)throw z;const te=(T||[]).filter(xe=>xe.content&&!xe.content.startsWith("[PDF Document:")&&xe.content.length>100);D(te)}catch(T){console.error("Error fetching documents:",T)}},ve=T=>{const z=new Set($);z.has(T)?z.delete(T):z.add(T),Q(z),localStorage.setItem("selectedDocuments",JSON.stringify(Array.from(z)))},_e=()=>{d(!0),Me()},qt=T=>{const z=Math.floor(T/60),te=T%60;return`${z}:${te.toString().padStart(2,"0")}`},ft=()=>{const T=c/t.length*100;return T>=80?"text-green-600":T>=60?"text-yellow-600":"text-red-600"},Bt=async()=>{if(j.questionCount<1){alert("Please request at least 1 question.");return}x(!0),a([]);try{let T=[];if(g==="ai"){if($.size===0){alert("Please select at least one document for AI context."),x(!1);return}const{data:z,error:te}=await Y.functions.invoke("generate-quiz",{body:{count:j.questionCount,selectedDocuments:Array.from($)}});if(te)throw te;T=z.questions||[]}else{let z=Y.from("question_bank").select("*");j.yearFilter!=="all"&&(z=z.eq("year",parseInt(j.yearFilter))),j.sourceFilter!=="all"&&(z=z.eq("source_event",j.sourceFilter));const{data:te,error:xe}=await z.limit(50);if(xe)throw xe;if(!te||te.length===0){alert("No questions found matching these filters."),x(!1);return}T=te.sort(()=>.5-Math.random()).slice(0,j.questionCount).map(He=>{let fe=He.options;if(typeof fe=="string")try{fe=JSON.parse(fe)}catch{}const Pe=Array.isArray(fe)?fe.map(P=>P.text):[];let w="input";He.type==="single-choice"||He.type==="single_choice"?w="single_choice":He.type==="multi-choice"||He.type==="multi_choice"?w="multi_choice":(He.type==="input"||He.type==="input-range")&&(w="input");let A=null;if(w==="single_choice")A=Array.isArray(fe)?fe.findIndex(P=>P.is_correct==!0):0,A===-1&&(A=0);else if(w==="multi_choice")A=Array.isArray(fe)?fe.map((P,it)=>P.is_correct?it:-1).filter(P=>P!==-1):[];else{const P=Array.isArray(fe)?fe.find(it=>it.is_correct===!0):null;A=P?P.text:""}let M=null,J=He.images;if(typeof J=="string")try{J=JSON.parse(J)}catch{}return Array.isArray(J)&&J.length>0&&(M=J[0].path),{id:He.id,type:w,question:He.question_text,options:Pe,correct_answer:A,explanation:He.explanation||"See official solution.",difficulty:"Hard",image_path:M}})}a(T),Me(T.length),d(!1),$t(T.length)}catch(T){console.error(T),alert("Failed to load quiz")}finally{x(!1)}},Me=(T=0)=>{s(0),r(null),u(!1),h(0),V(!1),Le(!1),R(0),aa(""),f(new Array(T>0?T:t.length).fill(null))},$t=()=>{V(!0),j.timeLimit>0?R(j.timeLimit*60):R(99999)},Lt=()=>{V(!1),u(!0),Ea()},Ht=T=>{const z=i||[];z.includes(T)?r(z.filter(te=>te!==T)):r([...z,T].sort())},ja=(T,z,te)=>{if(T==null)return!1;if(te==="single-choice")return Number(T)===Number(z);if(te==="multi-choice"){const xe=Array.isArray(T)?T.sort().toString():"",we=Array.isArray(z)?z.sort().toString():"";return xe===we}if(te==="input"){const xe=String(T).trim().replace(",","."),we=String(z).trim().replace(",",".");if(we.includes("-")&&!isNaN(parseFloat(we.split("-")[0]))){const Pe=we.split("-").map(w=>parseFloat(w.trim()));if(Pe.length===2&&!isNaN(Pe[0])&&!isNaN(Pe[1])){const w=parseFloat(xe);return!isNaN(w)&&w>=Pe[0]&&w<=Pe[1]}}const He=parseFloat(xe),fe=parseFloat(we);if(!isNaN(He)&&!isNaN(fe)){const Pe=Math.abs(fe)*.01;return Math.abs(He-fe)<=Pe}return xe.toLowerCase()===we.toLowerCase()}return!1},je=()=>{if(i===null||Array.isArray(i)&&i.length===0||typeof i=="string"&&i.trim()==="")return;const T=[...y];T[n]=i,f(T),ja(i,G.correct_answer,G.type)&&h(z=>z+1),ce?(V(!1),u(!0),Ea()):(s(z=>z+1),r(null))},Ea=async()=>{k(!0);try{const{data:T,error:z}=await Y.functions.invoke("generate-feedback",{body:{questions:t,answers:y,score:c,totalQuestions:t.length,mode:"individual"}});if(z)throw z;aa(T.feedback||T.detailed_analysis||"Quiz completed.")}catch(T){console.error(T),aa("Great job! (AI feedback unavailable)")}finally{k(!1)}},st=()=>G?G.type==="single_choice"?o.jsx("div",{className:"space-y-3",children:G.options.map((T,z)=>o.jsx("button",{onClick:()=>r(z),className:`w-full text-left p-4 border-2 rounded-xl transition-all duration-200 ${i===z?"border-primary-600 bg-primary-50 ring-1 ring-primary-600":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 mr-3 text-sm font-bold rounded-full border ${i===z?"bg-primary-600 text-white border-primary-600":"text-gray-500 border-gray-300"}`,children:String.fromCharCode(65+z)}),o.jsx("span",{className:i===z?"font-medium text-gray-900":"text-gray-700",children:T})]})},z))}):G.type==="multi_choice"?o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-500 font-medium uppercase tracking-wide mb-2",children:"Select all that apply"}),G.options.map((T,z)=>{const te=i==null?void 0:i.includes(z);return o.jsx("button",{onClick:()=>Ht(z),className:`w-full text-left p-4 border-2 rounded-xl transition-all duration-200 ${te?"border-primary-600 bg-primary-50":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`mr-3 ${te?"text-primary-600":"text-gray-300"}`,children:o.jsx("div",{className:`w-6 h-6 border-2 rounded-md flex items-center justify-center ${te?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:te&&o.jsx(ss,{className:"w-4 h-4 text-white"})})}),o.jsx("span",{className:te?"font-medium text-gray-900":"text-gray-700",children:T})]})},z)})]}):G.type==="input"?o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Your Answer"}),o.jsx("input",{type:"text",className:"mt-2 block w-full p-4 text-lg border-2 border-gray-300 rounded-xl focus:border-primary-500 focus:ring-0 outline-none transition-colors",placeholder:"Type your answer...",value:i||"",onChange:T=>r(T.target.value),onKeyDown:T=>T.key==="Enter"&&je(),autoFocus:!0})]}):o.jsxs("div",{className:"text-red-500",children:["Error: Unknown Question Type (",G.type,")"]}):null;return p?o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"New Quiz Session"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Configure your training parameters"})]}),o.jsxs("div",{className:"card p-4 sm:p-6 space-y-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"bg-gray-100 p-1 rounded-lg flex space-x-1",children:[o.jsx("button",{onClick:()=>v("official"),className:`px-4 py-2 rounded-md text-sm font-semibold transition-all ${g==="official"?"bg-white shadow text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(gy,{className:"w-4 h-4 mr-2"}),"Official Question Bank"]})}),o.jsx("button",{onClick:()=>v("ai"),className:`px-4 py-2 rounded-md text-sm font-semibold transition-all ${g==="ai"?"bg-white shadow text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"AI Generator"]})})]})}),g==="official"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-blue-50 rounded-xl border border-blue-100",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-blue-800 uppercase tracking-wide mb-2 flex items-center",children:[o.jsx(f1,{className:"w-3 h-3 mr-1"})," Competition"]}),o.jsxs("select",{value:j.sourceFilter,onChange:T=>S(z=>({...z,sourceFilter:T.target.value})),className:"input-field w-full bg-white text-sm",children:[o.jsx("option",{value:"all",children:"All Events"}),o.jsx("option",{value:"FSG",children:"FS Germany"}),o.jsx("option",{value:"FSN",children:"FS Netherlands"}),o.jsx("option",{value:"FSA",children:"FS Austria"}),o.jsx("option",{value:"FS East",children:"FS East"}),o.jsx("option",{value:"FSCH",children:"FS Switzerland"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-blue-800 uppercase tracking-wide mb-2 flex items-center",children:[o.jsx(Oo,{className:"w-3 h-3 mr-1"})," Year"]}),o.jsxs("select",{value:j.yearFilter,onChange:T=>S(z=>({...z,yearFilter:T.target.value})),className:"input-field w-full bg-white text-sm",children:[o.jsx("option",{value:"all",children:"All Years"}),o.jsx("option",{value:"2025",children:"2025"}),o.jsx("option",{value:"2024",children:"2024"}),o.jsx("option",{value:"2023",children:"2023"}),o.jsx("option",{value:"2022",children:"2022"}),o.jsx("option",{value:"2021",children:"2021"})]})]})]}),g==="ai"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(Xx,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900",children:"Select Knowledge Base"})]}),o.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:O.length===0?o.jsx("div",{className:"p-3 sm:p-4 text-center text-gray-500 bg-gray-50 text-sm sm:text-base",children:'No documents found. Go to "Documents" to upload content.'}):o.jsx("div",{className:"max-h-40 sm:max-h-48 overflow-y-auto divide-y divide-gray-100 bg-gray-50",children:O.map(T=>o.jsxs("div",{onClick:()=>ve(T.id),className:`flex items-center space-x-3 p-3 cursor-pointer transition-colors hover:bg-white ${$.has(T.id)?"bg-primary-50":""}`,children:[o.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${$.has(T.id)?"bg-primary-600 border-primary-600 text-white":"border-gray-300 bg-white"}`,children:$.has(T.id)&&o.jsx(ss,{className:"w-3 h-3"})}),o.jsx("span",{className:`text-sm font-medium truncate ${$.has(T.id)?"text-primary-900":"text-gray-700"}`,children:T.name})]},T.id))})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Question Count"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:o.jsx(g1,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"number",min:"1",max:"50",value:j.questionCount,onChange:T=>S(z=>({...z,questionCount:Math.max(1,parseInt(T.target.value)||0)})),className:"input-field pl-10 w-full",placeholder:"e.g. 5"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Time Limit (Mins)"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:o.jsx(Oo,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"number",min:"0",max:"120",value:j.timeLimit,onChange:T=>S(z=>({...z,timeLimit:Math.max(0,parseInt(T.target.value)||0)})),className:"input-field pl-10 w-full",placeholder:"e.g. 10"})]})]})]}),o.jsx("button",{onClick:Bt,disabled:_||g==="ai"&&$.size===0,className:"btn-primary w-full py-3 text-base sm:text-lg shadow-sm flex justify-center items-center",children:_?o.jsxs(o.Fragment,{children:[o.jsx(Fe,{className:"w-5 h-5 animate-spin mr-2"}),"Preparing Quiz..."]}):o.jsxs(o.Fragment,{children:[g==="ai"?o.jsx(kr,{className:"w-5 h-5 mr-2"}):o.jsx(k1,{className:"w-5 h-5 mr-2"}),"Start ",g==="official"?"Official":"AI"," Session"]})})]})]}):_?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx(Fe,{className:"w-12 h-12 animate-spin text-primary-600 mb-4"}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Constructing Quiz..."}),o.jsx("p",{className:"text-sm sm:text-base text-gray-500 mt-2 max-w-md px-4",children:"Retrieving data and preparing your session..."})]}):!U&&!l?o.jsx("div",{className:"max-w-2xl mx-auto text-center pt-4 sm:pt-8",children:o.jsx(Fe,{className:"w-10 h-10 mx-auto animate-spin text-primary-500"})}):l?o.jsxs("div",{className:"max-w-4xl mx-auto pb-8 sm:pb-12",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Quiz Results"})}),o.jsxs("div",{className:"card text-center mb-6 p-4 sm:p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(Ic,{className:`w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 ${ft()}`}),o.jsxs("h2",{className:`text-2xl sm:text-4xl font-bold mb-2 ${ft()}`,children:[c," / ",t.length]}),o.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:[Math.round(c/t.length*100),"% Correct"]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 sm:p-5 rounded-lg text-left border border-blue-100",children:[o.jsxs("h3",{className:"text-sm font-bold text-blue-900 uppercase tracking-wide mb-2 flex items-center",children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"AI Coach Feedback"]}),nt?o.jsxs("div",{className:"flex items-center py-2 text-blue-700",children:[o.jsx(Fe,{className:"w-4 h-4 animate-spin mr-2"}),o.jsx("span",{className:"text-sm sm:text-base",children:"Analyzing performance..."})]}):o.jsx("div",{className:"prose prose-sm text-blue-800 whitespace-pre-wrap leading-relaxed text-sm sm:text-base",children:Sa})]})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 px-1 text-base sm:text-lg",children:"Detailed Review"}),t.map((T,z)=>{var we;const te=y[z],xe=ja(te,T.correct_answer,T.type);return o.jsx("div",{className:`p-4 sm:p-5 border-2 rounded-xl ${xe?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`mt-1 flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${xe?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}`,children:xe?o.jsx(ss,{className:"w-4 h-4"}):o.jsx("span",{className:"text-xs font-bold",children:""})}),o.jsxs("div",{className:"flex-1 w-full",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-70 mb-1 block",children:T.type.replace("_"," ")}),o.jsxs("p",{className:"font-bold text-gray-900 text-base sm:text-lg",children:[z+1,". ",T.question]})]}),T.image_path&&o.jsx("div",{className:"my-4 bg-white/60 p-2 rounded border border-gray-300/50 flex justify-center",children:o.jsx("img",{src:`https://img.fs-quiz.eu/${T.image_path}`,className:"max-h-48 object-contain",alt:"Question Diagram"})}),T.type==="input"?o.jsxs("div",{className:"bg-white/50 p-2 sm:p-3 rounded-lg mb-3 border border-gray-200",children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-bold text-gray-600",children:"Your Answer:"})," ",o.jsx("span",{className:"font-mono",children:te||""})]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-bold text-gray-600",children:"Correct Answer:"})," ",o.jsx("span",{className:"font-mono text-green-700",children:T.correct_answer})]})]}):o.jsx("div",{className:"space-y-1 sm:space-y-2 mb-4",children:(we=T.options)==null?void 0:we.map((He,fe)=>{let Pe="bg-white text-gray-600 border-gray-200";const w=Array.isArray(te)?te.includes(fe):te===fe,A=Array.isArray(T.correct_answer)?T.correct_answer.includes(fe):T.correct_answer===fe;return A?Pe="bg-green-100 text-green-900 border-green-300 font-bold":w&&!A&&(Pe="bg-red-100 text-red-900 border-red-300 line-through"),o.jsxs("div",{className:`p-2 sm:p-3 rounded-lg border text-sm flex justify-between items-center ${Pe}`,children:[o.jsxs("span",{children:[String.fromCharCode(65+fe),". ",He]}),A&&o.jsx(ss,{className:"w-4 h-4"})]},fe)})}),o.jsxs("div",{className:"text-sm text-gray-700 bg-white/60 p-2 sm:p-3 rounded border border-gray-200/50",children:[o.jsx("span",{className:"font-bold text-gray-900 block mb-1",children:"Explanation:"}),T.explanation]})]})]})},T.id)})]}),o.jsx("div",{className:"mt-8 flex justify-center",children:o.jsx("button",{onClick:_e,className:"btn-primary shadow-lg px-8 sm:px-10 py-3 text-base sm:text-lg rounded-full",children:"Start New Session"})})]}):o.jsxs("div",{className:"max-w-4xl mx-auto pt-4 sm:pt-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-2 sm:space-y-0",children:[o.jsxs("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:["Question ",n+1," of ",t.length]}),j.timeLimit>0&&o.jsxs("div",{className:`flex items-center space-x-2 px-4 py-2 rounded-lg border ${E<60?"bg-red-50 border-red-200 text-red-600 animate-pulse":"bg-white border-gray-200 text-gray-700"}`,children:[o.jsx(Oo,{className:"w-4 h-4"}),o.jsx("span",{className:"font-mono font-bold text-base sm:text-lg",children:qt(E)})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-8",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${(n+1)/t.length*100}%`}})}),o.jsxs("div",{className:"card p-4 sm:p-6 lg:p-8 shadow-lg",children:[o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-600 uppercase tracking-wider",children:G.type.replace("_"," ")})}),o.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mb-6 sm:mb-8 leading-snug",children:G.question}),G.image_path&&o.jsx("div",{className:"mb-8 flex justify-center bg-gray-50 p-4 rounded-xl border border-gray-100",children:o.jsx("img",{src:`https://img.fs-quiz.eu/${G.image_path}`,alt:"Question Diagram",className:"max-h-80 object-contain rounded",onError:T=>T.currentTarget.style.display="none"})}),st(),o.jsx("div",{className:"mt-6 sm:mt-10 pt-4 sm:pt-6 border-t border-gray-100 flex justify-end",children:o.jsx("button",{onClick:je,disabled:i===null||Array.isArray(i)&&i.length===0||typeof i=="string"&&i.trim()==="",className:"btn-primary px-6 sm:px-8 py-3 text-base sm:text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-transform active:scale-95",children:ce?"Submit Quiz":"Next Question"})})]})]})}function hw(){var fe,Pe;const{user:e}=an(),[t,a]=C.useState([]),[n,s]=C.useState(null),[i,r]=C.useState([]),[l,u]=C.useState(!1),[c,h]=C.useState(!1),[y,f]=C.useState(""),[m,b]=C.useState(""),[_,x]=C.useState(!1),[p,d]=C.useState(!1),[g,v]=C.useState(null),[j,S]=C.useState(null),[E,R]=C.useState(1),[U,V]=C.useState(0),[Oe,Le]=C.useState(!1),[Sa,aa]=C.useState(new Set),[nt,k]=C.useState({numTeams:2,questionsPerTeam:10,timePerQuestion:60});C.useEffect(()=>{$();const w=localStorage.getItem("selectedDocuments");w&&aa(new Set(JSON.parse(w)))},[]),C.useEffect(()=>{if(n){Q();const w=O();return()=>{w&&w()}}},[n==null?void 0:n.id]),C.useEffect(()=>{!n||!e||n.room_status!=="in_progress"||n.created_by===e.id&&n.team_questions&&Object.keys(n.team_questions).length>0&&Bt()},[n,i]),C.useEffect(()=>{let w;return Oe&&U>0&&(w=setInterval(()=>{V(A=>A<=1?(Lt(),0):A-1)},1e3)),()=>clearInterval(w)},[Oe,U]);const $=async()=>{try{const{data:w,error:A}=await Y.from("team_rooms").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(A)throw A;a(w||[])}catch(w){console.error("Error fetching rooms:",w)}},Q=async()=>{if(n)try{const{data:w,error:A}=await Y.from("room_participants").select("*").eq("room_id",n.id);if(A)throw A;r(w||[])}catch(w){console.error("Error fetching participants:",w)}},O=()=>{if(!n)return;const w=Y.channel(`room-updates-${n.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"team_rooms",filter:`id=eq.${n.id}`},A=>{if(A.new){const M=A.new;s(J=>{if(!J)return M;const P=M.team_questions&&Object.keys(M.team_questions).length>0?M.team_questions:J.team_questions,it=M.feedback||J.feedback,Ce={...M,team_questions:P,feedback:it},Dn=J.current_question,Gt=Ce.current_question;return((Dn==null?void 0:Dn.question)!==(Gt==null?void 0:Gt.question)||Ce.current_turn_team_id!==J.current_turn_team_id)&&S(null),Ce.room_status==="in_progress"?(Ce.current_turn_team_id!==J.current_turn_team_id||Ce.current_question_index!==J.current_question_index)&&(V(Ce.time_per_question),Le(!0)):Le(!1),Ce})}}).on("postgres_changes",{event:"DELETE",schema:"public",table:"team_rooms",filter:`id=eq.${n.id}`},()=>{alert("The room has been closed by the host."),s(null),r([]),$()}).on("postgres_changes",{event:"*",schema:"public",table:"room_participants",filter:`room_id=eq.${n.id}`},()=>{Q()}).subscribe();return()=>{w.unsubscribe()}},D=async()=>{if(!(!y.trim()||!e)){x(!0);try{const w=Math.random().toString(36).substring(2,8).toUpperCase(),{data:A,error:M}=await Y.from("team_rooms").insert({name:y.trim(),code:w,created_by:e.id,is_active:!0,num_teams:2,questions_per_team:nt.questionsPerTeam,time_per_question:nt.timePerQuestion,current_turn_team_id:1,current_question_index:0,team_questions:{},team_scores:{},room_status:"lobby",current_question:null,current_answers:{},feedback:null}).select().single();if(M)throw M;await Y.from("room_participants").insert({room_id:A.id,user_id:e.id,user_email:e.email||"",team_number:1}),s(A),u(!1),f(""),$()}catch(w){console.error("Error creating room:",w)}finally{x(!1)}}},G=async w=>{if(e&&window.confirm("Are you sure?")){x(!0);try{await Y.from("team_rooms").delete().eq("id",w).eq("created_by",e.id),a(A=>A.filter(M=>M.id!==w)),(n==null?void 0:n.id)===w&&(s(null),r([]))}catch(A){console.error("Error deleting room:",A)}finally{x(!1)}}},ce=async()=>{if(!(!m.trim()||!e)){x(!0);try{const{data:w,error:A}=await Y.from("team_rooms").select("*").eq("code",m.trim().toUpperCase()).eq("is_active",!0).single();if(A)throw new Error("Room not found");const{data:M}=await Y.from("room_participants").select("*").eq("room_id",w.id).eq("user_id",e.id).maybeSingle();if(!M){v(w.id),d(!0),x(!1);return}s(w),h(!1),b("")}catch(w){alert(w.message)}finally{x(!1)}}},re=async w=>{if(!(!g||!e)){x(!0);try{await Y.from("room_participants").insert({room_id:g,user_id:e.id,user_email:e.email||"",team_number:w});const{data:A}=await Y.from("team_rooms").select("*").eq("id",g).single();s(A),h(!1),d(!1),v(null),b("")}catch(A){console.error("Error joining room:",A),alert("Failed to join room")}finally{x(!1)}}},ve=async()=>{if(!(!n||!e))try{await Y.from("room_participants").delete().eq("room_id",n.id).eq("user_id",e.id),s(null),r([]),S(null),Le(!1)}catch(w){console.error(w)}},_e=async()=>{if(!(!n||n.created_by!==(e==null?void 0:e.id))){x(!0);try{const w=2*n.questions_per_team,{data:A,error:M}=await Y.functions.invoke("generate-quiz",{body:{count:w,selectedDocuments:Array.from(Sa)}});if(M)throw M;const J={},P={1:0,2:0};J[1]=A.questions.slice(0,n.questions_per_team),J[2]=A.questions.slice(n.questions_per_team,w);const it={...J[1][0],owner_team_id:1};await Y.from("team_rooms").update({room_status:"in_progress",team_questions:J,team_scores:P,current_turn_team_id:1,current_question_index:0,current_question:it,current_answers:{},feedback:null}).eq("id",n.id),s(Ce=>Ce?{...Ce,room_status:"in_progress",team_questions:J,current_question:it}:null),V(n.time_per_question),Le(!0)}catch(w){alert(`Error: ${w.message}`)}finally{x(!1)}}},qt=async()=>{var w;if(!(!n||!e||j===null))try{const A=n.current_answers||{};A[e.id]={answer:j,user_email:e.email,team_number:(w=i.find(M=>M.user_id===e.id))==null?void 0:w.team_number},await Y.from("team_rooms").update({current_answers:A}).eq("id",n.id)}catch(A){console.error(A)}},ft=w=>{if(z||!T)return;const A=Array.isArray(j)?j:[];let M;A.includes(w)?M=A.filter(J=>J!==w):M=[...A,w].sort((J,P)=>J-P),S(M)},Bt=async()=>{var J;if(!n)return;const w=i.filter(P=>P.team_number===n.current_turn_team_id);if(w.length===0)return;const A=n.current_answers||{},M=w.map(P=>A[P.user_id]).filter(P=>P!==void 0);if(M.length===w.length&&M.length>0){const P=(J=M[0])==null?void 0:J.answer;M.every(Ce=>Array.isArray(Ce.answer)&&Array.isArray(P)?JSON.stringify([...Ce.answer].sort())===JSON.stringify([...P].sort()):typeof Ce.answer=="string"?String(Ce.answer).trim().toLowerCase()===String(P).trim().toLowerCase():Ce.answer==P)&&(console.log(" Consensus reached"),setTimeout(()=>Me(P),1e3))}},Me=async w=>{if(!n||n.created_by!==(e==null?void 0:e.id)||!n.team_questions)return;const A=n.current_question;if(A)try{const M=n.current_turn_team_id,J=A.correct_answer,P=A.type;let it=!1;if(P==="single_choice")it=Number(w)===Number(J);else if(P==="multi_choice"){const Nt=Array.isArray(w)?w.sort().toString():"",rn=Array.isArray(J)?J.sort().toString():"";it=Nt===rn}else it=String(w).trim().toLowerCase()===String(J).trim().toLowerCase();const Ce=A.owner_team_id||M,Dn=M!==Ce;let Gt=M,nn=n.current_question_index,sn=null;const Ms={...n.team_scores};it?(Ms[M]=(Ms[M]||0)+1,Dn?(Gt=M,nn++):(Gt=M%2+1,M===2&&nn++),sn=$t(n.team_questions,Gt,nn)):Dn?(Gt=Ce,nn++,sn=$t(n.team_questions,Gt,nn)):(Gt=M%2+1,sn=A),nn>=n.questions_per_team?(await Y.from("team_rooms").update({room_status:"finished",team_scores:Ms,current_answers:{},updated_at:new Date().toISOString()}).eq("id",n.id),Y.functions.invoke("generate-feedback",{body:{mode:"team",scores:Ms,questions:n.team_questions}}).then(({data:Nt,error:rn})=>{if(console.log("Feedback response:",{data:Nt,error:rn}),rn){console.error("Feedback generation error:",rn);const Ul={summary:"Game completed successfully!",strengths:["Completed the team challenge","Demonstrated Formula Student knowledge"],weak_points:["Continue studying regulations","Practice technical problems"],detailed_analysis:"Both teams showed good effort in this Formula Student quiz challenge. Keep practicing with the rulebook and technical materials.",feedback:"Great job completing the team challenge! Keep studying to improve your Formula Student knowledge."};return Y.from("team_rooms").update({feedback:Ul}).eq("id",n.id)}else{if(Nt)return Y.from("team_rooms").update({feedback:Nt}).eq("id",n.id);{console.warn("No data received from feedback function");const Ul={summary:"Game completed successfully!",strengths:["Completed the team challenge","Demonstrated Formula Student knowledge"],weak_points:["Continue studying regulations","Practice technical problems"],detailed_analysis:"Both teams showed good effort in this Formula Student quiz challenge. Keep practicing with the rulebook and technical materials.",feedback:"Great job completing the team challenge! Keep studying to improve your Formula Student knowledge."};return Y.from("team_rooms").update({feedback:Ul}).eq("id",n.id)}}}).then(Nt=>{Nt!=null&&Nt.error?console.error("Error updating room with feedback:",Nt.error):console.log("Feedback successfully saved to room")}).catch(Nt=>{console.error("Feedback generation failed:",Nt);const rn={summary:"Game completed successfully!",strengths:["Completed the team challenge","Demonstrated Formula Student knowledge"],weak_points:["Continue studying regulations","Practice technical problems"],detailed_analysis:"Both teams showed good effort in this Formula Student quiz challenge. Keep practicing with the rulebook and technical materials.",feedback:"Great job completing the team challenge! Keep studying to improve your Formula Student knowledge."};Y.from("team_rooms").update({feedback:rn}).eq("id",n.id)})):(sn&&!sn.owner_team_id&&(sn.owner_team_id=Ce),await Y.from("team_rooms").update({current_turn_team_id:Gt,current_question_index:nn,current_question:sn||null,current_answers:{},team_scores:Ms}).eq("id",n.id))}catch(M){console.error(M)}},$t=(w,A,M)=>{const P=(w[A.toString()]||[])[M];return P?{...P,owner_team_id:A}:null},Lt=async()=>{Le(!1),(e==null?void 0:e.id)===(n==null?void 0:n.created_by)&&await Me("PASS")},Ht=w=>{const A=Math.floor(w/60),M=w%60;return`${A}:${M.toString().padStart(2,"0")}`},ja=(n==null?void 0:n.created_by)===(e==null?void 0:e.id),je=n==null?void 0:n.current_question,Ea=(n==null?void 0:n.current_answers)||{},st=i.find(w=>w.user_id===(e==null?void 0:e.id)),T=(st==null?void 0:st.team_number)===(n==null?void 0:n.current_turn_team_id),z=(e==null?void 0:e.id)&&Ea[e.id],te=je&&je.owner_team_id&&je.owner_team_id!==(n==null?void 0:n.current_turn_team_id),xe=i.filter(w=>w.team_number===(n==null?void 0:n.current_turn_team_id)),we=xe.map(w=>Ea[w.user_id]).filter(w=>w!==void 0),He=we.length===xe.length&&we.length>0&&we.every(w=>{var A,M,J;return Array.isArray(w.answer)&&Array.isArray((A=we[0])==null?void 0:A.answer)?JSON.stringify(w.answer.sort())===JSON.stringify((M=we[0])==null?void 0:M.answer.sort()):String(w.answer).toLowerCase()==String((J=we[0])==null?void 0:J.answer).toLowerCase()});if((n==null?void 0:n.room_status)==="finished"){const w=Object.entries(n.team_scores||{}).sort(([,A],[,M])=>M-A);return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 px-4",children:[o.jsx("div",{className:"text-center",children:o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Game Finished!"})}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Results"}),w.map(([A,M],J)=>o.jsx("div",{className:`p-4 rounded-lg border-2 mb-4 ${J===0?"border-yellow-400 bg-yellow-50":"border-gray-200"}`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold",children:["Team ",A]}),o.jsxs("span",{className:"text-2xl",children:[M," pts"]})]})},A))]}),o.jsxs("div",{className:"card border-blue-200 bg-blue-50",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(K1,{className:"w-5 h-5 text-blue-600"}),o.jsx("h3",{className:"font-semibold text-blue-900",children:"AI Analysis"})]}),n.feedback?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-white p-4 rounded-lg",children:o.jsx("p",{children:n.feedback.summary})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-green-50 p-4 border-green-100 rounded",children:[o.jsx("h4",{className:"font-bold text-green-900",children:"Strengths"}),o.jsx("ul",{className:"list-disc pl-4 text-green-800 text-sm",children:(fe=n.feedback.strengths)==null?void 0:fe.map(A=>o.jsx("li",{children:A},A))})]}),o.jsxs("div",{className:"bg-red-50 p-4 border-red-100 rounded",children:[o.jsx("h4",{className:"font-bold text-red-900",children:"Weak Points"}),o.jsx("ul",{className:"list-disc pl-4 text-red-800 text-sm",children:(Pe=n.feedback.weak_points)==null?void 0:Pe.map(A=>o.jsx("li",{children:A},A))})]})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Fe,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"}),o.jsx("p",{children:"Generating feedback..."})]})]}),o.jsxs("div",{className:"text-center space-x-4",children:[o.jsx("button",{onClick:ve,className:"btn-primary",children:"Leave"}),ja&&o.jsx("button",{onClick:()=>G(n.id),className:"btn-secondary text-red-600",children:"Delete"})]})]})}return n&&n.room_status==="in_progress"?o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 px-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:n.name}),o.jsxs("p",{children:["Code: ",o.jsx("span",{className:"font-mono font-bold",children:n.code})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:ve,className:"btn-secondary",children:"Leave"}),o.jsx("button",{onClick:()=>{n&&Y.from("team_rooms").select("*").eq("id",n.id).single().then(({data:w})=>w&&s(w))},className:"btn-secondary",children:o.jsx(U1,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[o.jsxs("div",{className:"flex space-x-6 text-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:["Team ",n.current_turn_team_id]}),o.jsx("div",{className:"text-sm text-gray-600",children:te?o.jsx("span",{className:"text-orange-500 font-bold",children:"STEAL!"}):"Current Turn"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[n.current_question_index+1,"/",n.questions_per_team]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Round"})]})]}),U>0?o.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[o.jsx(F1,{className:U<10?"text-red-600":"text-primary-600"}),o.jsx("span",{className:`text-2xl font-mono font-bold ${U<10?"text-red-600":"text-primary-600"}`,children:Ht(U)})]}):o.jsx("span",{className:"text-red-600 font-bold mt-4 sm:mt-0",children:"Time's Up!"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"card p-8",children:je?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-600 uppercase tracking-wider",children:je.type==="input"?"Numerical / Input":je.type.replace("_"," ")}),!T&&o.jsx("div",{className:"mt-2 text-center p-2 bg-gray-100 rounded text-sm text-gray-600",children:"Waiting for opponents..."})]}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-8",children:je.question}),(je.type==="single_choice"||je.type==="multiple_choice")&&je.options&&o.jsx("div",{className:"space-y-3",children:je.options.map((w,A)=>o.jsx("button",{onClick:()=>T&&!z&&S(A),disabled:!T||z,className:`w-full text-left p-4 border-2 rounded-xl transition-all ${j===A?"border-primary-600 bg-primary-50 shadow-sm":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"} ${!T||z?"cursor-not-allowed opacity-80":""}`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center mr-4 ${j===A?"border-primary-600 bg-primary-600 text-white":"border-gray-300 text-gray-500"}`,children:String.fromCharCode(65+A)}),o.jsx("span",{className:`font-medium ${j===A?"text-primary-900":"text-gray-700"}`,children:w})]}),o.jsx("div",{className:"flex space-x-1",children:we.filter(M=>M.answer===A).map((M,J)=>o.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"},J))})]})},A))}),je.type==="multi_choice"&&je.options&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-500 font-medium mb-2 uppercase tracking-wide",children:"Select all that apply:"}),je.options.map((w,A)=>{const M=(Array.isArray(j)?j:[]).includes(A);return o.jsx("button",{onClick:()=>ft(A),disabled:!T||z,className:`w-full text-left p-4 border-2 rounded-xl transition-all ${M?"border-primary-600 bg-primary-50 shadow-sm":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"} ${!T||z?"cursor-not-allowed opacity-80":""}`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`mr-4 ${M?"text-primary-600":"text-gray-300"}`,children:M?o.jsx(X1,{className:"w-6 h-6"}):o.jsx(P1,{className:"w-6 h-6"})}),o.jsx("span",{className:`font-medium ${M?"text-primary-900":"text-gray-700"}`,children:w})]}),o.jsx("div",{className:"flex space-x-1",children:we.filter(J=>Array.isArray(J.answer)&&J.answer.includes(A)).map((J,P)=>o.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"},P))})]})},A)})]}),(je.type==="input"||je.type==="numerical")&&o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Enter your answer:"}),o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:o.jsx(aw,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",className:"block w-full rounded-lg border-2 border-gray-300 pl-10 py-3 text-lg focus:border-primary-500 focus:ring-primary-500 transition-colors",placeholder:"e.g. 12.34 or Answer",value:typeof j=="string"?j:"",onChange:w=>T&&!z&&S(w.target.value),disabled:!T||z})]}),we.length>0&&o.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Teammates typed:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:we.map((w,A)=>o.jsx("span",{className:"px-2 py-1 bg-white border border-gray-300 rounded text-sm font-mono text-gray-700 shadow-sm",children:String(w.answer)},A))})]})]}),o.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100",children:T?o.jsx(o.Fragment,{children:z?o.jsxs("div",{className:"flex items-center justify-center p-3 bg-green-50 text-green-700 rounded-lg border border-green-200",children:[o.jsx(vy,{className:"w-5 h-5 mr-2"})," Answer Submitted. Waiting for team..."]}):o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[o.jsx("span",{children:"Consensus Progress:"}),o.jsxs("span",{className:"font-bold",children:[we.length," / ",xe.length]})]}),He&&o.jsxs("div",{className:"text-center text-green-600 font-bold flex items-center justify-center",children:[o.jsx(fl,{className:"w-4 h-4 mr-2"})," Consensus Reached!"]}),o.jsxs("button",{onClick:qt,disabled:j===null||typeof j=="string"&&j.trim()==="",className:"btn-primary w-full py-3 text-lg shadow-sm",children:[o.jsx(py,{className:"w-5 h-5 mr-2"})," Submit Answer"]})]})}):o.jsx("div",{className:"text-center text-gray-500 italic",children:"Spectating..."})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Fe,{className:"w-10 h-10 animate-spin mx-auto text-primary-500"}),o.jsx("p",{className:"mt-4",children:"Loading Question..."})]})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"font-bold mb-4",children:"Scores"}),[1,2].map(w=>o.jsxs("div",{className:`p-3 rounded border mb-2 flex justify-between ${w===n.current_turn_team_id?"bg-primary-50 border-primary-200":""}`,children:[o.jsxs("span",{children:["Team ",w]}),o.jsx("span",{className:"font-bold",children:n.team_scores[w]||0})]},w))]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"font-bold mb-4",children:"Participants"}),o.jsx("div",{className:"space-y-2",children:i.map(w=>o.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[w.user_id===n.created_by&&o.jsx(Ci,{className:"w-3 h-3 text-yellow-500"}),o.jsx("span",{className:"truncate max-w-[120px]",children:w.user_email})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"px-2 py-0.5 bg-gray-200 rounded text-xs",children:["T",w.team_number]}),je&&w.team_number===n.current_turn_team_id&&(Ea[w.user_id]?o.jsx(fl,{className:"w-4 h-4 text-green-500"}):o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300"}))]})]},w.id))})]})]})]})]}):n&&n.room_status==="lobby"?o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 px-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:n.name}),o.jsxs("p",{children:["Code: ",n.code]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:ve,className:"btn-secondary",children:"Leave"}),ja&&o.jsx("button",{onClick:()=>G(n.id),className:"btn-secondary text-red-600",children:"Delete"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"font-bold mb-4",children:"Settings"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Questions/Team:"}),o.jsx("b",{children:n.questions_per_team})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Time:"}),o.jsxs("b",{children:[n.time_per_question,"s"]})]})]}),ja&&o.jsx("button",{onClick:_e,disabled:_||i.length<2,className:"btn-primary w-full mt-6",children:_?o.jsx(Fe,{className:"animate-spin w-4 h-4 mx-auto"}):"Start Game"})]}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"font-bold mb-4",children:["Players (",i.length,")"]}),[1,2].map(w=>o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase",children:["Team ",w]}),i.filter(A=>A.team_number===w).map(A=>o.jsx("div",{className:"text-sm py-1",children:A.user_email},A.id))]},w))]})]})]}):o.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Team Challenge"}),p&&o.jsx("div",{className:"fixed inset-0 bg-gray-900/50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Select Your Team"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Choose which team you'd like to join for this challenge."}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("button",{onClick:()=>re(1),disabled:_,className:"p-4 border-2 border-primary-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600 mb-2",children:"Team 1"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Join Team 1"})]}),o.jsxs("button",{onClick:()=>re(2),disabled:_,className:"p-4 border-2 border-green-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600 mb-2",children:"Team 2"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Join Team 2"})]})]}),o.jsx("button",{onClick:()=>{d(!1),v(null),h(!1)},className:"btn-secondary w-full",disabled:_,children:"Cancel"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(D1,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-600"})}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2",children:"Create Room"}),l?o.jsxs("div",{className:"space-y-3 sm:space-y-4 text-left",children:[o.jsx("input",{type:"text",placeholder:"Room Name",value:y,onChange:w=>f(w.target.value),className:"input-field"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Questions"}),o.jsx("input",{type:"number",className:"input-field",value:nt.questionsPerTeam,onChange:w=>k({...nt,questionsPerTeam:+w.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Time (s)"}),o.jsx("select",{className:"input-field",value:nt.timePerQuestion,onChange:w=>k({...nt,timePerQuestion:+w.target.value}),children:[30,60,90,120].map(w=>o.jsx("option",{value:w,children:w},w))})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsx("button",{onClick:D,className:"btn-primary flex-1",children:"Create"}),o.jsx("button",{onClick:()=>u(!1),className:"btn-secondary",children:"Cancel"})]})]}):o.jsx("button",{onClick:()=>u(!0),className:"btn-primary",children:"Create"})]}),o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(S1,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2",children:"Join Room"}),c?o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsx("input",{type:"text",placeholder:"CODE",value:m,onChange:w=>b(w.target.value.toUpperCase()),className:"input-field text-center font-mono uppercase"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsx("button",{onClick:ce,className:"btn-primary flex-1",children:"Join"}),o.jsx("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"})]})]}):o.jsx("button",{onClick:()=>h(!0),className:"btn-primary",children:"Join"})]})]}),t.length>0&&o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-base sm:text-lg font-bold mb-4",children:"Active Rooms"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:t.map(w=>o.jsxs("div",{className:"p-3 sm:p-4 border rounded hover:bg-gray-50 relative",children:[(e==null?void 0:e.id)===w.created_by&&o.jsx("button",{onClick:A=>{A.stopPropagation(),G(w.id)},className:"absolute top-2 right-2 text-gray-400 hover:text-red-600",children:o.jsx(Pc,{className:"w-4 h-4"})}),o.jsx("h3",{className:"font-medium text-sm sm:text-base truncate pr-6",children:w.name}),o.jsx("button",{onClick:()=>{b(w.code),h(!0)},className:"btn-secondary w-full mt-2 text-sm",children:"Join"})]},w.id))})]})]})}function fw(){const{user:e,isAdmin:t}=an(),[a,n]=C.useState([]),[s,i]=C.useState(!0),[r,l]=C.useState(null),[u,c]=C.useState(null),[h,y]=C.useState(""),[f,m]=C.useState(null),[b,_]=C.useState("");C.useEffect(()=>{t&&x()},[t]);const x=async()=>{try{const{data:S,error:E}=await Y.from("users").select("*").order("created_at",{ascending:!1});if(E)throw E;n(S||[])}catch(S){console.error("Error fetching users:",S),p("error","Failed to fetch users")}finally{i(!1)}},p=(S,E)=>{c({type:S,text:E}),setTimeout(()=>c(null),5e3)},d=async(S,E)=>{if(S===(e==null?void 0:e.id)){p("error","You cannot change your own admin status");return}l(S);try{const{error:R}=await Y.from("users").update({is_admin:!E}).eq("id",S);if(R)throw R;await x(),p("success",`User ${E?"removed":"granted"} admin privileges`)}catch(R){console.error("Error updating admin role:",R),p("error","Failed to update admin role")}finally{l(null)}},g=async(S,E)=>{if(S===(e==null?void 0:e.id)){p("error","You cannot delete your own account");return}if(confirm(`Are you sure you want to delete user "${E}"? This action cannot be undone.`)){l(S);try{const{error:R}=await Y.auth.admin.deleteUser(S);if(R)throw R;await x(),p("success","User deleted successfully")}catch(R){console.error("Error deleting user:",R),p("error","Failed to delete user")}finally{l(null)}}},v=async S=>{if(!b||b.length<6){p("error","Password must be at least 6 characters long");return}l(S);try{const{error:E}=await Y.auth.admin.updateUserById(S,{password:b});if(E)throw E;m(null),_(""),p("success","Password updated successfully")}catch(E){console.error("Error changing password:",E),p("error","Failed to change password")}finally{l(null)}},j=a.filter(S=>S.email.toLowerCase().includes(h.toLowerCase()));return t?s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Fe,{className:"w-8 h-8 animate-spin text-primary-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[o.jsx(Ci,{className:"w-8 h-8 text-yellow-500 mr-3"}),"Admin Panel"]}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage users and system settings"})]})}),u&&o.jsxs("div",{className:`p-4 rounded-lg flex items-start space-x-2 ${u.type==="success"?"bg-success-50 border border-success-200":"bg-danger-50 border border-danger-200"}`,children:[u.type==="success"?o.jsx(fl,{className:"w-5 h-5 text-success-600 flex-shrink-0 mt-0.5"}):o.jsx(hl,{className:"w-5 h-5 text-danger-600 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:`text-sm ${u.type==="success"?"text-success-700":"text-danger-700"}`,children:u.text})]}),f&&o.jsx("div",{className:"fixed inset-0 bg-gray-900/50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(tf,{className:"w-5 h-5 mr-2"}),"Change Password"]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter a new password for this user:"}),o.jsx("input",{type:"password",value:b,onChange:S=>_(S.target.value),placeholder:"New password (min 6 characters)",className:"input-field mb-4",minLength:6}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>v(f),disabled:r===f||!b,className:"btn-primary flex-1",children:r===f?o.jsx(Fe,{className:"w-4 h-4 animate-spin mx-auto"}):"Update Password"}),o.jsx("button",{onClick:()=>{m(null),_("")},className:"btn-secondary",disabled:r===f,children:"Cancel"})]})]})}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[o.jsx($u,{className:"w-5 h-5 mr-2"}),"User Management (",a.length,")"]}),o.jsxs("div",{className:"relative",children:[o.jsx(q1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search users...",value:h,onChange:S=>y(S.target.value),className:"input-field pl-10 w-64"})]})]}),j.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx($u,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"No users found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"User"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Role"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Joined"}),o.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{children:j.map(S=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx("span",{className:"text-primary-700 font-medium text-sm",children:S.email.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[S.email,S.id===(e==null?void 0:e.id)&&o.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:"You"})]}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(yy,{className:"w-3 h-3 mr-1"}),S.email]})]})]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsx("div",{className:"flex items-center",children:S.is_admin?o.jsxs("div",{className:"flex items-center text-yellow-600",children:[o.jsx(Ci,{className:"w-4 h-4 mr-1"}),o.jsx("span",{className:"font-medium",children:"Admin"})]}):o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(vy,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:"User"})]})})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[o.jsx(Fx,{className:"w-3 h-3 mr-1"}),new Date(S.created_at).toLocaleDateString()]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[o.jsx("button",{onClick:()=>d(S.id,S.is_admin),disabled:r===S.id||S.id===(e==null?void 0:e.id),className:`p-2 rounded-lg transition-colors ${S.is_admin?"text-yellow-600 hover:bg-yellow-50":"text-gray-600 hover:bg-gray-100"}`,title:S.is_admin?"Remove admin role":"Grant admin role",children:r===S.id?o.jsx(Fe,{className:"w-4 h-4 animate-spin"}):S.is_admin?o.jsx(G1,{className:"w-4 h-4"}):o.jsx(Q1,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>m(S.id),disabled:r===S.id,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Change password",children:o.jsx(tf,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g(S.id,S.email),disabled:r===S.id||S.id===(e==null?void 0:e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete user",children:r===S.id?o.jsx(Fe,{className:"w-4 h-4 animate-spin"}):o.jsx(Pc,{className:"w-4 h-4"})})]})})]},S.id))})]})})]})]}):o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx(hl,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})})}function mw(){const{user:e,loading:t,isAdmin:a}=an(),[n,s]=C.useState("documents");if(t)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Fe,{className:"w-8 h-8 animate-spin text-primary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(!e)return o.jsx(cw,{});const i=()=>{switch(n){case"documents":return a?o.jsx(nf,{}):o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:"Access restricted to administrators"})});case"chat":return o.jsx(sf,{});case"quiz":return o.jsx(dw,{});case"team":return o.jsx(hw,{});case"admin":return o.jsx(fw,{});default:return a?o.jsx(nf,{}):o.jsx(sf,{})}};return o.jsx(uw,{currentPage:n,onPageChange:s,children:i()})}function gw(){return o.jsx($x,{children:o.jsx(mw,{})})}vb.createRoot(document.getElementById("root")).render(o.jsx(yf.StrictMode,{children:o.jsx(gw,{})}));
